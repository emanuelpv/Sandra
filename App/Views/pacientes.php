<?php
//É NECESSÁRIO EM TODAS AS VIEWS

$codOrganizacao = session()->codOrganizacao;


if (session()->mensagem_sucesso !== NULL) {
    alerta(session()->mensagem_sucesso, 'success');
}
if (session()->mensagem_erro !== NULL) {
    alerta(session()->mensagem_erro, 'error');
}
if (session()->mensagem_informacao !== NULL) {
    alerta(session()->mensagem_informacao, 'info');
}
if (session()->mensagem_alerta !== NULL) {
    alerta(session()->mensagem_alerta, 'warning');
}

$verMeusPacientes = $_GET['meusPacientes'];
$verPacientesEmergencia = $_GET['pacientesEmergencia'];
$verPacientesInternados = $_GET['pacientesInternados'];

if (!empty(session()->filtroEspecialidade)) {

    if (session()->filtroEspecialidade["codEspecialista"] !== NULL) {
        $codEspecialista = session()->filtroEspecialidade["codEspecialista"];
    } else {
        $codEspecialista = null;
    }
    $codEspecialidade = session()->filtroEspecialidade["codEspecialidade"];
} else {
    $codEspecialidade = NULL;
    $codEspecialista = NULL;
}

if (session()->filtroEspecialidade["dataInicio"] !== NULL) {
    $dataInicio = session()->filtroEspecialidade["dataInicio"];
} else {
    $dataInicio = date('Y-m-d H:i');
}

if (session()->filtroEspecialidade["dataEncerramento"] !== NULL) {
    $dataEncerramento = session()->filtroEspecialidade["dataEncerramento"];
} else {
    $dataEncerramento = date('Y-m-d H:i');
}


if (empty(session()->minhasEspecialidades)) {
    $statusMinhasEspecialidades = 0;
} else {

    $statusMinhasEspecialidades = 1;

    $selectEspecialidadeAtendimento = '<div>Você atende por mais de uma especialidade. Antes de iniciar o atendimento defina por qual você irá atender.</div><select style="width:300px" id="codEspecialidadeAtendimento" name="codEspecialidadeAtendimento" class="custom-select">';

    foreach (session()->minhasEspecialidades as $minhaEspecialidade) {
        $selectEspecialidadeAtendimento .= '<option value="' . $minhaEspecialidade->codEspecialidade . '">' . $minhaEspecialidade->descricaoEspecialidade . '</option>';
    }
    $selectEspecialidadeAtendimento .= '</select>';
}


$minhasEspecialidades = session()->minhasEspecialidades;


$especialidadesSociais = array('ENFERMAGEM');
$especialidadeAuxiliar = 0;
foreach ($minhasEspecialidades as $especialidade) {
    if (in_array($especialidade->descricaoEspecialidade, $especialidadesSociais)) {
        $especialidadeAuxiliar = 1;
    }
}

?>
<!-- Main content -->

<link rel="stylesheet" href="<?php echo base_url() ?>/assets/adminlte/plugins/summernote/summernote-bs4.min.css">

<style>
    .modal {
        overflow: auto !important;
    }

    #minhaFoto {
        width: 160px;
        height: 125px;
        border: 1px solid black;
    }

    #fotoPerfilCadastro {
        width: 160px;
        height: 125px;
        border: 1px solid black;
    }

    .select2-container {
        z-index: 100000;
    }


    .swal2-container {
        z-index: 9999999;
    }
</style>

<div style="visibility:hidden" id="setEstilo"></div>

<section class="content">
    <div class="row">
        <div class="col-12">
            <div class="card">
                <div class="card-header">
                    <div class="row">
                        <div class="col-sm-8 mt-2">
                            <h3 style="font-size:30px;font-weight: bold;" class="card-title">PACIENTES</h3>
                        </div>
                        <div class="col-sm-12">
                            <div style="margin-top:10px" class="row">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <button style="margin-left:10px" type="button" class="btn btn-block btn-outline-primary btn-lg" onclick="agendadosAmbulatorio()" title="Adicionar">
                                            <div><i class="fa fa-calendar-check fa-3x" aria-hidden="true"></i></div>
                                            <div>Agendados Consultas</div>
                                        </button>
                                    </div>
                                </div>

                                <div class="col-md-4">
                                    <div class="form-group">
                                        <button style="margin-left:10px" type="button" class="btn btn-block btn-outline-primary btn-lg" onclick="agendadosAgendamentosExames()" title="Adicionar">
                                            <div><i class="fa fa-calendar-check fa-3x" aria-hidden="true"></i></div>
                                            <div>Agendados Exames</div>
                                        </button>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <button style="margin-left:10px" type="button" class="btn btn-block btn-outline-primary btn-lg" onclick="listaInternados()" title="Adicionar">
                                            <div><i class="fa fa-bed fa-3x" aria-hidden="true"></i></div>
                                            <div>Internados</div>
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <div style="margin-top:10px" class="row">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <button style="margin-left:10px" type="button" class="btn btn-block btn-outline-danger btn-lg" onclick="listaUrgenciaEmergencia()" title="Adicionar">
                                            <div><i class="fa fa-briefcase-medical fa-3x" aria-hidden="true"></i></div>
                                            <div>Urgência/Emergência</div>
                                        </button>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <button style="margin-left:10px" type="button" class="btn btn-block btn-outline-primary btn-lg" onclick="listarTodosPacientes()" title="Adicionar">
                                            <div><i class="fa fa-users fa-3x" aria-hidden="true"></i></div>
                                            <div>Todos os Pacientes</div>
                                        </button>
                                    </div>
                                </div>
                            </div>


                        </div>
                    </div>
                </div>
                <!-- /.card-header -->
                <div class="card-body">



                </div>
                <!-- /.card-body -->
            </div>
            <!-- /.card -->
        </div>
        <!-- /.col -->
    </div>
    <!-- /.row -->
</section>

<div id="addMedicamentosContinuoModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div id="print-me">
                <div class="modal-header bg-primary text-center p-3">
                    <h4 class="modal-title text-white" id="info-header-modalLabel">Medicamento Continuo</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <div class="modal-body">

                    <form id="addMedicamentosContinuoForm" class="pl-3 pr-3">
                        <input type="hidden" id="<?php echo csrf_token() ?>addMedicamentosContinuoModal" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">

                        <input type="hidden" id="codPacienteMedicamentosContinuoAdd" name="codPaciente">


                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="codMedicamentoAdd"> Tipo Alergênicos: <span class="text-danger">*</span> </label>
                                    <select id="codMedicamentoAdd" name="codMedicamento" class="custom-select" required>
                                        <option value=""></option>
                                    </select>
                                </div>
                            </div>

                        </div>

                        <div class="row">
                            <div>
                                <button type="button" class="btn btn-primary" onclick="addMedicamentoContinuo()" title="Adicionar Medicamento Continuo">Adicionar</button>
                            </div>
                        </div>
                    </form>

                </div>
            </div>
        </div>
    </div>

</div>

<div id="relatoriosPacienteModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div id="print-me">
                <div class="modal-header bg-primary text-center p-3">
                    <h4 class="modal-title text-white" id="info-header-modalLabel">RELATÓRIOS</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <div class="modal-body">

                    <div class="row">
                        <div class="col-md-4">
                            <button type="button" class="btn btn-primary" onclick="gerarProntuarioCompleto()" title="Sumário de Atendimentos">Prontuário Completo</button>
                        </div>
                    </div>


                </div>
            </div>
        </div>
    </div>

</div>




<div id="addAlergiasModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div id="print-me">
                <div class="modal-header bg-primary text-center p-3">
                    <h4 class="modal-title text-white" id="info-header-modalLabel">Adicionar Alergia</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <div class="modal-body">

                    <form id="addAlergiasForm" class="pl-3 pr-3">
                        <input type="hidden" id="<?php echo csrf_token() ?>addAlergiasModal" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">

                        <input type="hidden" id="codPacienteAlergiaAdd" name="codPaciente">


                        <div class="row">
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label for="codTipoAlergenico"> Tipo Alergênicos: <span class="text-danger">*</span> </label>
                                    <select id="codTipoAlergenicoAdd" name="codTipoAlergenico" class="custom-select" required>
                                        <option value=""></option>
                                    </select>
                                </div>
                            </div>

                            <div class="col-md-4">
                                <div class="form-group">
                                    <label for="descricaoAlergenicoAdd">Detalhe do alergênico<span class="text-danger">*</span></label>
                                    <input required="" type="text" autocomplete="off" id="descricaoAlergenicoAdd" name="descricaoAlergenico" class="form-control" placeholder="Descrição do Alergênico" maxlength="60">
                                </div>
                            </div>

                        </div>

                        <div class="row">
                            <div>
                                <button type="button" class="btn btn-primary" onclick="addAlergia()" title="Adicionar Alergia">Adicionar</button>
                            </div>
                        </div>
                    </form>

                </div>
            </div>
        </div>
    </div>

</div>



<div id="todosPacientesModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div id="print-me">
                <div class="modal-header bg-primary text-center p-3">
                    <h4 class="modal-title text-white" id="info-header-modalLabel">Todos os Pacientes</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <div class="modal-body">



                    <div class="row">
                        <div class="col-sm-8 mt-2">
                            <h3 style="font-size:30px;font-weight: bold;" class="card-title">PACIENTES</h3>
                        </div>
                        <div class="col-sm-12">
                            <div style="margin-top:10px" class="row justify-content-end">
                                <div class="col-md-3">
                                    <div class="form-group">
                                        <button style="margin-left:10px" type="button" class="btn btn-block btn-outline-primary btn-lg" onclick="addPaciente()" title="Adicionar">
                                            <div><i class="fa fa-user-plus fa-1x" aria-hidden="true"></i></div>
                                            <div>Adicionar Paciente</div>
                                        </button>
                                    </div>
                                </div>
                            </div>


                        </div>
                    </div>

                    <div style="margin-top:30px;margin-bottom:30px" class="row">
                        <div class="col-md-8 offset-md-2">
                            <div class="input-group input-group-lg">
                                <input autocomplete="off" id="pacienteFiltro" type="search" class="form-control form-control-lg" placeholder="Informe o Nome, CPF, Nº PLANO ou Nº Prontuário">
                                <div class="input-group-append">
                                    <button onclick="localizarPaciente()" class="btn btn-lg btn-default">
                                        <i class="fa fa-search"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>



                    <table id="data_tablepaciente" class="table table-striped table-hover table-sm">
                        <thead>
                            <tr>
                                <th>Código</th>
                                <th>Nome exibição</th>
                                <th>cpf</th>
                                <th>Nº Plano</th>
                                <th>Nº Prontuário</th>
                                <th>Status</th>

                                <th style="text-align:center">Ações</th>
                            </tr>
                        </thead>
                    </table>


                </div>
            </div>
        </div>
    </div>
</div>


<div id="relatoriosUrgenciaEmergenciaModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div id="print-me">
                <div class="modal-header bg-primary text-center p-3">
                    <h4 class="modal-title text-white" id="info-header-modalLabel">Relatórios</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <div class="modal-body">

                    <div class="row">

                        <div class="col-md-3">
                            <button style="width:268px;height: 63px" class="btn btn-success " onclick="pacientesAtendidosUrgenciaEmergencia()" id="Relatórios">
                                <div><i class="fas fa-chart-line" aria-hidden="true"></i></div>
                                <div>Pacientes atendidos no dia</div>
                            </button>
                        </div>

                        <div class="col-md-3">
                            <button style="width:268px;height: 63px" class="btn btn-success " onclick="medicamentosMaisPrescritosPAMO()" id="Relatórios">
                                <div><i class="fas fa-chart-line" aria-hidden="true"></i></div>
                                <div>Sumário de Medicamentos</div>
                            </button>
                        </div>

                        <div class="col-md-4">
                            <a style="width:268px;height: 63px" class="btn btn-success " href="<?php echo base_url() ?>/pacientes/medicamentosPrescritos" id="Relatórios">
                                <div><i class="fas fa-chart-line" aria-hidden="true"></i></div>
                                <div>Sumário de Medicamentos Vs Pacientes</div>
                            </a>
                        </div>
                    </div>


                </div>
            </div>
        </div>
    </div>
</div>



<div id="medicamentosMaisPrescritosPAMO" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div id="print-me">
                <div class="modal-header bg-primary text-center p-3">
                    <h4 class="modal-title text-white" id="info-header-modalLabel">Medicamentos Prescritos PAMO</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <div class="modal-body">

                    <div class="row">
                        <div class="col-md-8">
                            <div class="card card-secondary">
                                <form style="margin-bottom:10px;margin-top:10px" id="filtroMedicamentosPrescritosUrgenciaEmergenciaForm" class="pl-3 pr-3">
                                    <input type="hidden" id="<?php echo csrf_token() ?>filtroMedicamentosPrescritosUrgenciaEmergenciaForm" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">


                                    <div class="row">
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label for="dataInicioMedicamentosPrescritosUrgenciaEmergenciaAdd"> Data Início: </label>
                                                <input type="date" id="dataInicioMedicamentosPrescritosUrgenciaEmergenciaAdd" name="dataInicio" class="form-control" dateISO="true" required>
                                            </div>
                                        </div>

                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label for="dataEncerramentoMedicamentosPrescritosUrgenciaEmergenciaAdd"> Data Encerramento: </label>
                                                <input type="date" id="dataEncerramentoMedicamentosPrescritosUrgenciaEmergenciaAdd" name="dataEncerramento" class="form-control" dateISO="true" required>
                                            </div>
                                        </div>

                                        <div class="col-md-3">
                                            <button type="button" class="btn btn-primary" onclick="filtrarMedicamentosPrescritosUrgenciaEmergencia()" title="Procurar"> <i class="fas fa-filter"></i>Procurar</button>
                                        </div>

                                    </div>



                                </form>
                            </div>
                        </div>
                    </div>


                    <div class="row">
                        <div class="col-md-12">
                            <table id="data_tableMedicamentosPrescritosUrgenciaEmergencia" class="table table-striped table-hover table-sm">
                                <thead>
                                    <tr>
                                        <th>Ordem</th>
                                        <th>Medicamento</th>
                                        <th>Quantidade</th>
                                        <th></th>
                                    </tr>
                                </thead>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<div id="pacientesAtendidosUrgenciaEmergenciaModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div id="print-me">
                <div class="modal-header bg-primary text-center p-3">
                    <h4 class="modal-title text-white" id="info-header-modalLabel">Pacientes atendidos na Emergência</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <div class="modal-body">

                    <div class="row">
                        <div class="col-md-8">
                            <div class="card card-secondary">
                                <form style="margin-bottom:10px;margin-top:10px" id="filtroAtendimentosUrgenciaEmergenciaForm" class="pl-3 pr-3">
                                    <input type="hidden" id="<?php echo csrf_token() ?>filtroAtendimentosUrgenciaEmergenciaForm" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">


                                    <div class="row">
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label for="dataInicioAtendimentosUrgenciaEmergenciaAdd"> Data Início: </label>
                                                <input type="date" id="dataInicioAtendimentosUrgenciaEmergenciaAdd" name="dataInicio" class="form-control" dateISO="true" required>
                                            </div>
                                        </div>

                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label for="dataEncerramentoAtendimentosUrgenciaEmergenciaAdd"> Data Encerramento: </label>
                                                <input type="date" id="dataEncerramentoAtendimentosUrgenciaEmergenciaAdd" name="dataEncerramento" class="form-control" dateISO="true" required>
                                            </div>
                                        </div>

                                        <div class="col-md-3">
                                            <button type="button" class="btn btn-primary" onclick="filtrarPacientesAtendidosUrgenciaEmergencia()" title="Procurar"> <i class="fas fa-filter"></i>Procurar</button>
                                        </div>

                                    </div>



                                </form>
                            </div>
                        </div>
                    </div>


                    <div class="row">
                        <div class="col-md-12">
                            <table id="data_tableAtendidosUrgenciaEmergencia" class="table table-striped table-hover table-sm">
                                <thead>
                                    <tr>
                                        <th>Ordem</th>
                                        <th>Nº Plano</th>
                                        <th>Posto/Grad</th>
                                        <th>Paciente</th>
                                        <th>Idade</th>
                                        <th>Situação</th>
                                        <th>Local Atendimento</th>
                                        <th>Atendido Por</th>
                                        <th>Sintomas</th>
                                        <th></th>
                                    </tr>
                                </thead>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<div id="agendarConsultaModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div id="print-me">
                <div class="modal-header bg-primary text-center p-3">
                    <h4 class="modal-title text-white" id="info-header-modalLabel">Agendamento</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <div class="modal-body">

                    <div class="col-md-12">

                        <div class="row">
                            <div class="col-md-12 text-right">
                                <button class="btn btn-warning" onclick="profissionaisSaude()">
                                    <div><img style="width:60px" src="<?php echo base_url('/imagens/medico.png') ?>"></div>Conheça os Especialistas
                                </button>
                            </div>
                        </div>
                        <form id="filtroForm" class="pl-3 pr-3">
                            <input type="hidden" id="<?php echo csrf_token() ?>agendarConsultaModal" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">

                            <div class="row">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label for="codEspecialidadeAdd"> Especialidade: <span class="text-danger">*</span> </label>
                                        <select id="codEspecialidadeAdd" name="codEspecialidade" class="custom-select" required>
                                            <option value=""></option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label for="codEspecialistaAdd"> Especialista: <span class="text-danger">*</span> </label>
                                        <select id="codEspecialistaAdd" name="codEspecialista" class="custom-select" required>
                                            <option></option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-3">
                                    <div class="form-group">
                                        <label for="dataInicioAdd"> Data Início: </label>
                                        <input type="date" id="dataInicioAdd" name="dataInicio" class="form-control" dateISO="true" required>
                                    </div>
                                </div>

                                <div class="col-md-3">
                                    <div class="form-group">
                                        <label for="dataEncerramentoAdd"> Data Encerramento: </label>
                                        <input type="date" id="dataEncerramentoAdd" name="dataEncerramento" class="form-control" dateISO="true" required>
                                    </div>
                                </div>

                            </div>

                            <div>
                                <button type="button" class="btn btn-primary" onclick="filtrar()" title="Procurar"> <i class="fas fa-filter"></i>Procurar</button>
                            </div>



                        </form>

                    </div>

                    <div style="margin-top:10px" class="row">
                        <div class="col-sm-12">
                            <div id="slotsLivres"> </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<div id="agendarExameModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div id="print-me">
                <div class="modal-header bg-primary text-center p-3">
                    <h4 class="modal-title text-white" id="info-header-modalLabel">Exame</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <div class="modal-body">

                    <div class="col-md-12">

                        <div class="row">
                            <div class="col-md-12 text-right">
                                <button class="btn btn-warning" onclick="profissionaisSaude()">
                                    <div><img style="width:60px" src="<?php echo base_url('/imagens/medico.png') ?>"></div>Conheça os Especialistas
                                </button>
                            </div>
                        </div>
                        <form id="filtroExameForm" class="pl-3 pr-3">
                            <input type="hidden" id="<?php echo csrf_token() ?>filtroExameForm" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">

                            <div class="row">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label for="codExameListaAdd"> Especialidade: <span class="text-danger">*</span> </label>
                                        <select id="codExameListaAdd" name="codExameLista" class="custom-select" required>
                                            <option value=""></option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label for="codExameEspecialistaAdd"> Especialista: <span class="text-danger">*</span> </label>
                                        <select id="codExameEspecialistaAdd" name="codEspecialista" class="custom-select" required>
                                            <option></option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-3">
                                    <div class="form-group">
                                        <label for="dataInicioAdd"> Data Início: </label>
                                        <input type="date" id="dataInicioAdd" name="dataInicio" class="form-control" dateISO="true" required>
                                    </div>
                                </div>

                                <div class="col-md-3">
                                    <div class="form-group">
                                        <label for="dataEncerramentoAdd"> Data Encerramento: </label>
                                        <input type="date" id="dataEncerramentoAdd" name="dataEncerramento" class="form-control" dateISO="true" required>
                                    </div>
                                </div>

                            </div>

                            <div>
                                <button type="button" class="btn btn-primary" onclick="filtrarAgendamentosExames()" title="Procurar"> <i class="fas fa-filter"></i>Procurar</button>
                            </div>



                        </form>

                    </div>

                    <div style="margin-top:10px" class="row">
                        <div class="col-sm-12">
                            <div id="slotsLivresAgendamentosExames"> </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



<div id="etiquetaEmergenciaModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div id="print-me">
                <div class="modal-header bg-primary text-center p-3">
                    <h4 class="modal-title text-white" id="info-header-modalLabel">Etiqueta Emergência</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <div class="modal-body">

                    <div style='margin-left:10px; font-family:"Calibri"' id="areaImpressaoEtiquetaEmergencia">

                        <div id="imprimirEtiquetaEmergenciaAdd"></div>


                    </div>
                </div>
                <div class="modal-footer">
                </div>
            </div>

        </div>
    </div>
</div>


<div id="cartaoModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div id="print-me">
                <div class="modal-header bg-primary text-center p-3">
                    <h4 class="modal-title text-white" id="info-header-modalLabel">Cartão de Identificação</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <div class="modal-body">

                    <div style="margin-left:10px" id="areaImpressaoCartao">
                        <div style="width: 105mm important;height: 75mm important!;" class="row">
                            <div class="border col-sm-6">
                                <div style="background:blue;height: 20mm;" class="row">
                                    <div style="margin-top:8px;" class="col-sm-3">
                                        <img alt="" style="width:60px;height:60px;" src="<?php echo base_url() . "/imagens/organizacoes/" . session()->logo ?>">

                                    </div>
                                    <div style="margin-top:30px;color:#FFF;font-weight: bold;font-size:16px" class="col-sm-9">
                                        <?php echo session()->descricaoOrganizacao; ?>
                                    </div>


                                </div>
                                <div style="height: 30mm;" class="row">
                                    <div style="margin-top:8px;" class="col-sm-1">
                                        <img alt="" id="fotoPerfilCartao" style="border: double 0.2em transparent;border-radius: 30px;background-image: linear-gradient(white, white), linear-gradient(to right, #006df5, gold);background-origin: border-box;background-clip: content-box, border-box;width:100px;height:100px;">

                                    </div>
                                    <div style="margin-top:30px;color:#000;" class="col-sm-11">
                                        <div style="text-align:center;font-weight: bold;font-size:12px"><span id="nomeCompletoCartao"></span></div>
                                        <div style="text-align:center;font-size:10px">(CPF: <span id="cpfCartao"></span>)</div>
                                        <div style="text-align:center;font-size:10px"><span id="postoGraduacaoCartao"></span></div>
                                        <div style="text-align:center;font-size:10px"><span id="tipoBeneficiarioCartao"></span></div>
                                    </div>
                                </div>
                                <div style="height: 20mm;">
                                    <div style="text-align:left;font-size:14px"><b>Prontuário Nº </b>:<span id="codProntuarioCartao"></span></div>
                                    <div style="text-align:left;font-size:14px"><b>Beneficiário Nº </b>:<span id="codPlanoCartao"></span></div>
                                    <div style="text-align:left;font-size:14px"><b>Validade</b>: <span id="validadeCartao"></span></div>
                                </div>
                                <div style="background:red;height: 5mm;" class="row">
                                </div>
                            </div>
                            <div style="height: 75mm;" class="border col-sm-6">

                                <div>CARTÃO DE IDENTIFICAÇÃO</div>



                                <div id="qrcodeCartao"></div>


                                <div style="margin-top:50px" class="row">
                                    Responsável Emissão: <span id="responsavelEmissaoCartao"></span>
                                </div>
                                <div class="row">
                                    Data Emissão: <span id="dataEmissaoCartao"></span>
                                </div>

                            </div>

                        </div>

                        <div style="margin-top:20px; border-top-style: dotted;" class="row">

                        </div>
                        <div style="margin-left:10px;margin-top:20px;font-size:16px" class="row">

                        </div>
                        <div class="row">
                            <b>Prezado usuário, leia atentamente as orientações a seguir</b>:
                        </div>
                        <div class="row">
                            Este é seu cartão de identificação provisório para a localização do seu prontuário.
                        </div>

                        <div class="row">
                            Este cartão não substitue o uso do seu cartão de beneficiário, devendo ser apresentado quando solicitado.
                            Recorte a linha tracejada acima e traga-o consigo para a realização de consultas, bem como para a marcação de agendamentosExames.
                        </div>

                        <div class="row">
                            <b>PRIMEIRO ACESSO PELA INTERNET</b> (via computador, tablet ou smartphones)
                        </div>
                        <div class="row">
                            <b>IMPORTANTE</b>Deverá ser feita solicitação de acesso pelo interessado diretamente no setor de marcações para que haja a liberação. É necessário fornecer um e-mail para acessar os recurdos de marcação de consultas e agendamentosExames.
                            Recomenda-se o uso dos navegadores Google Chrome ou Firefox nas verões mais atualizadas.
                        </div>
                        <div class="row">
                            Acesse o site: <?php echo base_url() ?>

                        </div>
                        <div class="row">
                            <b>Login</b>: Seu CPF
                        </div>
                        <div class="row">
                            <b>Senha Inicial</b>: Seu nº Plano
                        </div>
                        <div class="row">

                            Para sua melhor segurança, recomendamos a troca imediata da sua senha.
                        </div>

                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn btn-primary" id="botaoImprimirCartao">Imprimir</button>
                    <button class="btn" data-dismiss="modal" aria-hidden="true">Fechar</button>
                </div>
            </div>

        </div>
    </div>
</div>

<div style="width:500px" id="confirmacaoDesativacaoModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Desativação de Pessoa</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <form id="confirmacaoDesativacaoForm" class="pl-3 pr-3">
                    <input type="hidden" id="<?php echo csrf_token() ?>confirmacaoDesativacaoForm" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">

                    <input type="hidden" id="codPacienteConfirmacaoDesativacao" name="codPaciente" class="form-control" placeholder="Código" maxlength="11" required>
                    <div style="font-size:14px">Você tem certeza que deseja desativar <b><span id="nomeExibicaoConfirmacaoDesativacao"></span></b>?</div>
                    <div style="font-size:14px">
                        Para confirmar a desativação deste paciente é necessário classificar o motivo
                    </div>

                    <div class="row">
                        <div class="col-sm-12">
                            <div class="input-group mb-3">
                                <select style="width:86%" required id="codMotivoInativo" name="codMotivoInativo" class="form-control" data-select2-id="codMotivoInativo" tabindex="-1" aria-hidden="true">
                                    <option value=""></option>

                                </select>
                            </div>
                        </div>

                    </div>
                    <button type="button" onclick="desativarPacienteAgora()" class="btn btn-xs btn-success">Confirmar</button>
                    <button type="button" class="btn btn-xs btn-danger" data-toggle="tooltip" data-placement="top" title="Fechar" data-dismiss="modal">Cancelar</button>
                </form>
            </div>
        </div>

    </div>
</div>

<div id="iniciarAtendimentoAmbulatorioModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">INICIAR ATENDIMENTO</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">

                <form id="iniciarAtendimentoAmbulatorioForm" class="pl-3 pr-3">
                    <input type="hidden" id="<?php echo csrf_token() ?>iniciarAtendimentoAmbulatorioForm" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">
                    <div class="card card-secondary">
                        <div class="card-header">
                            <h3 class="card-title">DADOS PACIENTE</h3>
                        </div>
                        <!-- /.card-header -->
                        <div class="card-body">
                            <div id="dadosPaciente"></div>
                        </div>
                    </div>

                    <div class="card card-secondary">
                        <div class="card-header">
                            <h3 class="card-title">ESPECIALIDADE ATENDIMENTO</h3>
                        </div>
                        <!-- /.card-header -->
                        <div class="card-body">
                            <div id="definirEspecialidade"></div>
                        </div>
                    </div>


                    <div class="card card-secondary">
                        <div class="card-header">
                            <h3 class="card-title">LOCAL DE ATENDIMENTO</h3>
                        </div>
                        <!-- /.card-header -->
                        <div class="card-body">
                            <div id="definirLocalAtendimento"></div>
                        </div>
                    </div>

                    <button type="button" onclick="iniciarAtendimentoAmbulatorioAgora()" class="btn btn-lg btn-success">INICIAR</button>
                    <button type="button" class="btn btn-lg btn-danger" data-toggle="tooltip" data-placement="top" title="Fechar" data-dismiss="modal">CANCELAR</button>
                </form>

            </div>
        </div>
    </div>
</div>


<div id="iniciarTratamentoOncologicoModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">INICIAR ATENDIMENTO ONCOLÓGICO</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">

                <form id="iniciarTratamentoOncologicoForm" class="pl-3 pr-3">
                    <input type="hidden" id="<?php echo csrf_token() ?>iniciarTratamentoOncologicoForm" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">
                    <div class="card card-secondary">
                        <div class="card-header">
                            <h3 class="card-title">DADOS PACIENTE</h3>
                        </div>
                        <!-- /.card-header -->
                        <div class="card-body">
                            <div id="dadosPacienteOncologico"></div>
                        </div>
                    </div>



                    <button type="button" onclick="iniciarTratamentoOncologicoAgora()" class="btn btn-lg btn-success">INICIAR</button>
                    <button type="button" class="btn btn-lg btn-danger" data-toggle="tooltip" data-placement="top" title="Fechar" data-dismiss="modal">CANCELAR</button>
                </form>

            </div>
        </div>
    </div>
</div>


<div id="iniciarTratamentoCiruegicoModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">INICIAR TRATAMENTO CIRÚRGICO</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">

                <form id="iniciarTratamentoCirurgicoForm" class="pl-3 pr-3">
                    <input type="hidden" id="<?php echo csrf_token() ?>iniciarTratamentoCirurgicoForm" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">
                    <input type="hidden" id="codPacienteTratamentoCirurgicoAdd" name="codPaciente">


                    <div class="card card-secondary">
                        <div class="card-header">
                            <h3 class="card-title">DADOS PACIENTE</h3>
                        </div>
                        <!-- /.card-header -->
                        <div class="card-body">
                            <div id="dadosPacienteCirurgico"></div>
                        </div>
                    </div>



                    <div class="card card-secondary">
                        <div class="card-header">
                            <h3 class="card-title">ESPECIALIDADE</h3>
                        </div>
                        <!-- /.card-header -->
                        <div class="card-body">
                            <div class="row">
                                <div class="col-sm-3">
                                    <select required="" id="codEspecialidadeTratamentoCirurgico" name="codEspecialidade" class="custom-select">
                                        <option value=""></option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>


                    <div class="card card-secondary">
                        <div class="card-header">
                            <h3 class="card-title">LOCAL</h3>
                        </div>
                        <!-- /.card-header -->
                        <div class="card-body">

                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="codDepartamentoTratamentoCirurgicoAdd"> Departamento: <span class="text-danger">*</span> </label>
                                        <select required id="codDepartamentoTratamentoCirurgicoAdd" name="codDepartamento" class="custom-select" required>
                                            <option value=""></option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label for="codLocalTratamentoCirurgicoAdd"> Local: <span class="text-danger">*</span> </label>
                                        <select required id="codLocalTratamentoCirurgicoAdd" name="codLocalAtendimento" class="custom-select" required>
                                            <option value=""></option>
                                        </select>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>

                    <button type="sbumit" class="btn btn-lg btn-success">INICIAR</button>
                    <button type="button" class="btn btn-lg btn-danger" data-toggle="tooltip" data-placement="top" title="Fechar" data-dismiss="modal">CANCELAR</button>
                </form>

            </div>
        </div>
    </div>
</div>

<div id="iniciarAtendimentoUrgenciaEmergenciaModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">INICIAR ATENDIMENTO URGÊNCIA/EMERGÊNCIA</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">

                <form id="iniciarAtendimentoUrgenciaEmergenciaForm" class="pl-3 pr-3">
                    <input type="hidden" id="<?php echo csrf_token() ?>iniciarAtendimentoUrgenciaEmergenciaForm" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">



                    <div class="card card-secondary">
                        <div class="card-header">
                            <h3 class="card-title">DADOS PACIENTE</h3>
                        </div>
                        <!-- /.card-header -->
                        <div class="card-body">
                            <div id="dadosPacienteUrgenciaEmergencia"></div>
                        </div>
                    </div>



                    <div class="card card-secondary">
                        <div class="card-header">
                            <h3 class="card-title">QUEIXA/SINTOMA</h3>
                        </div>
                        <!-- /.card-header -->
                        <div class="card-body">
                            <textarea required id="queixaPrincipalUrgenciaEmergenciaTextarea" name="queixaPrincipal" class="form-control" placeholder="Queixa Principal"></textarea>

                        </div>
                    </div>

                    <button type="button" onclick="iniciarAtendimentoUrgenciaEmergenciaAgora()" class="btn btn-lg btn-success">REGISTRAR</button>
                    <button type="button" class="btn btn-lg btn-danger" data-toggle="tooltip" data-placement="top" title="Fechar" data-dismiss="modal">CANCELAR</button>
                </form>

            </div>
        </div>
    </div>
</div>




<div style="width:400px" id="carregaFotoModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Foto Perfil</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">

                <input id="inp" type='file'>


            </div>
        </div>
    </div>
</div>


<div style="width:400px" id="tiraFotoModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Foto Perfil</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">

                <div id="minhaFoto"></div>
                <button style="width:320px; margin-bottom:5px" type="button" class="btn btn-block btn-primary btn-xs" onclick="TiraFotoWebcam()" title="Tirar Foto"> Tirar Foto</button>
                <button style="width:320px; margin-bottom:5px" type="button" class="btn btn-block btn-primary btn-xs" onclick="carregaArquivo()" title="Carregar de arquivo"> Carregar de arquivo</button>


            </div>
        </div>
    </div>
</div>


<div style="width:400px" id="addOutrosContatosModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Incluir contato</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <form id="incluiContatoForm" class="pl-3 pr-3">
                    <input type="hidden" id="<?php echo csrf_token() ?>incluiContatoForm" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">


                    <div class="row">
                        <div class="col-sm-12">
                            <label for="codTipoContato">Tipo Contato: <span class="text-danger">*</span> </label>
                            <div class="input-group mb-3">
                                <select style="width:86%" required="" id="codTipoContatoAdd" name="codTipoContato" class="form-control select2-hidden-accessible" data-select2-id="forcaAdd" tabindex="40" aria-hidden="true">
                                    <option value=""></option>

                                </select>
                            </div>
                        </div>

                    </div>

                    <div class="row">
                        <div class="col-sm-12">
                            <label for="codParentesco">Parentesco:</label>
                            <div class="input-group mb-3">
                                <select style="width:86%" id="codParentescoAdd" name="codParentesco" class="form-control select2-hidden-accessible" data-select2-id="codParentescoAdd" tabindex="41" aria-hidden="true">
                                    <option value="0"></option>

                                </select>
                            </div>
                        </div>

                    </div>
                    <div class="row">
                        <div class="col-sm-12">
                            <label for="nomeContato">Nome do Contato: <span class="text-danger">*</span></label>
                            <div class="input-group mb-3">
                                <input tabindex="42" required="" type="text" autocomplete="off" id="nomeContatoAdd" name="nomeContato" class="form-control" placeholder="Nome do Contato" maxlength="30">
                                <div class="input-group-append">
                                    <div class="input-group-text">
                                        <span class="fas fa-user"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-sm-12">
                            <label for="numeroContato">Número do Contato: <span class="text-danger">*</span></label>
                            <div class="input-group mb-3">
                                <input tabindex="43" required="" type="text" autocomplete="off" id="numeroContatoAdd" name="numeroContato" class="form-control" placeholder="Número do Contato" maxlength="20">
                                <div class="input-group-append">
                                    <div class="input-group-text">
                                        <span class="fas fa-mobile-alt"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>



                    <div class="row">
                        <div class="col-sm-12">
                            <label for="observacoesAdd">Observações: <span class="text-danger">*</span></label>
                            <div class="input-group mb-3">
                                <textarea tabindex="44" id="observacoesAdd" name="observacoes" rows="4" cols="50" maxlength="100"></textarea>

                            </div>
                        </div>
                    </div>


                    <button type="button" class="btn btn-block btn-primary  btn-xs" onclick="incluiContatoTmp()" title="Incluir"> <i class="fa fa-plus"></i> Adicionar</button>
                </form>

            </div>

        </div>
    </div>
</div>




<div style="width:400px" id="editOutrosContatosModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Incluir contato</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <form id="editIncluiContatoForm" class="pl-3 pr-3">
                    <input type="hidden" id="<?php echo csrf_token() ?>editIncluiContatoForm" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">

                    <input type="hidden" id="codPacienteOutrosContatosEdit" name="codPaciente" class="form-control" placeholder="Código" maxlength="11" required="">

                    <div class="row">
                        <div class="col-sm-12">
                            <label for="codTipoContato">Tipo Contato: <span class="text-danger">*</span> </label>
                            <div class="input-group mb-3">
                                <select style="width:86%" required="" id="codTipoContatoManual" name="codTipoContato" class="form-control" aria-hidden="true">
                                    <option value=""></option>
                                    <option value="1">PESSOAL</option>
                                    <option value="2">TRABALHO</option>
                                    <option value="3">FAMILIAR</option>
                                    <option value="4">MÉDICO FAM</option>
                                    <option value="5">AMIGO(A)</option>
                                    <option value="6">OUTRO(A)</option>
                                    <option value="7">FUNCIONAL</option>
                                    <option value="8">RESIDENCIAL</option>

                                </select>
                            </div>
                        </div>

                    </div>

                    <div class="row">

                        <div class="col-sm-12">
                            <label for="codParentesco">Parentesco:</label>
                            <div class="input-group mb-3">
                                <select style="width:86%" id="codParentescoManual" name="codParentesco" class="form-control" tabindex="42" aria-hidden="true">
                                    <option value="0">NÃO SE APLICA</option>
                                    <option value="1">PAI</option>
                                    <option value="2">MÃE</option>
                                    <option value="3">ESPOSO(A)</option>
                                    <option value="4">FILHO(A)</option>
                                    <option value="5">IRMÃO(Ã)</option>
                                    <option value="6">OUTRO</option>

                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-sm-12">
                            <label for="nomeContato">Nome do Contato: <span class="text-danger">*</span></label>
                            <div class="input-group mb-3">
                                <input tabindex="43" required="" type="text" autocomplete="off" id="nomeContatoEdit" name="nomeContato" class="form-control" placeholder="Nome do Contato" maxlength="30">
                                <div class="input-group-append">
                                    <div class="input-group-text">
                                        <span class="fas fa-user"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-sm-12">
                            <label for="numeroContato">Número do Contato: <span class="text-danger">*</span></label>
                            <div class="input-group mb-3">
                                <input tabindex="44" required="" type="text" autocomplete="off" id="numeroContatoEdit" name="numeroContato" class="form-control" placeholder="Número do Contato" maxlength="20">
                                <div class="input-group-append">
                                    <div class="input-group-text">
                                        <span class="fas fa-mobile-alt"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">


                        <div class="row">
                            <div class="col-sm-12">
                                <label for="observacoesEdit">Observações: <span class="text-danger">*</span></label>
                                <div class="input-group mb-3">
                                    <textarea tabindex="45" id="observacoesEdit" name="observacoes" rows="4" cols="40" maxlength="100"></textarea>

                                </div>
                            </div>
                        </div>

                    </div>
                    <button type="button" class="btn btn-block btn-primary  btn-xs" onclick="incluiContatoEdit()" title="Incluir"> <i class="fa fa-plus"></i> Adicionar</button>
                </form>

            </div>

        </div>
    </div>
</div>

<div style="width:400px" id="alteracaoOutrosContatosModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Alteração de contato</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <form id="alteracaoContatoForm" class="pl-3 pr-3">
                    <input type="hidden" id="<?php echo csrf_token() ?>alteracaoContatoForm" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">

                    <input type="hidden" id="codOutroContatoAlteracao" name="codOutroContato" class="form-control" placeholder="codOutroContato" maxlength="11" required="">

                    <div class="row">
                        <div class="col-sm-12">
                            <label for="codTipoContatoAlteracao">Tipo Contato: <span class="text-danger">*</span> </label>
                            <div class="input-group mb-3">
                                <select style="width:86%" required="" id="codTipoContatoAlteracao" name="codTipoContato" class="form-control" aria-hidden="true">
                                    <option value=""></option>
                                    <option value="1">PESSOAL</option>
                                    <option value="2">TRABALHO</option>
                                    <option value="3">FAMILIAR</option>
                                    <option value="4">MÉDICO FAM</option>
                                    <option value="5">AMIGO(A)</option>
                                    <option value="6">OUTRO(A)</option>
                                    <option value="7">FUNCIONAL</option>
                                    <option value="8">RESIDENCIAL</option>

                                </select>
                            </div>
                        </div>

                    </div>

                    <div class="row">

                        <div class="col-sm-12">
                            <label for="codParentescoAlteracao">Parentesco:</label>
                            <div class="input-group mb-3">
                                <select style="width:86%" id="codParentescoAlteracao" name="codParentesco" class="form-control" tabindex="42" aria-hidden="true">
                                    <option value="0">NÃO SE APLICA</option>
                                    <option value="1">PAI</option>
                                    <option value="2">MÃE</option>
                                    <option value="3">ESPOSO(A)</option>
                                    <option value="4">FILHO(A)</option>
                                    <option value="5">IRMÃO(Ã)</option>
                                    <option value="6">OUTRO</option>

                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-sm-12">
                            <label for="nomeContatoAlteracao">Nome do Contato: <span class="text-danger">*</span></label>
                            <div class="input-group mb-3">
                                <input tabindex="43" required="" type="text" autocomplete="off" id="nomeContatoAlteracao" name="nomeContato" class="form-control" placeholder="Nome do Contato" maxlength="30">
                                <div class="input-group-append">
                                    <div class="input-group-text">
                                        <span class="fas fa-user"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-sm-12">
                            <label for="numeroContatoAlteracao">Número do Contato: <span class="text-danger">*</span></label>
                            <div class="input-group mb-3">
                                <input tabindex="44" required="" type="text" autocomplete="off" id="numeroContatoAlteracao" name="numeroContato" class="form-control" placeholder="Número do Contato" maxlength="20">
                                <div class="input-group-append">
                                    <div class="input-group-text">
                                        <span class="fas fa-mobile-alt"></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">


                        <div class="row">
                            <div class="col-sm-12">
                                <label for="observacoesAlteracao">Observações: <span class="text-danger">*</span></label>
                                <div class="input-group mb-3">
                                    <textarea tabindex="45" id="observacoesAlteracao" name="observacoes" rows="4" cols="40" maxlength="100"></textarea>

                                </div>
                            </div>
                        </div>

                    </div>
                    <button type="button" class="btn btn-block btn-primary  btn-xs" onclick="alteraContato()" title="Incluir">Salvar</button>
                </form>

            </div>

        </div>
    </div>
</div>

<div id="addPacienteModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Novo Paciente</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">

                <form autocomplete="off" id="addPacienteForm" class="pl-3 pr-3">
                    <input type="hidden" id="<?php echo csrf_token() ?>addPacienteForm" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">

                    <input type="hidden" id="codPacienteAdd" name="codPaciente" class="form-control" placeholder="Código" maxlength="11" required="">

                    <div class="row">

                        <div class="col-sm-3">
                            <label for="fotoPerfil">Foto Perfil: </label>
                            <img alt="" id="fotoPerfilFormularioAdd" style="width:100px">
                            <div id="fotoPerfilCadastroAdd"></div>

                            <button style="width:160px; margin-bottom:5px" type="button" class="btn btn-block btn-primary  btn-xs" onclick="trocarFoto()" title="Tirar Foto">Trocar Foto</button>

                        </div>







                    </div>


                    <div class="card card-secondary">
                        <div class="card-header">
                            <h3 class="card-title">DOCUMENTO</h3>
                        </div>
                        <!-- /.card-header -->
                        <div class="card-body">
                            <div class="row">

                                <div class="col-sm-7">
                                    <label for="nomeCompleto">Nome Completo: <span class="text-danger">*</span></label>
                                    <div class="input-group mb-3">
                                        <input tabindex="10" required="" type="text" autocomplete="off" id="nomeCompletoAdd" name="nomeCompleto" class="form-control" placeholder="Nome Completo" maxlength="100">
                                        <div class="input-group-append">
                                            <div class="input-group-text">
                                                <span class="fas fa-user"></span>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                                <div class="col-sm-1">
                                    <label for="sexo">Sexo: <span class="text-danger">*</span> </label>
                                    <div class="input-group mb-3">
                                        <select tabindex="11" style="width:86%" required="" id="sexoAdd" name="sexo" class="form-control" data-select2-id="sexoAdd" aria-hidden="true">
                                            <option value=""></option>
                                            <option value="M">M</option>
                                            <option value="F">F</option>

                                        </select>
                                    </div>
                                </div>


                                <div class="col-sm-2">
                                    <label for="dataNascimento">Data Nascimento: <span class="text-danger">*</span></label>
                                    <div class="input-group mb-3">
                                        <input tabindex="12" required="" type="date" id="dataNascimentoAdd" name="dataNascimento" class="form-control" placeholder="Data Nascimento">
                                        <div class="input-group-append">
                                            <div class="input-group-text">
                                                <span class="fas fa-calendar-day"></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">

                                <div class="col-sm-4">
                                    <label for="conta">Nº Plano: <span class="text-danger">*</span></label>
                                    <div class="input-group mb-3">
                                        <input tabindex="14" required="" type="text" id="codPlanoAdd" name="codPlano" oninput="numberOnly(this.id);" class="form-control" placeholder="Informe o Nº CODPLANO" maxlength="11">
                                        <div class="input-group-append">
                                            <div class="input-group-text">
                                                <span class="fas fa-user"></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-4">
                                    <label for="cpf">CPF: <span class="text-danger">*</span></label>
                                    <div class="input-group mb-3">
                                        <input tabindex="15" required="" type="text" autocomplete="off" oninput="verificaCPFAdd(this)" id="cpfAdd" name="cpf" class="form-control" placeholder="cpf" maxlength="14">
                                        <div class="input-group-append">
                                            <div class="input-group-text">
                                                <span class="fas fa-id-card-alt"></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-4">
                                    <label for="identidade">Identidade: <span class="text-danger">*</span></label>
                                    <div class="input-group mb-3">
                                        <input tabindex="16" required="" type="text" id="identidadeAdd" name="identidade" oninput="numberOnly(this.id);" class="form-control" placeholder="Identidade" maxlength="15">
                                        <div class="input-group-append">
                                            <div class="input-group-text">
                                                <span class="fas fa-id-card-alt"></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">

                                <div class="col-sm-6">
                                    <label for="nomePaiAdd">Nome do Pai:</label>
                                    <div class="input-group mb-3">
                                        <input tabindex="17" type="text" autocomplete="off" id="nomePaiAdd" name="nomePai" class="form-control" placeholder="Nome do Pai" maxlength="60">
                                        <div class="input-group-append">
                                            <div class="input-group-text">
                                                <span class="fas fa-id-card-alt"></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <label for="nomeMaeAdd">Nome da Mãe: <span class="text-danger">*</span></label>
                                    <div class="input-group mb-3">
                                        <input tabindex="18" required="" type="text" autocomplete="off" id="nomeMaeAdd" name="nomeMae" class="form-control" placeholder="Nome da Mãe" maxlength="60">
                                        <div class="input-group-append">
                                            <div class="input-group-text">
                                                <span class="fas fa-id-card-alt"></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>


                    <div class="card card-secondary">
                        <div class="card-header">
                            <h3 class="card-title">CONTATO</h3>
                        </div>
                        <!-- /.card-header -->
                        <div class="card-body">

                            <div class="col-12 col-sm-12">
                                <div class="card card-primary card-tabs">
                                    <div class="card-header p-0 pt-1">
                                        <ul class="nav nav-tabs" id="custom-tabs-one-tab" role="tablist">
                                            <li class="nav-item">
                                                <a class="nav-link active" id="custom-tabs-one-homeAdd-tab" data-toggle="pill" href="#custom-tabs-one-homeAdd" role="tab" aria-controls="custom-tabs-one-homeAdd" aria-selected="true">Contato Principal</a>
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link" id="custom-tabs-one-profileAdd-tab" data-toggle="pill" href="#custom-tabs-one-profileAdd" role="tab" aria-controls="custom-tabs-one-profileAdd" aria-selected="false">Outros Contatos</a>
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="card-body">
                                        <div class="tab-content" id="custom-tabs-one-tabContent">
                                            <div class="tab-pane fade show active" id="custom-tabs-one-homeAdd" role="tabpanel" aria-labelledby="custom-tabs-one-homeAdd-tab">
                                                <div class="row">
                                                    <div class="col-sm-4">
                                                        <label for="emailPessoal">Email Pessoal:</label>
                                                        <div class="input-group mb-3">
                                                            <input tabindex="23" type="text" autocomplete="off" id="emailPessoalAdd" name="emailPessoal" class="form-control" placeholder="Email Pessoal" maxlength="40">
                                                            <div class="input-group-append">
                                                                <div class="input-group-text">
                                                                    <span class="fas fa-at"></span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-2">
                                                        <label for="celular">Celular: <span class="text-danger">*</span></label>
                                                        <div class="input-group mb-3">
                                                            <input tabindex="24" required="" type="text" autocomplete="off" id="celularAdd" name="celular" class="form-control" placeholder="Celular" maxlength="16">
                                                            <div class="input-group-append">
                                                                <div class="input-group-text">
                                                                    <span class="fas fa-mobile-alt"></span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-6">
                                                        <label for="endereco">Endereço: <span class="text-danger">*</span></label>
                                                        <div class="input-group mb-3">
                                                            <input tabindex="25" required="" type="text" autocomplete="off" id="enderecoAdd" name="endereco" class="form-control" placeholder="Endereço" maxlength="200">
                                                            <div class="input-group-append">
                                                                <div class="input-group-text">
                                                                    <span class="fas fa-map-marker-alt"></span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row">

                                                    <div class="col-sm-3">
                                                        <label for="cep">CEP: <span class="text-danger">*</span></label>
                                                        <div class="input-group mb-3">
                                                            <input tabindex="26" type="text" autocomplete="off" id="cepAdd" name="cep" class="form-control" placeholder="CEP" maxlength="9">
                                                            <div class="input-group-append">
                                                                <div class="input-group-text">
                                                                    <span class="fas fa-map-marker-alt"></span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>
                                            <div class="tab-pane fade" id="custom-tabs-one-profileAdd" role="tabpanel" aria-labelledby="custom-tabs-one-profileAdd-tab">
                                                <div class="col-sm-4">
                                                    <button type="button" class="btn btn-block btn-primary  btn-xs" onclick="modalOutrosContatos()" title="Adicionar"> <i class="fa fa-plus"></i> Adicionar</button>
                                                </div>

                                                <table id="data_outrosContatosAdd" class="table table-striped table-hover table-sm">
                                                    <thead>
                                                        <tr>
                                                            <th>Código</th>
                                                            <th>Tipo</th>
                                                            <th>Nome Contato</th>
                                                            <th>Parentesco</th>
                                                            <th>Nº Contato</th>
                                                            <th>Observações</th>
                                                            <th style="text-align:center">Ações</th>
                                                        </tr>
                                                    </thead>
                                                </table>

                                            </div>

                                        </div>
                                    </div>
                                    <!-- /.card -->
                                </div>
                            </div>
                        </div>
                    </div>


                    <div class="card card-secondary">
                        <div class="card-header">
                            <h3 class="card-title">OUTROS</h3>
                        </div>
                        <!-- /.card-header -->
                        <div class="card-body">
                            <div class="row">
                                <div class="col-sm-3">
                                    <label for="codStatusCadastroPaciente">Status Cadastro: <span class="text-danger">*</span> </label>
                                    <div class="input-group mb-3">
                                        <select style="width:86%" required="" id="codStatusCadastroPacienteAdd" name="codStatusCadastroPaciente" class="form-control select2-hidden-accessible" data-select2-id="codStatusCadastroPacienteAdd" tabindex="27" aria-hidden="true">
                                            <option value=""></option>

                                        </select>
                                    </div>
                                </div>

                                <div class="col-sm-3">
                                    <label for="cep">Validade: <span class="text-danger">*</span></label>
                                    <div class="input-group mb-3">
                                        <input tabindex="28" type="date" id="validadeAdd" name="validade" class="form-control" placeholder="Validade">
                                        <div class="input-group-append">
                                            <div class="input-group-text">
                                                <span class="fas fa-map-marker-alt"></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>


                                <div class="col-sm-3">
                                    <label for="codRaca">Raça: <span class="text-danger">*</span> </label>
                                    <div class="input-group mb-3">
                                        <select style="width:86%" required="" id="codRacaAdd" name="codRaca" class="form-control select2-hidden-accessible" data-select2-id="codStatusCadastroPacienteAdd" tabindex="29" aria-hidden="true">
                                            <option value=""></option>

                                        </select>
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <label for="codTipoSanguineo">Tipo Sanguineo: <span class="text-danger">*</span> </label>
                                    <div class="input-group mb-3">
                                        <select style="width:86%" required="" id="codTipoSanguineoAdd" name="codTipoSanguineo" class="form-control select2-hidden-accessible" data-select2-id="codTipoSanguineo" tabindex="30" aria-hidden="true">
                                            <option value=""></option>

                                        </select>
                                    </div>
                                </div>



                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <label for="informacoesComplementares"> Informações Complementares : <span class="text-danger">*</span> </label>
                                        <textarea tabindex="31" cols="40" rows="5" id="informacoesComplementaresAdd" name="informacoesComplementares" class="form-control" placeholder="Descrição " required></textarea>
                                    </div>
                                </div>

                            </div>

                        </div>
                    </div>

                    <div class="form-group text-center">
                        <div class="btn-group">
                            <button type="submit" class="btn btn-block btn-primary  btn-xs" title="Adicionar">Adicionar</button>
                            <button type="button" class="btn btn-xs btn-danger" data-toggle="tooltip" data-placement="top" title="Fechar" data-dismiss="modal">Fechar</button>
                        </div>
                    </div>
                </form>

            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>


<div id="perfilPacienteModal" class="modal mw-100 fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 id="tituloPerfilModal" class="modal-title text-white" id="info-header-modalLabel"></h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">

                <div class="row">
                    <div class="col-md-4">

                        <!-- Profile Image -->
                        <div class="card card-primary card-outline">
                            <div class="card-body box-profile">
                                <div class="text-center">
                                    <div id="fotoPerfilCadastroPerfil"></div>
                                </div>

                                <h3 class="profile-username text-center">
                                    <div style="font-size:20px; font-weight: bold;" id="nomeCompletoPerfil"></div>
                                </h3>

                                <h3 style="font-size:16px; " class="profile-username text-center">
                                    <div id="nomeTipoBeneficiarioPerfil"></div>
                                </h3>


                                <h3 style="font-size:16px; " class="profile-username text-center">
                                    <div id="descricaoCargoPerfil"></div>
                                </h3>

                            </div>
                            <!-- /.card-body -->
                        </div>
                        <!-- /.card -->

                        <!-- About Me Box -->
                        <div class="card card-primary">
                            <div class="card-header">
                                <h3 class="card-title">Informações Complementares</h3>
                            </div>
                            <!-- /.card-header -->
                            <div class="card-body">

                                <strong><i class="fas fa-map-marker-alt mr-1"></i> CPF</strong>
                                <span id="cpfPerfil" class="text-muted">
                                </span>
                                <hr>

                                <strong><i class="fas fa-map-marker-alt mr-1"></i> Nº PLANO</strong>
                                <span id="codPlanoPerfil" class="text-muted">
                                </span>
                                <hr>

                                <strong><i class="fas fa-id-card-alt"></i> Endereço</strong>
                                <span id="enderecoPerfil" class="text-muted">
                                </span>
                                <hr>

                                <strong><i class="fas fa-at"></i> Email</strong>
                                <span id="emailPessoalPerfil" class="text-muted"></span>
                                <hr>

                                <strong><i class="fas fa-mobile-alt"></i> Celular</strong>
                                <span id="celularPerfil" class="text-muted">
                                </span>
                                <hr>

                                <strong><i class="fas fa-mobile-alt"></i> Data Nascimento</strong>
                                <span id="dataNascimentoPerfil" class="text-muted">
                                </span>
                                <hr>

                                <strong><i class="fas fa-calendar-day"></i> Validade </strong>
                                <span id="validadePerfil" class="text-muted">
                                </span>
                                <hr>

                                <strong><i class="fas fa-calendar-day"></i> Informações Complementares </strong>
                                <span id="informacoesComplementaresPerfil" class="text-muted">
                                </span>
                                <hr>
                            </div>
                            <!-- /.card-body -->
                        </div>
                        <!-- /.card -->
                    </div>
                    <!-- /.col -->
                    <div class="col-md-8">

                        <div class="card">

                            <div class="card-body">
                                <div class="row">

                                    <div class="col-md-4">
                                        <!-- small box -->
                                        <div class="small-box bg-info">
                                            <div class="inner">
                                                <h4> Nº
                                                    <span id="codProntuarioInfo"></span>
                                                </h4>

                                                <p>PRONTUÁRIO</p>
                                            </div>
                                            <div class="icon">
                                                <i class="ion ion-bag"></i>
                                            </div>
                                        </div>

                                    </div>

                                    <div class="col-md-4">
                                        <div id="codStatusCadastroPacienteColor" class="small-box">
                                            <div class="inner">
                                                <h4><span id="codStatusCadastroPacienteInfo"></span></h4>

                                                <p>STATUS</p>
                                            </div>
                                            <div class="icon">
                                                <i class="ion ion-bag"></i>
                                            </div>
                                        </div>

                                    </div>

                                    <div class="col-md-4">
                                        <!-- small box -->
                                        <div class="small-box bg-warning">
                                            <div class="inner">
                                                <h4><span id="idadeInfo"></span></h4>

                                                <p>IDADE</p>
                                            </div>
                                            <div class="icon">
                                                <i class="ion ion-bag"></i>
                                            </div>
                                        </div>

                                    </div>
                                </div>

                            </div>

                        </div>
                        <div class="card">
                            <div class="card-body">

                                <div id="botoesPerfil">
                                </div>
                            </div>
                        </div>



                        <div style="background:azure" class="card card-primary">
                            <div class="card-header">
                                <h3 style="font-size:20px;font-weight: bold;" class="card-title d-flex justify-content-center">Próximas Consultas</h3>
                            </div>
                            <div class="card-body">
                                <table id="data_tableProximasConsultas" class="table table-striped table-hover table-sm">
                                    <thead>
                                        <tr>
                                            <th>Tipo</th>
                                            <th>Especialidade</th>
                                            <th>Expecialista</th>
                                            <th>DataHora</th>
                                            <th>Status</th>
                                            <th></th>
                                        </tr>
                                    </thead>
                                </table>
                            </div>
                        </div>

                        <div style="background:azure" class="card card-primary">
                            <div class="card-header">
                                <h3 style="font-size:20px;font-weight: bold;" class="card-title d-flex justify-content-center">Próximos AgendamentosExames</h3>
                            </div>

                            <div class="card-body">
                                <table id="data_tableProximosAgendamentosExames" class="table table-striped table-hover table-sm">
                                    <thead>
                                        <tr>
                                            <th>Tipo</th>
                                            <th>Especialidade</th>
                                            <th>Expecialista</th>
                                            <th>DataHora</th>
                                            <th>Status</th>
                                            <th></th>
                                        </tr>
                                    </thead>
                                </table>
                            </div>
                        </div>

                        <div style="background:azure" class="card card-primary">
                            <div class="card-header">
                                <h3 style="font-size:20px;font-weight: bold;" class="card-title d-flex justify-content-center">Faltas últimos 90 Dias</h3>
                            </div>

                            <div class="card-body">
                                <table id="data_tableagendamentosFaltas" class="table table-striped table-hover table-sm">
                                    <thead>
                                        <tr>
                                            <th>Código</th>
                                            <th>Especialidade</th>
                                            <th>Autor</th>
                                            <th>Data da Falta</th>
                                            <th>Encerramento Impedimento</th>
                                            <th>Impedido de Agendar</th>
                                        </tr>
                                    </thead>
                                </table>
                            </div>
                        </div>



                        <div style="background:azure" class="card card-danger collapsed-card">
                            <div class="card-header">

                                <a data-card-widget="collapse">
                                    <div class="card-tools">
                                        <button type="button" class="btn btn-tool">
                                            <h3 class="card-title">CONSULTAS ANTERIORES (CLIQUE AQUI) <i class="fas fa-angle-down"></i></h3>
                                        </button>
                                    </div>
                                </a>
                                <!-- /.card-tools -->
                            </div>
                            <div class="card-body" style="display: none;">


                                <table id="data_tableAgendamentosPassados" class="table table-striped table-hover table-sm">
                                    <thead>
                                        <tr>
                                            <th>Especialista</th>
                                            <th>Data/Hora</th>
                                            <th>Status</th>
                                            <th></th>
                                        </tr>
                                    </thead>
                                </table>

                            </div>
                        </div>










                    </div>
                </div>

            </div>


            <div class="modal-footer">

            </div>



        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>


<div id="editarAtendimentoModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div id="print-me">
                <div id="classificacaoManchesterHeader" class="modal-header text-center p-3">
                    <h4 class="modal-title text-white" id="editarAtendimentoModalHeader"></h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div id="alertaLeito" class="row">

                    </div>

                    <div class="row">
                        <div class="col-lg-3 col-6">


                            <div style="height: 200px;" class="small-box bg-primary">
                                <div class="inner">
                                    <h4>Status Atendimento</h4>
                                    <div style="font-size:25px"><span id="AtendimentoStatusInfo" class="right badge badge-warning"></span></div>



                                </div>
                                <div class="icon">
                                    <i class="fas fa-hand-holding-medical zoom fa-1x"></i>
                                </div>

                                <div style="margin-top:20px" class="small-box-footer">

                                    <div id="modificaStatusAtendimento" class="row">
                                        <div style="margin-top:5px" class="col-md-6">
                                            <button style="margin-top:5px; width: 120px !important;" type="button" class="btn btn-xs btn-light" onclick="modificarStatus()">
                                                Modificar Status
                                            </button>
                                        </div>
                                        <div style="margin-top:5px" id="btnEncerrarAtendimento" class="col-md-6">
                                            <button style="margin-top:5px; width: 120px !important;" type="button" class="btn btn-xs btn-light" onclick="btnEncerrarAtendimento()">
                                                Encerrar Atendimento
                                            </button>
                                        </div>
                                    </div>
                                    <div style="margin-top:5px" class="row">

                                        <div id="btnclassificacaoRiscoUrgenciaEmergencia" class="col-md-6">
                                            <button style="margin-top:5px; width: 120px !important;" id="btnChamaClassificacaoRiscoUrgenciaEmergencia" type="button" class="btn btn-xs btn-light" onclick="btnChamaClassificacaoRiscoUrgenciaEmergencia()">
                                                Classificação de Risco
                                            </button>
                                        </div>
                                        <div id="btnTransferirLeito" class="col-md-6">

                                        </div>
                                    </div>
                                    <div style="margin-top:5px" class="row">
                                        <div id="btnReabrirAtendimento" class="col-md-12">
                                            <button id="btnReabrirAtendimento" type="button" class="btn btn-danger" onclick="btnReabrirAtendimento()">
                                                Reabrir Atendimento
                                            </button>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                        <div class="col-lg-3 col-6">
                            <div style="height: 200px;" class="small-box bg-danger">
                                <div class="inner">
                                    <h4>Tempo de atendimento</h4>
                                    <h3><span id="tempoAtendimentoInfo" class="right badge badge-warning"></span></h3>
                                    <h3><span id="tempoAtendimentoInfoContador" class="right badge badge-warning"></span></h3>




                                    <div style="margin-top:35px" id="btnImprimirBoletimAtendimento" class="row">
                                    </div>
                                </div>



                                <div class="icon">
                                    <i class="fas fa-briefcase-medical zoom fa-1x"></i>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-3 col-6">
                            <div style="height: 200px;" class="small-box bg-primary">
                                <div class="inner">
                                    <h4 id="tituloPrevisaoAlta">Previsão de Alta</h4>
                                    <h3><span id="previsaoAltaInfo" class="right badge badge-success"></span> </h3>
                                    <h3><span style="font-size:15px" id="diasParaAltaInfo" class="right badge badge-danger"></span></h3>

                                    <div style="margin-top:5px" id="btnprevisaoAlta" class="row">
                                    </div>
                                </div>



                                <div class="icon">
                                    <i class="fas fa-briefcase-medical zoom fa-1x"></i>
                                </div>
                            </div>
                        </div>

                        <div class="col-lg-3 col-6">
                            <div style="height: 200px;" class="small-box bg-danger">
                                <div class="inner">

                                    <h4>Alergias</h4>
                                    <p style="overflow-wrap: break-word;" id="listaAlergia"></p>


                                </div>



                                <div class="icon">
                                    <i class="fas fa-pills zoom fa-1x"></i>
                                </div>
                            </div>
                        </div>


                    </div>

                    <input type="hidden" id="<?php echo csrf_token() ?>editarAtendimentoModal" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">

                    <input type="hidden" id="codAtendimentoAnamnese" name="codAtendimentoAnamnese">

                    <div class="col-12 col-sm-12">
                        <div class="card card-primary card-tabs">
                            <div class="card-header p-0 pt-1">
                                <ul class="nav nav-tabs" id="editarAtendimento-tab" role="tablist">
                                    <li class="nav-item">
                                        <a class="nav-link active" id="editarAtendimento-anamnese-tab" data-toggle="pill" href="#editarAtendimento-home" role="tab" aria-controls="editarAtendimento-home" aria-selected="true">Anamnese</a>
                                    </li>
                                    <li id="abaDiagnostico" class="nav-item">
                                        <a class="nav-link" id="editarAtendimento-diagnostico-tab" data-toggle="pill" href="#editarAtendimento-diagnostico" role="tab" aria-controls="editarAtendimento-diagnostico" aria-selected="false">Diagnóstico</a>
                                    </li>
                                    <li id="abaConduta" class="nav-item">
                                        <a class="nav-link" id="editarAtendimento-condutas-tab" data-toggle="pill" href="#editarAtendimento-condutas" role="tab" aria-controls="editarAtendimento-condutas" aria-selected="false">Condutas</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" id="editarAtendimento-evolucao-tab" data-toggle="pill" href="#editarAtendimento-evolucao" role="tab" aria-controls="editarAtendimento-evolucao" aria-selected="false">Evoluções</a>
                                    </li>
                                    <li id="abaPrescricoes" class="nav-item">
                                        <a class="nav-link" id="editarAtendimento-prescricao-tab" data-toggle="pill" href="#editarAtendimento-prescricao" role="tab" aria-controls="editarAtendimento-prescricao" aria-selected="false">Prescrições</a>
                                    </li>
                                    <li id="abaPareceres" class="nav-item">
                                        <a class="nav-link" id="editarAtendimento-parecer-tab" data-toggle="pill" href="#editarAtendimento-parecer" role="tab" aria-controls="editarAtendimento-parecer" aria-selected="false">Pareceres</a>
                                    </li>
                                    <li id="abaReceita" class="nav-item">
                                        <a class="nav-link" id="editarAtendimento-receita-tab" data-toggle="pill" href="#editarAtendimento-receita" role="tab" aria-controls="editarAtendimento-receita" aria-selected="false">Documentos/Receituários</a>
                                    </li>
                                    <li id="abaDescricaoCirurgicas" class="nav-item">
                                        <a class="nav-link" id="editarAtendimento-descricaoCirurgica-tab" data-toggle="pill" href="#editarAtendimento-descricaoCirurgica" role="tab" aria-controls="editarAtendimento-descricaoCirurgica" aria-selected="false">Atos Cirúrgicos<span style="font-size:8px" class="right badge badge-danger">Novo</span></a>
                                    </li>
                                    <li id="abaHemoTerapia" class="nav-item">
                                        <a class="nav-link" id="editarAtendimento-hemoTerapia-tab" data-toggle="pill" href="#editarAtendimento-hemoTerapia" role="tab" aria-controls="editarAtendimento-hemoTerapia" aria-selected="false">HemoTerapia</a>
                                    </li>
                                    <li id="abaindicacaoClinica" class="nav-item">
                                        <a class="nav-link" id="editarAtendimento-indicacaoClinica-tab" data-toggle="pill" href="#editarAtendimento-indicacaoClinica" role="tab" aria-controls="editarAtendimento-indicacaoClinica" aria-selected="false">Indicação Clínica</a>
                                    </li>
                                    <li id="abaHistoricoPaciente" class="nav-item">
                                        <a class="nav-link" id="editarAtendimento-HistoricoPaciente-tab" data-toggle="pill" href="#editarAtendimento-HistoricoPaciente" role="tab" aria-controls="editarAtendimento-HistoricoPaciente" aria-selected="false">Histórico do Paciente</a>
                                    </li>
                                    <li id="abaPrevisaoAltaPaciente" class="nav-item">
                                        <a class="nav-link" id="editarAtendimento-PrevisaoAltaPaciente-tab" data-toggle="pill" href="#editarAtendimento-PrevisaoAltaPaciente" role="tab" aria-controls="editarAtendimento-PrevisaoAltaPaciente" aria-selected="false">Previsão Alta</a>
                                    </li>
                                </ul>
                            </div>
                            <div class="card-body">
                                <div class="tab-content" id="editarAtendimento-tabContent">
                                    <div class="tab-pane fade show active" id="editarAtendimento-home" role="tabpanel" aria-labelledby="editarAtendimento-anamnese-tab">


                                        <div class="row">
                                            <div class="col-5 col-sm-3">
                                                <div class="nav flex-column nav-tabs h-100" id="anamneseTabs-tab" role="tablist" aria-orientation="vertical">
                                                    <a class="menu-personalizado nav-link active" id="anamneseTabs-qp-tab" data-toggle="pill" href="#anamneseTabs-qp" role="tab" aria-controls="anamneseTabs-qp" aria-selected="false">Queixa principal (QP)</a>
                                                    <a class="menu-personalizado nav-link" id="anamneseTabs-hda-tab" data-toggle="pill" href="#anamneseTabs-hda" role="tab" aria-controls="anamneseTabs-hda" aria-selected="true">História da doença atual (HDA)</a>
                                                    <a class="menu-personalizado nav-link" id="anamneseTabs-hmp-tab" data-toggle="pill" href="#anamneseTabs-hmp" role="tab" aria-controls="anamneseTabs-hmp" aria-selected="false">História Médica Pregressa (HMP)</a>
                                                    <a class="menu-personalizado nav-link" id="anamneseTabs-exameFisico-tab" data-toggle="pill" href="#anamneseTabs-exameFisico" role="tab" aria-controls="anamneseTabs-exameFisico" aria-selected="false">Exame Físico</a>
                                                    <a class="menu-personalizado nav-link" id="anamneseTabs-alergias-tab" data-toggle="pill" href="#anamneseTabs-alergias" role="tab" aria-controls="anamneseTabs-alergias" aria-selected="false">Possui Alergias?</a>
                                                    <a class="menu-personalizado nav-link" id="anamneseTabs-medicamentos-tab" data-toggle="pill" href="#anamneseTabs-medicamentos" role="tab" aria-controls="anamneseTabs-medicamentos" aria-selected="false">Medicamentos que faz uso</a>
                                                    <a class="menu-personalizado nav-link" id="anamneseTabs-parametrosClinicos-tab" data-toggle="pill" href="#anamneseTabs-parametrosClinicos" role="tab" aria-controls="anamneseTabs-parametrosClinicos" aria-selected="false">Parâmetros Clínicos</a>
                                                    <a class="menu-personalizado nav-link" id="anamneseTabs-morbidades-tab" data-toggle="pill" href="#anamneseTabs-morbidades" role="tab" aria-controls="anamneseTabs-morbidades" aria-selected="false">Morbidades</a>
                                                    <a class="menu-personalizado nav-link" id="anamneseTabs-outrasInformacoes-tab" data-toggle="pill" href="#anamneseTabs-outrasInformacoes" role="tab" aria-controls="anamneseTabs-outrasInformacoes" aria-selected="false">Outras Informações</a>
                                                </div>
                                            </div>
                                            <div class="col-7 col-sm-9">
                                                <button id="btnSalvarAnamnese" type="button" class="btn btn-app" onclick="salvarAnamnese()" title="Salvar"><i class="fas fa-save"></i>Salvar</button>

                                                <div class="tab-content" id="anamneseTabs-tabContent">

                                                    <div class="tab-pane fade active show" id="anamneseTabs-qp" role="tabpanel" aria-labelledby="anamneseTabs-qp-tab">
                                                        <textarea id="queixaPrincipalTextarea" name="queixaPrincipal" class="form-control" placeholder=""></textarea>
                                                    </div>
                                                    <div class="tab-pane fade" id="anamneseTabs-hda" role="tabpanel" aria-labelledby="anamneseTabs-hda-tab">
                                                        <textarea id="hdaTextarea" name="hda" class="form-control" placeholder=""></textarea>
                                                    </div>
                                                    <div class="tab-pane fade" id="anamneseTabs-hmp" role="tabpanel" aria-labelledby="anamneseTabs-hmp-tab">
                                                        <textarea id="hmpTextarea" name="hmp" class="form-control" placeholder=""></textarea>
                                                    </div>
                                                    <div class="tab-pane fade" id="anamneseTabs-exameFisico" role="tabpanel" aria-labelledby="anamneseTabs-exameFisico-tab">
                                                        <textarea id="exameFisicoTextarea" name="exameFisico" class="form-control" placeholder=""></textarea>
                                                    </div>
                                                    <div class="tab-pane fade" id="anamneseTabs-alergias" role="tabpanel" aria-labelledby="anamneseTabs-alergias-tab">
                                                        <div class="row">

                                                            <div class="col-md-6">
                                                                <div class="card card-primary shadow-lg">
                                                                    <div class="card-header">
                                                                        <h3 class="card-title">Lista Alergias</h3>

                                                                        <div class="card-tools">
                                                                            <button type="button" class="btn btn-tool" data-card-widget="maximize"><i class="fas fa-expand"></i>
                                                                            </button>
                                                                        </div>
                                                                        <!-- /.card-tools -->
                                                                    </div>
                                                                    <!-- /.card-header -->
                                                                    <div class="card-body">
                                                                        <div>
                                                                            <button type="button" class="btn btn-primary btn-xs" onclick="addAlergiaModal()" title="Adicionar Alergia">Adicionar</button>
                                                                        </div>

                                                                        <table id="data_tablepacientesAlergia" class="table table-striped table-hover table-sm">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th>Nº</th>
                                                                                    <th>Descrição Alergênico</th>
                                                                                    <th></th>
                                                                                </tr>
                                                                            </thead>
                                                                        </table>

                                                                    </div>
                                                                    <!-- /.card-body -->
                                                                </div>
                                                                <!-- /.card -->
                                                            </div>

                                                            <div class="col-md-6">
                                                                <div class="card card-primary shadow-lg">
                                                                    <div class="card-header">
                                                                        <h3 class="card-title">História da Alergia</h3>

                                                                        <div class="card-tools">
                                                                            <button type="button" class="btn btn-tool" data-card-widget="maximize"><i class="fas fa-expand"></i>
                                                                            </button>
                                                                        </div>
                                                                        <!-- /.card-tools -->
                                                                    </div>
                                                                    <!-- /.card-header -->
                                                                    <div class="card-body">
                                                                        <textarea id="historiaAlergiasTextarea" name="hda" class="form-control" placeholder="queixa Principal"></textarea>
                                                                    </div>
                                                                    <!-- /.card-body -->
                                                                </div>
                                                                <!-- /.card -->
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="tab-pane fade" id="anamneseTabs-medicamentos" role="tabpanel" aria-labelledby="anamneseTabs-medicamentos-tab">


                                                        <div class="row">

                                                            <div class="col-md-6">
                                                                <div class="card card-primary shadow-lg">
                                                                    <div class="card-header">
                                                                        <h3 class="card-title">Lista Medicamentos</h3>

                                                                        <div class="card-tools">
                                                                            <button type="button" class="btn btn-tool" data-card-widget="maximize"><i class="fas fa-expand"></i>
                                                                            </button>
                                                                        </div>
                                                                        <!-- /.card-tools -->
                                                                    </div>
                                                                    <!-- /.card-header -->
                                                                    <div class="card-body">
                                                                        <div>
                                                                            Adicione aqui apenas os medicamentos de uso continuado do Paciente. </div>
                                                                        <div>
                                                                            <button type="button" class="btn btn-primary btn-xs" onclick="addMedicamentoContinuoModal()" title="Adicionar Medicamento">Adicionar</button>
                                                                        </div>

                                                                        <table id="data_tablepacientesMedicamentosContinuo" class="table table-striped table-hover table-sm">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th>Nº</th>
                                                                                    <th>Descrição Medicamento</th>
                                                                                    <th></th>
                                                                                </tr>
                                                                            </thead>
                                                                        </table>

                                                                    </div>
                                                                    <!-- /.card-body -->
                                                                </div>
                                                                <!-- /.card -->
                                                            </div>

                                                            <div class="col-md-6">
                                                                <div class="card card-primary shadow-lg">
                                                                    <div class="card-header">
                                                                        <h3 class="card-title">História dos Medicamentos</h3>

                                                                        <div class="card-tools">
                                                                            <button type="button" class="btn btn-tool" data-card-widget="maximize"><i class="fas fa-expand"></i>
                                                                            </button>
                                                                        </div>
                                                                        <!-- /.card-tools -->
                                                                    </div>
                                                                    <!-- /.card-header -->
                                                                    <div class="card-body">
                                                                        <textarea id="historiaMedicamentosContinuoTextarea" name="hda" class="form-control" placeholder="queixa Principal"></textarea>
                                                                    </div>
                                                                    <!-- /.card-body -->
                                                                </div>
                                                                <!-- /.card -->
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="tab-pane fade" id="anamneseTabs-parametrosClinicos" role="tabpanel" aria-labelledby="anamneseTabs-parametrosClinicos-tab">
                                                        <div class="row">

                                                            <div class="col-md-12">
                                                                <div class="card card-secondary">

                                                                    <div class="card-header">
                                                                        <h3 class="card-title">ANTROPOMETRIA</h3>

                                                                        <div class="card-tools">
                                                                            <button type="button" class="btn btn-tool" data-card-widget="maximize"><i class="fas fa-expand"></i>
                                                                            </button>
                                                                        </div>
                                                                    </div>
                                                                    <div class="card-body">

                                                                        <div class="row">
                                                                            <div class="col-md-2">
                                                                                <div class="form-group">
                                                                                    <label for="peso"> Peso: </label>
                                                                                    <input type="number" autocomplete="off" id="peso" name="peso" class="form-control" placeholder="Kg">

                                                                                </div>
                                                                            </div>
                                                                            <div class="col-md-2">
                                                                                <div class="form-group">
                                                                                    <label for="altura"> Altura: </label>
                                                                                    <input type="number" autocomplete="off" id="altura" name="altura" class="form-control" placeholder="metros">

                                                                                </div>
                                                                            </div>

                                                                            <div class="col-md-4">

                                                                                <button type="button" class="btn btn-block btn-outline-primary btn-lg"> IMC =<span id="imcAdd"></span>
                                                                                </button>
                                                                            </div>
                                                                        </div>
                                                                        <div class="row">
                                                                            <div class="col-md-4">
                                                                                <div class="form-group">
                                                                                    <label for="perimetroCefalico"> Perímetro Cefálico: </label>
                                                                                    <input type="number" autocomplete="off" id="perimetroCefalico" name="perimetroCefalico" class="form-control" placeholder="Kg">

                                                                                </div>
                                                                            </div>
                                                                            <div class="col-md-4">
                                                                                <div class="form-group">
                                                                                    <label for="parimetroAbdominal"> Perímetro Abdominal: </label>
                                                                                    <input type="number" autocomplete="off" id="parimetroAbdominal" name="parimetroAbdominal" class="form-control" placeholder="cm">

                                                                                </div>
                                                                            </div>

                                                                        </div>


                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="col-md-12">
                                                                <div class="card card-secondary">

                                                                    <div class="card-header">
                                                                        <h3 class="card-title">SINAIS VITAIS</h3>

                                                                        <div class="card-tools">
                                                                            <button type="button" class="btn btn-tool" data-card-widget="maximize"><i class="fas fa-expand"></i>
                                                                            </button>
                                                                        </div>
                                                                    </div>
                                                                    <div class="card-body">

                                                                        <div class="row">
                                                                            <div class="col-md-2">
                                                                                <div class="form-group">
                                                                                    <label for="paSistolica"> PA Sistólica: </label>
                                                                                    <input type="number" autocomplete="off" id="paSistolica" name="paSistolica" class="form-control" placeholder="mmHg">

                                                                                </div>
                                                                            </div>
                                                                            <div class="col-md-2">
                                                                                <div class="form-group">
                                                                                    <label for="paDiastolicas"> PA Diatólica: </label>
                                                                                    <input type="number" autocomplete="off" id="paDiastolica" name="paDiastolica" class="form-control" placeholder="mmHg">

                                                                                </div>
                                                                            </div>
                                                                            <div class="col-md-3">
                                                                                <div class="form-group">
                                                                                    <label for="fc"> Freq Cardíaca: </label>
                                                                                    <input type="number" autocomplete="off" id="fc" name="fc" class="form-control" placeholder="Bpm">

                                                                                </div>
                                                                            </div>
                                                                            <div class="col-md-3">
                                                                                <div class="form-group">
                                                                                    <label for="fr"> Freq Respiratória: </label>
                                                                                    <input type="number" autocomplete="off" id="fr" name="fr" class="form-control" placeholder="Mpm">

                                                                                </div>
                                                                            </div>


                                                                        </div>

                                                                        <div class="row">
                                                                            <div class="col-md-2">
                                                                                <div class="form-group">
                                                                                    <label for="temperatura">Temperatura: </label>
                                                                                    <input type="number" autocomplete="off" id="temperatura" name="temperatura" class="form-control" placeholder="ºC">

                                                                                </div>
                                                                            </div>
                                                                            <div class="col-md-2">
                                                                                <div class="form-group">
                                                                                    <label for="saturacao"> Saturaçãoa: </label>
                                                                                    <input type="number" autocomplete="off" id="saturacao" name="saturacao" class="form-control" placeholder="%">

                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="col-md-12">
                                                                <div class="card card-secondary">

                                                                    <div class="card-header">
                                                                        <h3 class="card-title">GLICEMIA</h3>

                                                                        <div class="card-tools">
                                                                            <button type="button" class="btn btn-tool" data-card-widget="maximize"><i class="fas fa-expand"></i>
                                                                            </button>
                                                                        </div>
                                                                    </div>
                                                                    <div class="card-body">

                                                                        <div class="row">
                                                                            <div class="col-md-2">
                                                                                <div class="form-group">
                                                                                    <label for="glicemiaJejum"> Jejum </label>
                                                                                    <input type="number" autocomplete="off" id="glicemiaJejum" name="glicemiaJejum" class="form-control" placeholder="mg/dL">

                                                                                </div>
                                                                            </div>
                                                                            <div class="col-md-2">
                                                                                <div class="form-group">
                                                                                    <label for="glicemiaPosPrandial"> Pós-Prandial: </label>
                                                                                    <input type="number" autocomplete="off" id="glicemiaPosPrandial" name="glicemiaPosPrandial" class="form-control" placeholder="mg/dL">

                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>


                                                        </div>

                                                    </div>
                                                    <div class="tab-pane fade" id="anamneseTabs-morbidades" role="tabpanel" aria-labelledby="anamneseTabs-morbidades-tab">





                                                        <div class="row">
                                                            <div class="col-md-12">
                                                                <div class="form-group">
                                                                    <div class="icheck-primary d-inline">
                                                                        <style>
                                                                            input[type=checkbox] {
                                                                                transform: scale(1.8);
                                                                            }
                                                                        </style>
                                                                        <input style="margin-left:5px;" name='diabetesMellitus' id='diabetesMellitus' type="checkbox">


                                                                    </div><span style="margin-left:5px"><b>DIABETES MELLITUS</b> - Qualquer indivíduo com diabetes.</span>

                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div class="row">
                                                            <div class="col-md-12">
                                                                <div class="form-group">
                                                                    <div class="icheck-primary d-inline">
                                                                        <style>
                                                                            input[type=checkbox] {
                                                                                transform: scale(1.8);
                                                                            }
                                                                        </style>
                                                                        <input style="margin-left:5px;" name='pneumopatiaCronicaGrave' id='pneumopatiaCronicaGrave' type="checkbox">


                                                                    </div><span style="margin-left:5px"><b>PNEUMOPATIA CRÔNICA GRAVE</b> - Indivíduo com pneumopatia grave incluindo doença
                                                                        pulmonar obstrutiva crônica, fibrose cística, fibroses pulmonares, pneumoconioses, displasia broncopulmonar e asma
                                                                        grave (uso recorrente de corticoides sistêmicos, internação prévia por crise asmática).</span>

                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div class="row">
                                                            <div class="col-md-12">
                                                                <div class="form-group">
                                                                    <div class="icheck-primary d-inline">
                                                                        <style>
                                                                            input[type=checkbox] {
                                                                                transform: scale(1.8);
                                                                            }
                                                                        </style>
                                                                        <input style="margin-left:5px;" name='har' id='har' type="checkbox">


                                                                    </div><span style="margin-left:5px"><b>HIPERTENSÃO ARTERIAL RESISTENTE (HAR)</b> - Quando a pressão arterial (PA) permanece
                                                                        acima das metas recomendadas com o uso de três ou mais anti-hipertensivos de diferentes classes, em doses máximas
                                                                        preconizadas e toleradas, administradas com frequência, dosagem apropriada e comprovada adesão ou PA controlada
                                                                        em uso de quatro ou mais fármacos antihipertensivos.</span>

                                                                </div>
                                                            </div>
                                                        </div>


                                                        <div class="row">
                                                            <div class="col-md-12">
                                                                <div class="form-group">
                                                                    <div class="icheck-primary d-inline">
                                                                        <style>
                                                                            input[type=checkbox] {
                                                                                transform: scale(1.8);
                                                                            }
                                                                        </style>
                                                                        <input style="margin-left:5px;" name='hae3' id='hae3' type="checkbox">


                                                                    </div><span style="margin-left:5px"><b>HIPERTENSÃO ARTERIAL ESTÁGIO 3</b> -PA sistólica ≥180mmHg e/ou diastólica ≥110mmHg
                                                                        independente da presença de lesão em órgão-alvo (LOA) ou comorbidade.</span>

                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div class="row">
                                                            <div class="col-md-12">
                                                                <div class="form-group">
                                                                    <div class="icheck-primary d-inline">
                                                                        <style>
                                                                            input[type=checkbox] {
                                                                                transform: scale(1.8);
                                                                            }
                                                                        </style>
                                                                        <input style="margin-left:5px;" name='hae12' id='hae12' type="checkbox">


                                                                    </div><span style="margin-left:5px"><b>HIPERTENSÃO ARTERIAL ESTÁGIOS 1 E 2 COM LESÃO EM ÓRGÃO-ALVO E/OU
                                                                            COMORBIDADE</b>
                                                                        - PA sistólica entre 140 e 179mmHg e/ou diastólica entre 90 e 109mmHg na presença de lesão
                                                                        em órgão-alvo e/ou comorbidade.
                                                                    </span>

                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div class="row">
                                                            <div class="col-md-12">
                                                                <div class="form-group">
                                                                    <div class="icheck-primary d-inline">
                                                                        <style>
                                                                            input[type=checkbox] {
                                                                                transform: scale(1.8);
                                                                            }
                                                                        </style>
                                                                        <input style="margin-left:5px;" name='ic' id='ic' type="checkbox">


                                                                    </div><span style="margin-left:5px"><b>INSUFICIÊNCIA CARDÍACA (IC)</b> - IC com fração de ejeção reduzida, intermediária ou preservada; em
                                                                        estágios B, C ou D, independente de classe funcional da New York Heart Association.

                                                                    </span>

                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div class="row">
                                                            <div class="col-md-12">
                                                                <div class="form-group">
                                                                    <div class="icheck-primary d-inline">
                                                                        <style>
                                                                            input[type=checkbox] {
                                                                                transform: scale(1.8);
                                                                            }
                                                                        </style>
                                                                        <input style="margin-left:5px;" name='cphp' id='cphp' type="checkbox">


                                                                    </div><span style="margin-left:5px"><b>COR-PULMONALE E HIPERTENSÃO PULMONAR</b>
                                                                        - Cor-pulmonale crônico, hipertensão
                                                                        pulmonar primária ou secundária.
                                                                    </span>

                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-md-12">
                                                                <div class="form-group">
                                                                    <div class="icheck-primary d-inline">
                                                                        <style>
                                                                            input[type=checkbox] {
                                                                                transform: scale(1.8);
                                                                            }
                                                                        </style>
                                                                        <input style="margin-left:5px;" name='ch' id='ch' type="checkbox">


                                                                    </div><span style="margin-left:5px"><b>CARDIOPATIA HIPERTENSIVA </b>
                                                                        - Cardiopatia hipertensiva (hipertrofia ventricular esquerda ou
                                                                        dilatação, sobrecarga atrial e ventricular, disfunção diastólica e/ou sistólica, lesões em outros órgãos-alvo).

                                                                    </span>

                                                                </div>
                                                            </div>
                                                        </div>


                                                        <div class="row">
                                                            <div class="col-md-12">
                                                                <div class="form-group">
                                                                    <div class="icheck-primary d-inline">
                                                                        <style>
                                                                            input[type=checkbox] {
                                                                                transform: scale(1.8);
                                                                            }
                                                                        </style>
                                                                        <input style="margin-left:5px;" name='sc' id='sc' type="checkbox">


                                                                    </div><span style="margin-left:5px"><b>SÍNDROME CORONARIANA </b>

                                                                        - Síndrome coronariana crônica (Angina Pectoris estável,
                                                                        cardiopatia isquêmica, pós Infarto Agudo do Miocárdio, outras).

                                                                    </span>

                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-md-12">
                                                                <div class="form-group">
                                                                    <div class="icheck-primary d-inline">
                                                                        <style>
                                                                            input[type=checkbox] {
                                                                                transform: scale(1.8);
                                                                            }
                                                                        </style>
                                                                        <input style="margin-left:5px;" name='valvopatia' id='valvopatia' type="checkbox">


                                                                    </div><span style="margin-left:5px"><b>VALVOPATIA</b>

                                                                        - Lesão valvar com repercussão hemodinâmica ou sintomática ou com comprometimento
                                                                        miocárdico (estenose ou insuficiência aórtica; estenose ou insuficiência mitral; estenose ou insuficiência pulmonar;
                                                                        estenose ou insuficiência tricúspide, e outras).


                                                                    </span>

                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-md-12">
                                                                <div class="form-group">
                                                                    <div class="icheck-primary d-inline">
                                                                        <style>
                                                                            input[type=checkbox] {
                                                                                transform: scale(1.8);
                                                                            }
                                                                        </style>
                                                                        <input style="margin-left:5px;" name='miocarPericar' id='miocarPericar' type="checkbox">


                                                                    </div>
                                                                    <span style="margin-left:5px"><b>MIOCARDIOPATIA E PERICARDIOPATIA</b>

                                                                        - Miocardiopatia de quaisquer etiologias ou fenótipos; pericardite crônica; cardiopatia reumática.

                                                                    </span>

                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-md-12">
                                                                <div class="form-group">
                                                                    <div class="icheck-primary d-inline">
                                                                        <style>
                                                                            input[type=checkbox] {
                                                                                transform: scale(1.8);
                                                                            }
                                                                        </style>
                                                                        <input style="margin-left:5px;" name='aortaVasosFistulas' id='aortaVasosFistulas' type="checkbox">


                                                                    </div>
                                                                    <span style="margin-left:5px"><b>DOENÇA DA AORTA, DOS GRANDES VASOS E FÍSTULAS ARTERIOVENOSAS</b>

                                                                        - Aneurismas, dissecções, hematomas da aorta e demais grandes vasos.

                                                                    </span>

                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-md-12">
                                                                <div class="form-group">
                                                                    <div class="icheck-primary d-inline">
                                                                        <style>
                                                                            input[type=checkbox] {
                                                                                transform: scale(1.8);
                                                                            }
                                                                        </style>
                                                                        <input style="margin-left:5px;" name='arritimiasCardiacas' id='arritimiasCardiacas' type="checkbox">


                                                                    </div>
                                                                    <span style="margin-left:5px"><b>ARRITMIAS CARDÍACAS</b>

                                                                        - Arritmias cardíacas com importância clínica e/ou cardiopatia associada
                                                                        (fibrilação e flutter atriais; e outras).


                                                                    </span>

                                                                </div>
                                                            </div>
                                                        </div>



                                                        <div class="row">
                                                            <div class="col-md-12">
                                                                <div class="form-group">
                                                                    <div class="icheck-primary d-inline">
                                                                        <style>
                                                                            input[type=checkbox] {
                                                                                transform: scale(1.8);
                                                                            }
                                                                        </style>
                                                                        <input style="margin-left:5px;" name='cardiopatiaCongenitaAdulto' id='cardiopatiaCongenitaAdulto' type="checkbox">


                                                                    </div>
                                                                    <span style="margin-left:5px"><b>CARDIOPATIA CONGÊNITA EM ADULTO</b>

                                                                        - Cardiopatia congênitas com repercussão hemodinâmica, crises hipoxêmicas; insuficiência cardíaca; arritmias; comprometimento miocárdico.



                                                                    </span>

                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div class="row">
                                                            <div class="col-md-12">
                                                                <div class="form-group">
                                                                    <div class="icheck-primary d-inline">
                                                                        <style>
                                                                            input[type=checkbox] {
                                                                                transform: scale(1.8);
                                                                            }
                                                                        </style>
                                                                        <input style="margin-left:5px;" name='protesesValvaresDispCardImplatados' id='protesesValvaresDispCardImplatados' type="checkbox">


                                                                    </div>
                                                                    <span style="margin-left:5px"><b>PRÓTESES VALVARES E DISPOSITIVOS CARDÍACOS IMPLANTADOS</b>

                                                                        - Portadores de próteses valvares biológicas ou mecânicas; e dispositivos cardíacos implantados (marca-passos, cardio
                                                                        desfibriladores, ressincronizadores, assistência circulatória de média e longa permanência).

                                                                    </span>

                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div class="row">
                                                            <div class="col-md-12">
                                                                <div class="form-group">
                                                                    <div class="icheck-primary d-inline">
                                                                        <style>
                                                                            input[type=checkbox] {
                                                                                transform: scale(1.8);
                                                                            }
                                                                        </style>
                                                                        <input style="margin-left:5px;" name='doencaCerebroVascular' id='doencaCerebroVascular' type="checkbox">


                                                                    </div>
                                                                    <span style="margin-left:5px"><b>DOENÇA CEREBROVASCULAR </b>

                                                                        - Acidente vascular cerebral isquêmico ou hemorrágico; ataque isquêmico transitório; demência vascular.


                                                                    </span>

                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-md-12">
                                                                <div class="form-group">
                                                                    <div class="icheck-primary d-inline">
                                                                        <style>
                                                                            input[type=checkbox] {
                                                                                transform: scale(1.8);
                                                                            }
                                                                        </style>
                                                                        <input style="margin-left:5px;" name='doencaRenalCronica' id='doencaRenalCronica' type="checkbox">


                                                                    </div>
                                                                    <span style="margin-left:5px"><b>DOENÇA RENAL CRÔNICA</b>

                                                                        - Doença renal crônica estágio 3 ou mais (taxa de filtração glomerular < 60 ml/min/1,73 m&sup2;) e/ou síndrome nefrótica. </span>

                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-md-12">
                                                                <div class="form-group">
                                                                    <div class="icheck-primary d-inline">
                                                                        <style>
                                                                            input[type=checkbox] {
                                                                                transform: scale(1.8);
                                                                            }
                                                                        </style>
                                                                        <input style="margin-left:5px;" name='imuninosuprimido' id='imuninosuprimido' type="checkbox">


                                                                    </div>
                                                                    <span style="margin-left:5px"><b>IMUNOSSUPRIMIDO</b>

                                                                        - Indivíduo transplantado de órgão sólido ou de medula óssea; pessoa vivendo
                                                                        com HIV; doenças reumáticas imunomediadas sistêmicas em atividade e em uso de dose de prednisona ou
                                                                        equivalente > 10 mg/dia ou recebendo pulsoterapia com corticoide e/ou ciclofosfamida; demais indivíduos em uso de
                                                                        imunossupressores ou com imunodeficiências primárias; pacientes oncológicos que realizaram tratamento
                                                                        quimioterápico ou radioterápico nos últimos 6 meses; neoplasias hematológicas.

                                                                    </span>

                                                                </div>
                                                            </div>
                                                        </div>

                                                        <div class="row">
                                                            <div class="col-md-12">
                                                                <div class="form-group">
                                                                    <div class="icheck-primary d-inline">
                                                                        <style>
                                                                            input[type=checkbox] {
                                                                                transform: scale(1.8);
                                                                            }
                                                                        </style>
                                                                        <input style="margin-left:5px;" name='hemoglobinopatiaGrave' id='hemoglobinopatiaGrave' type="checkbox">


                                                                    </div>
                                                                    <span style="margin-left:5px"><b>HEMOGLOBINOPATIA GRAVES</b>

                                                                        - Doença falciforme e talassemia maior.

                                                                    </span>

                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-md-12">
                                                                <div class="form-group">
                                                                    <div class="icheck-primary d-inline">
                                                                        <style>
                                                                            input[type=checkbox] {
                                                                                transform: scale(1.8);
                                                                            }
                                                                        </style>
                                                                        <input style="margin-left:5px;" name='obesidadeMorbida' id='obesidadeMorbida' type="checkbox">


                                                                    </div>
                                                                    <span style="margin-left:5px"><b>OBESIDADE MÓRBIDA</b>

                                                                        - Índice de massa corpórea (IMC) ≥ 40 kg/m&sup2;

                                                                    </span>

                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-md-12">
                                                                <div class="form-group">
                                                                    <div class="icheck-primary d-inline">
                                                                        <style>
                                                                            input[type=checkbox] {
                                                                                transform: scale(1.8);
                                                                            }
                                                                        </style>
                                                                        <input style="margin-left:5px;" name='sindromeDown' id='sindromeDown' type="checkbox">


                                                                    </div>
                                                                    <span style="margin-left:5px"><b>SÍNDROME DE DOWN</b>

                                                                        - Trissomia do cromossomo 21.

                                                                    </span>

                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-md-12">
                                                                <div class="form-group">
                                                                    <div class="icheck-primary d-inline">
                                                                        <style>
                                                                            input[type=checkbox] {
                                                                                transform: scale(1.8);
                                                                            }
                                                                        </style>
                                                                        <input style="margin-left:5px;" name='cirroseHepatica' id='cirroseHepatica' type="checkbox">


                                                                    </div>
                                                                    <span style="margin-left:5px"><b>CIRROSE HEPÁTICA</b>

                                                                        - Cirrose hepática Child-Pugh A, B ou C.
                                                                    </span>

                                                                </div>
                                                            </div>
                                                        </div>




                                                    </div>

                                                    <div class="tab-pane fade" id="anamneseTabs-outrasInformacoes" role="tabpanel" aria-labelledby="anamneseTabs-outrasInformacoes-tab">
                                                        <div class="row">
                                                            <div class="col-md-12">
                                                                <div class="card-body">
                                                                    <textarea id="outrasInformacoesTextarea" name="outrasInformacoesTextarea" class="form-control"></textarea>
                                                                </div>
                                                            </div>


                                                        </div>
                                                    </div>

                                                </div>

                                            </div>

                                        </div>

                                    </div>
                                    <div class="tab-pane fade" id="editarAtendimento-diagnostico" role="tabpanel" aria-labelledby="editarAtendimento-diagnostico-tab">


                                        <div class="col-12 col-sm-12">
                                            <div class="card card-primary card-tabs">
                                                <div class="card-header p-0 pt-1">
                                                    <ul class="nav nav-tabs" id="diagnosticoDetalhe-tab" role="tablist">
                                                        <li class="nav-item">
                                                            <a class="nav-link active" id="diagnosticoDetalhe-principal-tab" data-toggle="pill" href="#diagnosticoDetalhe-principal" role="tab" aria-controls="diagnosticoDetalhe-principal" aria-selected="true">Diagnóstico deste atendimento</a>
                                                        </li>
                                                        <li class="nav-item">
                                                            <a class="nav-link" id="diagnosticoDetalhe-historico-tab" data-toggle="pill" href="#diagnosticoDetalhe-historico" role="tab" aria-controls="diagnosticoDetalhe-historico" aria-selected="false">Histórico de diagnósticos deste Pacientes <span style="font-size:8px" class="right badge badge-danger">Novo</span> </a>
                                                        </li>
                                                    </ul>
                                                </div>
                                                <div class="card-body">
                                                    <div class="tab-content" id="diagnosticoDetalhe-tabContent">
                                                        <div class="tab-pane fade show active" id="diagnosticoDetalhe-principal" role="tabpanel" aria-labelledby="diagnosticoDetalhe-principal-tab">

                                                            <div class="col-md-2">
                                                                <button id="btnAtendimentoDiagnostico" type="button" class="btn btn-block btn-primary" data-toggle="tooltip" data-placement="top" title="Adicionar" onclick="addatendimentoDiagnostico()" title="Adicionar">Adicionar</button>
                                                            </div>

                                                            <table id="data_tableatendimentoDiagnostico" class="table table-striped table-hover table-sm">
                                                                <thead>
                                                                    <tr>
                                                                        <th>Seq</th>
                                                                        <th>Diagnóstico/CID10</th>
                                                                        <th>Tipo Diagnóstico</th>
                                                                        <th>Autor</th>
                                                                        <th>Data Diagnóstico</th>

                                                                        <th></th>
                                                                    </tr>
                                                                </thead>
                                                            </table>
                                                        </div>
                                                        <div class="tab-pane fade" id="diagnosticoDetalhe-historico" role="tabpanel" aria-labelledby="diagnosticoDetalhe-historico-tab">


                                                            <table id="data_tableatendimentoDiagnosticoHistorico" class="table table-striped table-hover table-sm">
                                                                <thead>
                                                                    <tr>
                                                                        <th>Nº Atendimento</th>
                                                                        <th>Tipo Atendimento</th>
                                                                        <th>Diagnóstico/CID10</th>
                                                                        <th>Tipo Diagnóstico</th>
                                                                        <th>Autor</th>
                                                                        <th>Data Diagnóstico</th>
                                                                    </tr>
                                                                </thead>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- /.card -->
                                            </div>
                                        </div>




                                    </div>

                                    <div class="tab-pane fade" id="editarAtendimento-evolucao" role="tabpanel" aria-labelledby="editarAtendimento-evolucao-tab">



                                        <div class="row">
                                            <button id="btnAtendimentosEvolucoes" type="button" class="btn btn-lg btn-primary" data-toggle="tooltip" data-placement="top" onclick="addAtendimentosEvolucoes()"><i class="fa fa-edit"></i>Nova</button>
                                        </div>

                                        <div class="row">
                                            <div class="col-sm-12">
                                                <table id="data_tableatendimentosEvolucoes" class="table table-striped table-hover table-sm">
                                                    <thead>
                                                        <tr>
                                                            <th>Código</th>
                                                            <th>Evolução</th>
                                                            <th>Tipo</th>
                                                            <th>Autor</th>
                                                            <th>Data Evolução</th>
                                                            <th>Status</th>
                                                            <th></th>
                                                        </tr>
                                                    </thead>
                                                </table>


                                            </div>
                                        </div>
                                    </div>

                                    <div class="tab-pane fade" id="editarAtendimento-condutas" role="tabpanel" aria-labelledby="editarAtendimento-condutas-tab">


                                        <div class="row">
                                            <button id="btnAtendimentosCondutas" type="button" class="btn btn-lg btn-primary" data-toggle="tooltip" data-placement="top" onclick="addAtendimentosCondutas()"><i class="fa fa-edit"></i>Nova</button>
                                        </div>


                                        <div class="row">
                                            <div class="col-sm-12">
                                                <table id="data_tableatendimentosCondutas" class="table table-striped table-hover table-sm">
                                                    <thead>
                                                        <tr>
                                                            <th>Código</th>
                                                            <th>Conduta</th>
                                                            <th>Autor</th>
                                                            <th>Data Conduta</th>
                                                            <th>Status</th>
                                                            <th></th>
                                                        </tr>
                                                    </thead>
                                                </table>
                                            </div>

                                        </div>

                                    </div>
                                    <div class="tab-pane fade" id="editarAtendimento-prescricao" role="tabpanel" aria-labelledby="editarAtendimento-prescricao-tab">

                                        <div class="row">

                                            <div class="col-md-12 d-flex justify-content-center">
                                                <i style="color:red" class="fas fa-info"></i> <span style="color:red;margin-left:5px"> Área destinada para prescrições de Urgência/Emergência, Cirurgias, Internações e Tratamentos Oncológicos .</span>
                                            </div>

                                        </div>

                                        <div class="row">
                                            <input type="hidden" id="codAtendimentoPrescricoesAdd">
                                            <button id="criarNovaPrescricao" type="button" class="btn btn-lg btn-primary" data-toggle="tooltip" data-placement="top" onclick="addAtendimentosPrescricoes()"><i class="fa fa-edit"></i>Novo</button>
                                        </div>


                                        <div class="row">

                                            <div class="col-sm-12">
                                                <table id="data_tableatendimentosPrescricoes" class="table table-striped table-hover table-sm">
                                                    <thead>
                                                        <tr>
                                                            <th>Código</th>
                                                            <th>Prescrição</th>
                                                            <th>Autor</th>
                                                            <th>Data Prescrição</th>
                                                            <th>Período</th>
                                                            <th>Status</th>

                                                            <th></th>
                                                        </tr>
                                                    </thead>
                                                </table>
                                            </div>

                                        </div>

                                    </div>


                                    <div class="tab-pane fade" id="editarAtendimento-parecer" role="tabpanel" aria-labelledby="editarAtendimento-parecer-tab">


                                        <div class="row">
                                            <button id="btnAtendimentosPareceres" type="button" class="btn btn-lg btn-primary" data-toggle="tooltip" data-placement="top" onclick="addAtendimentosPareceres()"><i class="fa fa-edit"></i>Novo</button>
                                        </div>


                                        <div class="row">
                                            <div class="col-sm-12">
                                                <table id="data_tableatendimentosPareceres" class="table table-striped table-hover table-sm">
                                                    <thead>
                                                        <tr>
                                                            <th>Código</th>
                                                            <th>Parecer</th>
                                                            <th>Autor</th>
                                                            <th>Data Parecer</th>
                                                            <th>Status</th>
                                                            <th></th>
                                                        </tr>
                                                    </thead>
                                                </table>
                                            </div>

                                        </div>

                                    </div>



                                    <div class="tab-pane fade" id="editarAtendimento-receita" role="tabpanel" aria-labelledby="editarAtendimento-receita-tab">


                                        <div class="row">
                                            <button id="btnAtendimentosReceita" type="button" class="btn btn-lg btn-primary" data-toggle="tooltip" data-placement="top" onclick="addAtendimentosReceita()"><i class="fa fa-edit"></i>Novo</button>
                                        </div>


                                        <div class="row">
                                            <div class="col-sm-12">
                                                <table id="data_tableatendimentosDocumentos" class="table table-striped table-hover table-sm">
                                                    <thead>
                                                        <tr>
                                                            <th>Código</th>
                                                            <th>Descrição</th>
                                                            <th>Autor</th>
                                                            <th>Data Receita</th>
                                                            <th>Tipo Receita</th>
                                                            <th>Status</th>
                                                            <th></th>
                                                        </tr>
                                                    </thead>
                                                </table>
                                            </div>

                                        </div>

                                    </div>



                                    <div class="tab-pane fade" id="editarAtendimento-descricaoCirurgica" role="tabpanel" aria-labelledby="editarAtendimento-descricaoCirurgica-tab">



                                        <div id="addBtnAtoCirurgico"></div>

                                        <table id="data_tableatoCirurgico" class="table table-striped table-hover table-sm">
                                            <thead>
                                                <tr>
                                                    <th>Código</th>
                                                    <th>Resumo</th>
                                                    <th>Tipo</th>
                                                    <th>Data Criação</th>
                                                    <th>Autor</th>
                                                    <th>Status</th>

                                                    <th></th>
                                                </tr>
                                            </thead>
                                        </table>

                                    </div>




                                    <div class="tab-pane fade" id="editarAtendimento-hemoTerapia" role="tabpanel" aria-labelledby="editarAtendimento-hemoTerapia-tab">
                                        <div class="row">
                                            <img style="width:300px" src="<?php echo base_url() ?>/imagens/emconstrucao.jpg">
                                        </div>

                                        <div class="row">
                                            <input type="hidden" id="codAtendimentoHemoTerapiaAdd">
                                            <button type="button" class="btn btn-lg btn-primary" data-toggle="tooltip" data-placement="top" onclick="addAtendimentosHemoTerapia()"><i class="fa fa-edit"></i>Novo</button>
                                        </div>


                                        <div class="row">
                                            <div class="col-sm-12">
                                                <table id="data_tableatendimentosHemoTerapia" class="table table-striped table-hover table-sm">
                                                    <thead>
                                                        <tr>
                                                            <th>Código</th>
                                                            <th>Descrição</th>
                                                            <th>Autor</th>
                                                            <th>Data Parecer</th>
                                                            <th>Status</th>
                                                            <th></th>
                                                        </tr>
                                                    </thead>
                                                </table>
                                            </div>

                                        </div>

                                    </div>
                                    <div class="tab-pane fade" id="editarAtendimento-indicacaoClinica" role="tabpanel" aria-labelledby="editarAtendimento-indicacaoClinica-tab">
                                        <div class="row">
                                            <button type="button" class="btn btn-lg btn-primary" data-toggle="tooltip" data-placement="top" onclick="addindicacoesClinicas()"><i class="fa fa-edit"></i>Novo</button>
                                        </div>

                                        <div style="margin-top:15px;color:red">
                                            Caro(a), profissional de saúde,
                                            <br>1º - indique aqui apenas as especialidades que este paciente poderá marcar pela internet.
                                            <br>2º - Informe ao paciente que após sua indicação, ele tera 120 dias para marcar uma consulta. Após isso, ele terá que ser reavaliado.
                                            <br>3º - Casos de pacientes crônicos podem ter sua indicação para "acompanhamento contínuo". Neste contexto, o paciente poderá marcar consultas/retorno indeterminadamente.
                                            <br>4º - Confirme se ele já não tem uma indicação válida.
                                        </div>

                                        <div class="row">
                                            <div class="col-sm-12">
                                                <table id="data_tableindicacoesClinicas" class="table table-striped table-hover table-sm">
                                                    <thead>
                                                        <tr>
                                                            <th>Nº</th>
                                                            <th>Protocolo</th>
                                                            <th>Especialidade</th>
                                                            <th>Indicado em</th>
                                                            <th>Data validade</th>
                                                            <th>Justificativa</th>
                                                            <th>Concedido por</th>
                                                            <th></th>
                                                        </tr>
                                                    </thead>
                                                </table>
                                            </div>

                                        </div>

                                    </div>

                                    <div class="tab-pane fade" id="editarAtendimento-HistoricoPaciente" role="tabpanel" aria-labelledby="editarAtendimento-HistoricoPaciente-tab">

                                        <div id="btnHistoricoPaciente" class="row"></div>
                                        <div class="row">
                                            <div class="col-md-12">
                                                <div id='htmlHistoricoPaciente' class="timeline">


                                                    <div>
                                                        <i class="fas fa-clock bg-gray"></i>
                                                    </div>

                                                </div>
                                            </div>
                                            <!-- /.col -->
                                        </div>

                                    </div>

                                    <div class="tab-pane fade" id="editarAtendimento-PrevisaoAltaPaciente" role="tabpanel" aria-labelledby="editarAtendimento-PrevisaoAltaPaciente-tab">


                                        <div style="margin-top:5px" id="btnprevisaoAlta2" class="row"></div>

                                        <div class="card-body">
                                            <table id="data_tableprevisaoAlta" class="table table-striped table-hover table-sm">
                                                <thead>
                                                    <tr>
                                                        <th>Nº Previsão</th>
                                                        <th>Data Previsão</th>
                                                        <th>Condição de Alta</th>
                                                        <th>Autor</th>
                                                        <th></th>
                                                    </tr>
                                                </thead>
                                            </table>
                                        </div>

                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>




<div id="prontuarioModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 id="tituloProntuarioModal" class="modal-title text-white">PRONTUÁRIO</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">

                <div class="col-12 col-sm-12">
                    <div class="card card-primary card-tabs">
                        <div class="card-header p-0 pt-1">
                            <ul class="nav nav-tabs" id="prontuarios-tab" role="tablist">
                                <li class="nav-item">
                                    <a class="nav-link active" id="atendimentoEmAberto-tab" data-toggle="pill" href="#atendimentoEmAberto" role="tab" aria-controls="atendimentoEmAberto" aria-selected="true">Atendimento/caso</a>
                                </li>
                                <li id="abaindicacaoClinica" class="nav-item">
                                    <a class="nav-link" id="editarAtendimento-indicacaoClinicaGeral-tab" data-toggle="pill" href="#editarAtendimento-indicacaoClinicaGeral" role="tab" aria-controls="editarAtendimento-indicacaoClinicaGeral" aria-selected="false">Indicação Clínica <span style="font-size:8px" class="right badge badge-danger">Novo</span></a>
                                </li>
                            </ul>
                        </div>
                        <div class="card-body">


                            <div class="col-md-3 justify-content-end" id="botaoPesquisaProntuarioEletronicoPerfilMedicoModal">
                            </div>


                            <div class="tab-content" id="custom-tabs-one-tabContent">
                                <div class="tab-pane fade show active" id="atendimentoEmAberto" role="tabpanel" aria-labelledby="atendimentoEmAberto-tab">

                                    <div class="row">
                                        <div class="col-md-3" id="botaoIniciaAtendimentoProntuario"></div>
                                        <span>Especialidade</span>
                                        <div class="col-md-3">
                                            <select id="codEspecialidadeFiltroProntuario" name="codEspecialidade" class="custom-select" required>
                                                <option value="1000">TODAS</option>
                                            </select>
                                        </div>
                                        <span>Tipo</span>
                                        <div class="col-md-3">
                                            <select id="codTipoAtendimentoFiltroProntuario" name="codEspecialidade" class="custom-select" required>
                                                <option value="1000">TODOS</option>
                                            </select>
                                        </div>
                                    </div>
                                    <!--
                                    <table id="data_tableAtendimentos" class="table table-striped table-hover table-sm">
                                        <thead>
                                            <tr>
                                                <th>Código</th>
                                                <th>Especialidade</th>
                                                <th>Autor</th>
                                                <th>Local</th>
                                                <th>Tipo Atendimento</th>
                                                <th>Problema</th>
                                                <th>Data Inicio</th>
                                                <th>Data Encerramento</th>
                                                <th>Status</th>
                                            </tr>
                                        </thead>
                                    </table>-->
                                    <div id="verTodosAtendimentos"></div>
                                </div>
                                <div class="tab-pane fade" id="editarAtendimento-indicacaoClinicaGeral" role="tabpanel" aria-labelledby="editarAtendimento-indicacaoClinicaGeral-tab">
                                    <div class="row">
                                        <button type="button" class="btn btn-lg btn-primary" data-toggle="tooltip" data-placement="top" onclick="addindicacoesClinicas()"><i class="fa fa-edit"></i>Novo</button>
                                    </div>

                                    <div style="margin-top:15px;color:red">
                                        Caro(a), profissional de saúde,
                                        <br>1º - indique aqui apenas as especialidades que este paciente poderá marcar pela internet.
                                        <br>2º - Informe ao paciente que após sua indicação, ele tera 120 dias para marcar uma consulta. Após isso, ele terá que ser reavaliado.
                                        <br>3º - Casos de pacientes crônicos podem ter sua indicação para "acompanhamento contínuo". Neste contexto, o paciente poderá marcar consultas/retorno indeterminadamente.
                                        <br>4º - Confirme se ele já não tem uma indicação válida.
                                    </div>

                                    <div class="row">
                                        <div class="col-sm-12">
                                            <table id="data_tableindicacoesClinicasGeral" class="table table-striped table-hover table-sm">
                                                <thead>
                                                    <tr>
                                                        <th>Nº</th>
                                                        <th>Protocolo</th>
                                                        <th>Especialidade</th>
                                                        <th>Indicado em</th>
                                                        <th>Data validade</th>
                                                        <th>Justificativa</th>
                                                        <th>Concedido por</th>
                                                        <th></th>
                                                    </tr>
                                                </thead>
                                            </table>
                                        </div>

                                    </div>

                                </div>

                            </div>
                        </div>
                        <!-- /.card -->
                    </div>
                </div>



            </div>
        </div>

    </div>
</div>

<div style="width:500px" id="statusEncerramentoAtendimentoModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div>
                <div class="modal-header bg-primary text-center p-3">
                    <h4 class="modal-title text-white">Encerramento de Atendimento</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <div class="modal-body">

                    <form id="modificarStatusEncerramentoAtendimento" class="pl-3 pr-3">
                        <input type="hidden" id="<?php echo csrf_token() ?>modificarStatusEncerramentoAtendimento" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">


                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label for="codStatusEncerramentoAtendimentoAlter"> Motivo: <span class="text-danger">*</span> </label>
                                    <select id="codStatusEncerramentoAtendimentoAlter" name="codStatus" class="custom-select" required>
                                        <option value=""></option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div>
                            <button type="button" class="btn btn-primary" onclick="statusEncerramentoAtendimentAgora()" title="Procurar"> <i class="fas fa-filter"></i>Encerrar</button>
                        </div>

                    </form>
                </div>
            </div>

        </div>

    </div>

</div>

<div style="width:500px" id="modificarStatusAtendimentoModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div>
                <div class="modal-header bg-primary text-center p-3">
                    <h4 class="modal-title text-white">Modificar Status</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <div class="modal-body">

                    <form id="modificarStatusAtendimento" class="pl-3 pr-3">
                        <input type="hidden" id="<?php echo csrf_token() ?>agendarConsultaModal" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">


                        <div class="row">
                            <div class="col-md-12">
                                <div class="form-group">
                                    <label for="codStatusAtendimentoAlter"> Status: <span class="text-danger">*</span> </label>
                                    <select id="codStatusAtendimentoAlter" name="codStatus" class="custom-select" required>
                                        <option value=""></option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        <div>
                            <button type="button" class="btn btn-primary" onclick="modificarStatusAgora()" title="Procurar"> <i class="fas fa-filter"></i>Modificar Status</button>
                        </div>

                    </form>
                </div>
            </div>

        </div>

    </div>

</div>


<div id="prontuarioCompletoPacienteModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div id="print-me">
                <div class="modal-header bg-primary text-center p-3">
                    <h4 class="modal-title text-white" id="info-header-modalLabel">PRONTUÁRIO COMPLETO</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-2 text-right">
                            <div class="form-group">
                                <button style="margin-left:10px" type="button" class="btn btn-block btn-outline-primary btn-lg" onclick="imprimirProntuarioCompleto()" title="Imprimir Prontuário Completo">
                                    <div><i class="fas fa-print fa-1x" aria-hidden="true"></i></div>
                                    Imprimir
                                </button>
                            </div>
                        </div>
                    </div>


                    <div style="margin-left:10px;margin-right:10px" id="areaImpressaoProntuarioCompleto">

                        <div style="margin-bottom:10px" class="row">
                            <div class="col-md-12">
                                <?php echo session()->cabecalhoPrescricao; ?>
                            </div>
                        </div>


                        <div style="margin-top:20px;margin-bottom:20px;font-weight: bold; font-size:20px" class="row">
                            <div class="col-md-12 d-flex justify-content-center">
                                PRONTUÁRIO
                            </div>
                        </div>

                        <div class="invoice p-3 mb-3">
                            <!-- title row -->
                            <div class="row">
                                <div class="col-12">
                                    <h4>
                                        <i class="fas fa-user"></i><span id="nomeExibicaoProntuarioCompleto"></span>
                                    </h4>
                                </div>
                                <!-- /.col -->
                            </div>
                            <!-- info row -->
                            <div class="row invoice-info">
                                <div class="col-sm-4 invoice-col">
                                    <div id="codPlanoProntuarioCompleto"></div>
                                    <div id="codProntuarioProntuarioCompleto"></div>
                                    <div id="codCargoProntuarioCompleto"></div>

                                </div>
                                <!-- /.col -->
                                <div class="col-sm-4 invoice-col">
                                    <div id="cpfProntuarioCompleto"></div>
                                    <div id="nomeMaeProntuarioCompleto"></div>
                                    <div id="situacaoProntuarioCompleto"></div>

                                </div>
                                <!-- /.col -->
                                <div class="col-sm-4 invoice-col">
                                    <div id="sexoProntuarioCompleto"></div>
                                    <div id="dataNascimentoProntuarioCompleto"></div>
                                    <div id="validadeProntuarioProntuarioCompleto"></div>
                                </div>

                            </div>

                            <hr>
                            <div id="dadosAtendimentos"></div>


                        </div>




                        <div class="row">
                            <div class="col-md-12">
                                <?php echo session()->rodapePrescricao; ?>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>

</div>



<div id="boletimAtendimentoPacienteModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div id="print-me">
                <div class="modal-header bg-primary text-center p-3">
                    <h4 class="modal-title text-white" id="info-header-modalLabel">BOLETIM DE ATENDIMENTO</h4>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">×</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-2 text-right">
                            <div class="form-group">
                                <button style="margin-left:10px" type="button" class="btn btn-block btn-outline-primary btn-lg" onclick="imprimirProntuarioCompleto()" title="Imprimir Prontuário Completo">
                                    <div><i class="fas fa-print fa-1x" aria-hidden="true"></i></div>
                                    Imprimir
                                </button>
                            </div>
                        </div>
                    </div>


                    <div style="margin-left:10px;margin-right:10px" id="areaImpressaoBoletimAtendimento">

                        <div style="margin-bottom:10px" class="row">
                            <div class="col-md-12">
                                <?php echo session()->cabecalhoPrescricao; ?>
                            </div>
                        </div>


                        <div style="margin-top:20px;margin-bottom:20px;font-weight: bold; font-size:20px" class="row">
                            <div class="col-md-12 d-flex justify-content-center">
                                BOLETIM DE ATENDIMENTO MÉDICO
                            </div>
                        </div>

                        <div class="invoice p-3 mb-3">

                            <div id="dadosAtendimentosBoletimAtendimento"></div>


                        </div>




                        <div class="row">
                            <div class="col-md-12">
                                <?php echo session()->rodapePrescricao; ?>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>

</div>


<div id="agendadosAmbulatorioModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 id="nomeLocalAtendimento" class="modal-title text-white"></h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">

                <div class="row">

                    <div class="col-md-8">
                        <div class="card card-secondary">
                            <form style="margin-bottom:10px;margin-top:10px" id="filtroAgendadosForm" class="pl-3 pr-3">
                                <input type="hidden" id="<?php echo csrf_token() ?>filtroAgendadosForm" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">

                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label for="codEspecialidadeAgendadosAdd"> Especialidade: <span class="text-danger">*</span> </label>
                                            <select id="codEspecialidadeAgendadosAdd" name="codEspecialidade" class="custom-select" required>
                                                <option value=""></option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label for="codEspecialistaAgendadosAdd"> Especialista: <span class="text-danger">*</span> </label>
                                            <select id="codEspecialistaAgendadosAdd" name="codEspecialista" class="custom-select" required>
                                                <option></option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <label for="dataInicioAgendadosAdd"> Data Início: </label>
                                            <input type="date" id="dataInicioAgendadosAdd" name="dataInicio" class="form-control" dateISO="true" required>
                                        </div>
                                    </div>

                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <label for="dataEncerramentoAgendadosAdd"> Data Encerramento: </label>
                                            <input type="date" id="dataEncerramentoAgendadosAdd" name="dataEncerramento" class="form-control" dateISO="true" required>
                                        </div>
                                    </div>

                                </div>

                                <div>
                                    <button type="button" class="btn btn-primary" onclick="filtrarAgendados()" title="Procurar"> <i class="fas fa-filter"></i>Procurar</button>
                                </div>

                            </form>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card card-secondary">
                            <div style="margin-top:10px" class="bg-light text-dark" class="row">

                                <div class="col-md-12">
                                    <div style="margin-bottom:10px;width:100% !important" id="botaoSala">
                                    </div>
                                </div>
                                <div style="margin-bottom:10px;" class="col-md-12">
                                    <button type="button" onclick="showListaPacientes()" class="btn btn-block btn-outline-primary btn-lg" data-toggle="tooltip" data-placement="top" title="Adicionar">
                                        <div><img style="width:30px" src="<?php echo base_url('/imagens/impressora.png') ?>">
                                        </div>
                                        <div>Imprimir Pacientes
                                        </div>
                                    </button>

                                </div>

                                <div class="col-md-12">
                                    <button type="button" onclick="encaixarPaciente()" class="btn btn-block btn-outline-danger btn-lg" data-toggle="tooltip" data-placement="top" title="Adicionar">
                                        <div class="icon">
                                            <i class="fas fa-briefcase-medical zoom fa-1x"></i>
                                        </div>
                                        <div>Encaixar Paciente
                                        </div>
                                    </button>

                                </div>

                                <div class="col-md-12 justify-content-end" id="botaoPesquisaAgendamentoConsultasModal">
                                </div>

                            </div>
                        </div>
                    </div>
                </div>





                <div class="row">
                    <div class="col-md-12">
                        <table id="data_tableagendamentos" class="table table-striped table-hover table-sm">
                            <thead>
                                <tr>
                                    <th>Paciente</th>
                                    <th>Especialidade</th>
                                    <th>Período</th>
                                    <th>Contato</th>
                                    <th>Chegou</th>
                                    <th>Hora Chegada</th>
                                    <th>Tempo Espera</th>
                                    <th>Status</th>
                                    <th></th>
                                </tr>
                            </thead>
                        </table>

                    </div>
                </div>

            </div>
        </div>
    </div>
</div>


<div id="listaUrgenciaEmergenciaModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 id="nomeLocalAtendimentoUrgenciaEmergencia" class="modal-title text-white"></h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <div style="margin-bottom:10px" class="row">
                    <div class="col-md-3">
                        <div style="width:268px;height: 63px;" id="botaoSalaUrgenciaEmergencia"></div>
                    </div>
                    <div class="col-md-3">
                        <button style="width:268px;height: 63px" class="btn btn-danger " onclick="listarTodosPacientes()" id="Troca sala">
                            <div><i class="fa fa-briefcase-medical fa-1x" aria-hidden="true"></i></div>
                            <div>Incluir Paciente</div>
                    </div>
                    <div class="col-md-3">
                        <button style="width:268px;height: 63px" class="btn btn-success " onclick="relatoriosUrgenciaEmergencia()" id="Relatórios">
                            <div><i class="fas fa-chart-line" aria-hidden="true"></i></div>
                            <div>Relatórios</div>
                        </button>
                    </div>

                    <div class="col-md-12 justify-content-end" id="botaoPesquisaProntuarioEletronicoModal">
                    </div>



                </div>



                <div style="background:#ececec" class="card">
                    <div style="font-size:20px;font-weight: bold;" class="d-flex justify-content-center">Protocolo de Risco aos Pacientes</div>


                    <div class="row d-flex justify-content-center">
                        <div class="col-md-2">
                            <button class="btn btn-ligth" href="#" data-toggle="tooltip" title="Sem risco imediato de agravo à saúde. Atendimento em até 240 minutos">
                                <div><i style="color:#3498db5e" class="fas fa-square zoom fa-1x"></i> Não Urgente</div>
                            </button>
                        </div>
                        <div class="col-md-2">
                            <button class="btn btn-ligth" href="#" data-toggle="tooltip" title="Sem risco imediato de agravo à saúde Atendimento em até 160 minutos">
                                <div><i style="color:#c9ffad" class="fas fa-square zoom fa-1x"></i> Pouco Urgente</div>
                            </button>
                        </div>
                        <div class="col-md-2">
                            <button class="btn btn-ligth" href="#" data-toggle="tooltip" title="Sem risco imediato de agravo à saúde Atendimento em até 60 minutos">
                                <div><i style="color:#ffc1079e" class="fas fa-square zoom fa-1x"></i> Urgente</div>
                            </button>
                        </div>
                        <div class="col-md-2">
                            <button class="btn btn-ligth" class="btn btn-ligth" href="#" data-toggle="tooltip" title="Sem risco imediato de agravo à saúde Atendimento em até 10 minutos">
                                <div><i style="color:#fd7e14" class="fas fa-square zoom fa-1x"></i> Muito Urgente</div>
                            </button>
                        </div>
                        <div class="col-md-2">
                            <button class="btn btn-ligth" href="#" data-toggle="tooltip" title="Sem risco imediato de agravo à saúde Atendimento imediato">
                                <div><i style="color:#ff1800" class="fas fa-square zoom fa-1x"></i> Emergência</div>
                            </button>
                        </div>
                    </div>
                </div>




                <div class="col-12 col-sm-12">
                    <div class="card card-primary card-tabs">
                        <div class="card-header p-0 pt-1">
                            <ul class="nav nav-tabs" id="urgenciaEmergencia-tab" role="tablist">
                                <li class="nav-item">
                                    <a class="nav-link active" id="urgenciaEmergencia-aguardandoAtendimento-tab" data-toggle="pill" href="#urgenciaEmergencia-aguardandoAtendimento" role="tab" aria-controls="urgenciaEmergencia-aguardandoAtendimento" aria-selected="true">Acolhimento <span style="margin-left: 10px;" id="qtdAcolhimento" class="right badge badge-warning"></span></a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" id="urgenciaEmergencia-emAtendimento-tab" data-toggle="pill" href="#urgenciaEmergencia-emAtendimento" role="tab" aria-controls="urgenciaEmergencia-emAtendimento" aria-selected="false">Em Atendimento<span style="margin-left: 10px;" id="qtdEmAtendimento" class="right badge badge-warning"></span></a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" id="urgenciaEmergencia-meusPacientes-tab" data-toggle="pill" href="#urgenciaEmergencia-meusPacientes" role="tab" aria-controls="urgenciaEmergencia-meusPacientes" aria-selected="false">Meus Pacientes<span style="margin-left: 10px;" id="qtdMeusPacientes" class="right badge badge-warning"></span></a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" id="urgenciaEmergencia-aguardandoLeito-tab" data-toggle="pill" href="#urgenciaEmergencia-aguardandoLeito" role="tab" aria-controls="urgenciaEmergencia-aguardandoLeito" aria-selected="false">Aguardando leito<span style="margin-left: 10px;" id="qtdAguardandoLeito" class="right badge badge-warning"></span></a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" id="urgenciaEmergencia-baixados-tab" data-toggle="pill" href="#urgenciaEmergencia-baixados" role="tab" aria-controls="urgenciaEmergencia-baixados" aria-selected="false">Baixados na Emergência<span style="margin-left: 10px;" id="qtdBaixados" class="right badge badge-warning"></span></a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" id="urgenciaEmergencia-buscaAvancada-tab" data-toggle="pill" href="#urgenciaEmergencia-buscaAvancada" role="tab" aria-controls="urgenciaEmergencia-buscaAvancada" aria-selected="false">Busca Avançada<span style="margin-left: 10px;" class="right badge badge-danger">novo</span></a>
                                </li>
                            </ul>
                        </div>
                        <div class="card-body">
                            <div class="tab-content" id="urgenciaEmergencia-tabContent">
                                <div class="tab-pane fade show active" id="urgenciaEmergencia-aguardandoAtendimento" role="tabpanel" aria-labelledby="urgenciaEmergencia-aguardandoAtendimento-tab">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <table id="data_tableListarUrgenciaEmergenciaAcolhimento" class="table table-hover table-sm">
                                                <thead>
                                                    <tr>
                                                        <th>Ordem</th>
                                                        <th>Risco</th>
                                                        <th>Paciente</th>
                                                        <th>Idade</th>
                                                        <th>Queixa Principal</th>
                                                        <th>Local Atendimento</th>
                                                        <th>Hora Chegada</th>
                                                        <th>Status</th>
                                                        <th>Tempo Emergência</th>
                                                        <th></th>
                                                    </tr>
                                                </thead>
                                            </table>

                                        </div>
                                    </div>
                                </div>
                                <div class="tab-pane fade" id="urgenciaEmergencia-emAtendimento" role="tabpanel" aria-labelledby="urgenciaEmergencia-emAtendimento-tab">

                                    <div class="row">
                                        <div class="col-md-12">
                                            <table id="data_tableListarUrgenciaEmergenciaEmAtendimento" class="table table-hover table-sm">
                                                <thead>
                                                    <tr>
                                                        <th>Ordem</th>
                                                        <th>Risco</th>
                                                        <th>Paciente</th>
                                                        <th>Idade</th>
                                                        <th>Queixa Principal</th>
                                                        <th>Local Atendimento</th>
                                                        <th>Último à Acompanhar</th>
                                                        <th>Status</th>
                                                        <th>Tempo Emergência</th>
                                                        <th></th>
                                                    </tr>
                                                </thead>
                                            </table>

                                        </div>
                                    </div>
                                </div>

                                <div class="tab-pane fade" id="urgenciaEmergencia-meusPacientes" role="tabpanel" aria-labelledby="urgenciaEmergencia-meusPacientes-tab">

                                    <div class="row">
                                        <div class="col-md-12">
                                            <table id="data_tableListarUrgenciaEmergenciaMeusPacientes" class="table table-hover table-sm">
                                                <thead>
                                                    <tr>
                                                        <th>Ordem</th>
                                                        <th>Risco</th>
                                                        <th>Paciente</th>
                                                        <th>Idade</th>
                                                        <th>Queixa Principal</th>
                                                        <th>Local Atendimento</th>
                                                        <th>Último à Acompanhar</th>
                                                        <th>Status</th>
                                                        <th>Tempo Emergência</th>
                                                        <th></th>
                                                    </tr>
                                                </thead>
                                            </table>

                                        </div>
                                    </div>
                                </div>
                                <div class="tab-pane fade" id="urgenciaEmergencia-aguardandoLeito" role="tabpanel" aria-labelledby="urgenciaEmergencia-aguardandoLeito-tab">

                                    <div class="row">
                                        <div class="col-md-12">
                                            <table id="data_tableListarUrgenciaEmergenciaAguardandoLeito" class="table table-hover table-sm">
                                                <thead>
                                                    <tr>
                                                        <th>Ordem</th>
                                                        <th>Risco</th>
                                                        <th>Paciente</th>
                                                        <th>Idade</th>
                                                        <th>Queixa Principal</th>
                                                        <th>Local Atendimento</th>
                                                        <th>Último à Acompanhar</th>
                                                        <th>Status</th>
                                                        <th>Tempo Emergência</th>
                                                        <th></th>
                                                    </tr>
                                                </thead>
                                            </table>

                                        </div>
                                    </div>
                                </div>
                                <div class="tab-pane fade" id="urgenciaEmergencia-baixados" role="tabpanel" aria-labelledby="urgenciaEmergencia-baixados-tab">

                                    <div class="row">
                                        <div class="col-md-12">
                                            <table id="data_tableListarUrgenciaEmergenciaBaixados" class="table table-hover table-sm">
                                                <thead>
                                                    <tr>
                                                        <th>Ordem</th>
                                                        <th>Risco</th>
                                                        <th>Paciente</th>
                                                        <th>Idade</th>
                                                        <th>Queixa Principal</th>
                                                        <th>Local Atendimento</th>
                                                        <th>Último à Acompanhar</th>
                                                        <th>Status</th>
                                                        <th>Tempo Emergência</th>
                                                        <th></th>
                                                    </tr>
                                                </thead>
                                            </table>

                                        </div>
                                    </div>
                                </div>
                                <div class="tab-pane fade" id="urgenciaEmergencia-buscaAvancada" role="tabpanel" aria-labelledby="urgenciaEmergencia-buscaAvancada-tab">

                                    <div class="row">
                                        <div class="col-md-12">

                                            <div style="margin-top:30px;margin-bottom:30px" class="row">
                                                <div class="col-md-8 offset-md-2">
                                                    <div class="input-group input-group-lg">
                                                        <input autocomplete="off" id="buscaAvancadaPacienteUrgenciaEmergenciaAdd" type="search" class="form-control form-control-lg" placeholder="Informe o Nome, CPF, Nº PLANO ou Nº Prontuário">
                                                        <div class="input-group-append">
                                                            <button onclick="buscaAvancadaPacienteUrgenciaEmergencia()" class="btn btn-lg btn-default">
                                                                <i class="fa fa-search"></i>
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>


                                            <table id="data_tableListarUrgenciaEmergenciabuscaAvancada" class="table table-striped table-hover table-sm">
                                                <thead>
                                                    <tr>
                                                        <th>Ordem</th>
                                                        <th>Risco</th>
                                                        <th>Paciente</th>
                                                        <th>Idade</th>
                                                        <th>HDA</th>
                                                        <th>Local Atendimento</th>
                                                        <th>Último à Acompanhar</th>
                                                        <th>Status</th>
                                                        <th>Tempo Emergência</th>
                                                        <th></th>
                                                    </tr>
                                                </thead>
                                            </table>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- /.card -->
                    </div>
                </div>






            </div>
        </div>
    </div>
</div>


<div id="listaInternadosModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white">INTERNADOS</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">


                <div class="row">
                    <div class="col-md-5">
                        <div class="form-group">
                            <label for="unidadeInternacaoList"> Unidade de Internação: <span class="text-danger">*</span> </label>
                            <select id="unidadeInternacaoList" name="codDepartamento" class="custom-select" required>
                                <option value="0">TODOS</option>
                            </select>
                        </div>
                    </div>

                    <div class="col-md-5 justify-content-end" id="botaoPesquisaInternadosModal">
                    </div>
                </div>

                <div class="row">

                    <div class="col-md-2">
                        <button class="btn btn-success" onclick="verificarInternados()">Buscar Internados</button>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-12">
                        <table id="data_tableListarInternados" class="table table-striped table-hover table-sm">
                            <thead>
                                <tr>
                                    <th>Ordem</th>
                                    <th>Risco</th>
                                    <th>Paciente</th>
                                    <th>Idade</th>
                                    <th>HDA</th>
                                    <th>Local Internação</th>
                                    <th>Data Entrada</th>
                                    <th>Status</th>
                                    <th>Tempo Internação</th>
                                    <th></th>
                                </tr>
                            </thead>
                        </table>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



<div id="transferirPacienteModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Transferir Paciente</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">


                <div style="background:#ececec" class="card">
                    <div style="font-size:20px;font-weight: bold;" class="d-flex justify-content-center">Transferência de Pacientes</div>


                    <div class="row d-flex justify-content-center">
                        <div class="col-md-3">
                            <button class="btn btn-ligth" href="#" data-toggle="tooltip" title="">
                                <div style="font-size:25px"><i style="color:#3498db5e" class="fas fa-square zoom fa-1x"></i> Livre</div>
                            </button>
                        </div>
                        <div class="col-md-3">
                            <button class="btn btn-ligth" href="#" data-toggle="tooltip" title="">
                                <div style="font-size:25px"><i style="color:#ffc1079e" class="fas fa-square zoom fa-1x"></i> Em manutenção</div>
                            </button>
                        </div>
                        <div class="col-md-3">
                            <button class="btn btn-ligth" href="#" data-toggle="tooltip" title="">
                                <div style="font-size:25px"><i style="color:#ff1800" class="fas fa-square zoom fa-1x"></i> Ocupado</div>
                            </button>
                        </div>
                    </div>
                </div>



                <div class="card">
                    <div class="row">
                        <div class="col-md-5">
                            <div class="form-group">
                                <label for="unidadeInternacao"> Unidade de Internação: <span class="text-danger">*</span> </label>
                                <select id="unidadeInternacao" name="codDepartamento" class="custom-select" required>
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="row">

                        <div class="col-md-3">
                            <button class="btn btn-success" onclick="verificarDisponibilidadeLeitos()">Verificar disponibilidade de Leitos</button>
                        </div>
                    </div>

                    <style>
                        #data_situacaoLeitos td {
                            vertical-align: middle !important;
                        }
                    </style>
                    <div class="row">
                        <div class="col-md-12">
                            <table id="data_situacaoLeitos" class=" nomeio table table-striped table-hover table-sm">
                                <thead>
                                    <tr>
                                        <th>Leito</th>
                                        <th>Paciente</th>
                                        <th>Idade</th>
                                        <th>Unidade</th>
                                        <th>Situação Local</th>
                                        <th>Tempo Internação</th>
                                        <th></th>
                                    </tr>
                                </thead>
                            </table>

                        </div>
                    </div>
                </div>
            </div>




        </div>
    </div>
</div>


<div id="agendadosAgendamentosExamesModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 id="nomeLocalAtendimentoAgendamentosExames" class="modal-title text-white"></h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">


                <div class="row">

                    <div class="col-md-8">
                        <div class="card card-secondary">
                            <form style="margin-bottom:10px;margin-top:10px" id="filtroAgendamentosExamesAgendadosForm" class="pl-3 pr-3">
                                <input type="hidden" id="<?php echo csrf_token() ?>filtroAgendamentosExamesAgendadosForm" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">

                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label for="codAgendamentosExamesAgendadosAdd"> Exame: <span class="text-danger">*</span> </label>
                                            <select id="codAgendamentosExamesAgendadosAdd" name="codExameLista" class="custom-select" required>
                                                <option value=""></option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            <label for="codEspecialistaExameAgendadosAdd"> Especialista: <span class="text-danger">*</span> </label>
                                            <select id="codEspecialistaExameAgendadosAdd" name="codEspecialista" class="custom-select" required>
                                                <option></option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <label for="dataInicioExameAgendadosAdd"> Data Início: </label>
                                            <input type="date" id="dataInicioExameAgendadosAdd" name="dataInicio" class="form-control" dateISO="true" required>
                                        </div>
                                    </div>

                                    <div class="col-md-3">
                                        <div class="form-group">
                                            <label for="dataEncerramentoExameAgendadosAdd"> Data Encerramento: </label>
                                            <input type="date" id="dataEncerramentoExameAgendadosAdd" name="dataEncerramento" class="form-control" dateISO="true" required>
                                        </div>
                                    </div>

                                </div>

                                <div>
                                    <button type="button" class="btn btn-primary" onclick="filtrarAgendamentosExamesAgendados()" title="Procurar"> <i class="fas fa-filter"></i>Procurar</button>
                                </div>

                            </form>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card card-secondary">
                            <div style="margin-top:10px" class="bg-light text-dark" class="row">

                                <div class="col-md-12">
                                    <div style="margin-bottom:10px;width:100% !important" id="botaoSalaAgendamentosExames">
                                    </div>
                                </div>
                                <div class="col-md-12">
                                    <button type="button" onclick="showListaPacientesAgendamentosExames()" class="btn btn-block btn-outline-primary btn-lg" data-toggle="tooltip" data-placement="top" title="Adicionar" id="add-formatalhos-btn">
                                        <div><img style="width:60px" src="<?php echo base_url('/imagens/impressora.png') ?>">
                                        </div>
                                        <div>Imprimir Pacientes
                                        </div>
                                    </button>

                                </div>
                                <div class="col-md-12 justify-content-end" id="botaoPesquisaAgendamentoAgendamentosExamesModal">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>





                <div class="row">
                    <div class="col-md-12">
                        <table id="data_tableagendamentosExames" class="table table-striped table-hover table-sm">
                            <thead>
                                <tr>
                                    <th>Paciente</th>
                                    <th>Exame</th>
                                    <th>Observações</th>
                                    <th>Período</th>
                                    <th>Contato</th>
                                    <th>Chegou</th>
                                    <th>Hora Chegada</th>
                                    <th>Tempo Espera</th>
                                    <th>Status</th>
                                    <th></th>
                                </tr>
                            </thead>
                        </table>

                    </div>
                </div>

            </div>
        </div>
    </div>
</div>


<div id="iniciarAtendimentoModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 id="tituloIniciarAtendimentoModal" class="modal-title text-white" id="info-header-modalLabel">INICIAR ATENDIMENTO</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">

                <div class="row">
                    <!-- URGENCIA EMERGENCIA !-->


                    <div class="col-md-4">
                        <button onclick="iniciarAtendimentoUrgenciaEmergencia()" type="button" class="btn btn-block btn-outline-primary btn-lg">
                            <div class="text-center">
                                <img style="width:160px" src="<?php echo base_url('imagens/urgenciaemergencia.png') ?>">
                            </div>
                            <div style="font-size:20px;font-weight: bold;" class="text-center">URGÊNCIA/EMERGÊNCIA</div>
                        </button>
                    </div>





                    <!-- CONSULTA AMBULATÓRIAL !-->
                    <div class="col-md-4">
                        <button onclick="iniciarAtendimentoAmbulatorio()" type="button" class="btn btn-block btn-outline-primary btn-lg">
                            <div class="text-center">
                                <img style="width:190px" src="<?php echo base_url('imagens/atendimentomedico.png') ?>">
                            </div>
                            <div style="font-size:20px;font-weight: bold;" class="text-center">ATENDIMENTO AMBULATÓRIO</div>
                        </button>
                    </div>


                    <!-- EXAME !-->
                    <div class="col-md-4">
                        <button type="button" class="btn btn-block btn-outline-primary btn-lg">
                            <div class="text-center">
                                <img style="width:160px" src="<?php echo base_url('imagens/exame.png') ?>">
                            </div>
                            <div style="font-size:20px;font-weight: bold;" class="text-center">EXAME</div>
                    </div>
                </div>
                <div style="margin-top:20px" class="row">
                    <!-- INTERNAÇÃO !-->

                    <div class="col-md-4">
                        <button type="button" class="btn btn-block btn-outline-primary btn-lg">
                            <div class="text-center">
                                <img style="width:160px" src="<?php echo base_url('imagens/internacao.png') ?>">
                            </div>
                            <div style="font-size:20px;font-weight: bold;" class="text-center">INTERNAÇÃO</div>
                    </div>


                    <!-- TRATAMENTO ONCOLÓGICO !-->
                    <div class="col-md-4">
                        <button onclick="iniciarTratamentoOncologico()" type="button" class="btn btn-block btn-outline-primary btn-lg">
                            <div class="text-center">
                                <img style="width:190px" src="<?php echo base_url('imagens/tratamentoOncologico.png') ?>">
                            </div>
                            <div style="font-size:20px;font-weight: bold;" class="text-center">TRATAMENTO ONCOLÓGICO</div>
                        </button>
                    </div>


                    <!-- TRATAMENTO CIRÚRGICO !-->
                    <div class="col-md-4">
                        <button onclick="iniciarTratamentoCirurgico()" type="button" class="btn btn-block btn-outline-primary btn-lg">
                            <div class="text-center">
                                <img style="width:190px" src="<?php echo base_url('imagens/atendimentoCirurgico.png') ?>">
                            </div>
                            <div style="font-size:20px;font-weight: bold;" class="text-center">PROCEDIMENTO CURÚRGICO</div>
                        </button>
                    </div>

                </div>

            </div>
        </div>

    </div>

</div>

<div id="editPacienteModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 id="tituloEditPacienteModal" class="modal-title text-white" id="info-header-modalLabel">ATUALIZAÇÃO CADASTRO</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">

                <form id="editPacienteForm" class="pl-3 pr-3">
                    <input type="hidden" id="<?php echo csrf_token() ?>editPacienteForm" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">

                    <input type="hidden" id="codPacienteEdit" name="codPaciente" class="form-control" placeholder="Código" maxlength="11" required="">
                    <input type="hidden" id="codOrganizacaoEdit" name="codOrganizacao" value=<?php echo session()->codOrganizacao ?> class="form-control" placeholder="CodOrganizacao" maxlength="11" value="1">

                    <div class="row">

                        <div class="col-sm-3">
                            <label for="fotoPerfil">Foto Perfil: </label>
                            <img alt="" id="fotoPerfilFormularioEdit" style="width:100px">
                            <div id="fotoPerfilCadastroEdit"></div>

                            <button style="width:160px; margin-bottom:5px" type="button" class="btn btn-block btn-primary  btn-xs" onclick="trocarFoto()" title="Tirar Foto">Trocar Foto</button>

                        </div>


                    </div>


                    <div class="card card-secondary">
                        <div class="card-header">
                            <h3 class="card-title">DOCUMENTO</h3>
                        </div>
                        <!-- /.card-header -->
                        <div class="card-body">
                            <div class="row">

                                <div class="col-sm-7">
                                    <label for="nomeCompleto">Nome Completo: <span class="text-danger">*</span></label>
                                    <div class="input-group mb-3">
                                        <input tabindex="10" required="" type="text" autocomplete="off" id="nomeCompletoEdit" name="nomeCompleto" class="form-control" placeholder="Nome Completo" maxlength="100">
                                        <div class="input-group-append">
                                            <div class="input-group-text">
                                                <span class="fas fa-user"></span>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                                <div class="col-sm-1">
                                    <label for="sexo">Sexo: <span class="text-danger">*</span> </label>
                                    <div class="input-group mb-3">
                                        <select style="width:86%" required="" id="sexoEdit" name="sexo" class="form-control" data-select2-id="sexoEdit" tabindex="11" aria-hidden="true">
                                            <option value=""></option>
                                            <option value="M">M</option>
                                            <option value="F">F</option>

                                        </select>
                                    </div>
                                </div>

                                <div class="col-sm-2">
                                    <label for="dataNascimento">Data Nascimento: <span class="text-danger">*</span></label>
                                    <div class="input-group mb-3">
                                        <input tabindex="12" required="" type="date" id="dataNascimentoEdit" name="dataNascimento" class="form-control" placeholder="Data Nascimento">
                                        <div class="input-group-append">
                                            <div class="input-group-text">
                                                <span class="fas fa-calendar-day"></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">

                                <div class="col-sm-4">
                                    <label for="conta">Nº Plano: <span class="text-danger">*</span></label>
                                    <div class="input-group mb-3">
                                        <input tabindex="14" required="" type="text" id="codPlanoEdit" oninput="numberOnly(this.id);" name="codPlano" class="form-control" placeholder="Informe o Nº CODPLANO" maxlength="11">
                                        <div class="input-group-append">
                                            <div class="input-group-text">
                                                <span class="fas fa-user"></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-4">
                                    <label for="cpf">CPF: <span class="text-danger">*</span></label>
                                    <div class="input-group mb-3">
                                        <input tabindex="15" required="" type="text" autocomplete="off" id="cpfEdit" name="cpf" class="form-control" placeholder="cpf" maxlength="14">
                                        <div class="input-group-append">
                                            <div class="input-group-text">
                                                <span class="fas fa-id-card-alt"></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-4">
                                    <label for="identidade">Identidade: <span class="text-danger">*</span></label>
                                    <div class="input-group mb-3">
                                        <input tabindex="16" required="" type="text" id="identidadeEdit" oninput="numberOnly(this.id);" name="identidade" class="form-control" placeholder="Identidade" maxlength="15">
                                        <div class="input-group-append">
                                            <div class="input-group-text">
                                                <span class="fas fa-id-card-alt"></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">

                                <div class="col-sm-6">
                                    <label for="nomePaiEdit">Nome do Pai:</label>
                                    <div class="input-group mb-3">
                                        <input tabindex="17" type="text" autocomplete="off" id="nomePaiEdit" name="nomePai" class="form-control" placeholder="Nome do Pai" maxlength="60">
                                        <div class="input-group-append">
                                            <div class="input-group-text">
                                                <span class="fas fa-id-card-alt"></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <label for="nomeMaeEdit">Nome da Mãe: <span class="text-danger">*</span></label>
                                    <div class="input-group mb-3">
                                        <input tabindex="18" required="" type="text" autocomplete="off" id="nomeMaeEdit" name="nomeMae" class="form-control" placeholder="Nome da Mãe" maxlength="60">
                                        <div class="input-group-append">
                                            <div class="input-group-text">
                                                <span class="fas fa-id-card-alt"></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>


                    <div class="card card-secondary">
                        <div class="card-header">
                            <h3 class="card-title">CONTATO</h3>
                        </div>
                        <!-- /.card-header -->
                        <div class="card-body">

                            <div class="col-12 col-sm-12">
                                <div class="card card-primary card-tabs">
                                    <div class="card-header p-0 pt-1">
                                        <ul class="nav nav-tabs" id="custom-tabs-one-tab" role="tablist">
                                            <li class="nav-item">
                                                <a class="nav-link active" id="custom-tabs-one-home-tab" data-toggle="pill" href="#custom-tabs-one-home" role="tab" aria-controls="custom-tabs-one-home" aria-selected="true">Contato Principal</a>
                                            </li>
                                            <li class="nav-item">
                                                <a class="nav-link" id="custom-tabs-one-profile-tab" data-toggle="pill" href="#custom-tabs-one-profile" role="tab" aria-controls="custom-tabs-one-profile" aria-selected="false">Outros Contatos</a>
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="card-body">
                                        <div class="tab-content" id="custom-tabs-one-tabContent">
                                            <div class="tab-pane fade show active" id="custom-tabs-one-home" role="tabpanel" aria-labelledby="custom-tabs-one-home-tab">
                                                <div class="row">
                                                    <div class="col-sm-4">
                                                        <label for="emailPessoal">Email Pessoal: <span class="text-danger">*</span></label>
                                                        <div class="input-group mb-3">
                                                            <input tabindex="23" type="text" autocomplete="off" id="emailPessoalEdit" name="emailPessoal" class="form-control" placeholder="Email Pessoal" maxlength="40">
                                                            <div class="input-group-append">
                                                                <div class="input-group-text">
                                                                    <span class="fas fa-at"></span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-2">
                                                        <label for="celular">Celular: <span class="text-danger">*</span></label>
                                                        <div class="input-group mb-3">
                                                            <input tabindex="24" required="" type="text" autocomplete="off" id="celularEdit" name="celular" class="form-control" placeholder="Celular" maxlength="16">
                                                            <div class="input-group-append">
                                                                <div class="input-group-text">
                                                                    <span class="fas fa-mobile-alt"></span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-sm-6">
                                                        <label for="endereco">Endereço: <span class="text-danger">*</span></label>
                                                        <div class="input-group mb-3">
                                                            <input tabindex="25" required="" type="text" autocomplete="off" id="enderecoEdit" name="endereco" class="form-control" placeholder="Endereço" maxlength="200">
                                                            <div class="input-group-append">
                                                                <div class="input-group-text">
                                                                    <span class="fas fa-map-marker-alt"></span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row">

                                                    <div class="col-sm-3">
                                                        <label for="cep">CEP: <span class="text-danger">*</span></label>
                                                        <div class="input-group mb-3">
                                                            <input tabindex="26" type="text" autocomplete="off" id="cepEdit" name="cep" class="form-control" placeholder="CEP" maxlength="9">
                                                            <div class="input-group-append">
                                                                <div class="input-group-text">
                                                                    <span class="fas fa-map-marker-alt"></span>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>
                                            <div class="tab-pane fade" id="custom-tabs-one-profile" role="tabpanel" aria-labelledby="custom-tabs-one-profile-tab">
                                                <div class="col-sm-4">
                                                    <button type="button" class="btn btn-block btn-primary  btn-xs" onclick="modalOutrosContatosEdit()" title="Adicionar"> <i class="fa fa-plus"></i> Adicionar</button>
                                                </div>

                                                <table id="data_outrosContatosEdit" class="table table-striped table-hover table-sm">
                                                    <thead>
                                                        <tr>
                                                            <th>Código</th>
                                                            <th>Tipo</th>
                                                            <th>Nome Contato</th>
                                                            <th>Parentesco</th>
                                                            <th>Nº Contato</th>
                                                            <th>Observações</th>
                                                            <th style="text-align:center">Ações</th>
                                                        </tr>
                                                    </thead>
                                                </table>

                                            </div>

                                        </div>
                                    </div>
                                    <!-- /.card -->
                                </div>
                            </div>
                        </div>
                    </div>


                    <div class="card card-secondary">
                        <div class="card-header">
                            <h3 class="card-title">OUTROS</h3>
                        </div>
                        <!-- /.card-header -->
                        <div class="card-body">
                            <div class="row">
                                <div class="col-sm-3">
                                    <label for="codStatusCadastroPaciente">Status Cadastro: <span class="text-danger">*</span> </label>
                                    <div class="input-group mb-3">
                                        <select style="width:86%" required="" id="codStatusCadastroPacienteEdit" name="codStatusCadastroPaciente" class="form-control select2-hidden-accessible" data-select2-id="codStatusCadastroPacienteEdit" tabindex="27" aria-hidden="true">
                                            <option value=""></option>

                                        </select>
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <label for="cep">Validade: <span class="text-danger">*</span></label>
                                    <div class="input-group mb-3">
                                        <input tabindex="28" type="date" id="validadeEdit" name="validade" class="form-control" placeholder="Validade">
                                        <div class="input-group-append">
                                            <div class="input-group-text">
                                                <span class="fas fa-map-marker-alt"></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-sm-3">
                                    <label for="codRaca">Raça: <span class="text-danger">*</span> </label>
                                    <div class="input-group mb-3">
                                        <select tabindex="29" style="width:86%" required="" id="codRacaEdit" name="codRaca" class="form-control select2-hidden-accessible" data-select2-id="codStatusCadastroPacienteEdit" tabindex="-1" aria-hidden="true">
                                            <option value=""></option>

                                        </select>
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <label for="codTipoSanguineo">Tipo Sanguineo: <span class="text-danger">*</span> </label>
                                    <div class="input-group mb-3">
                                        <select style="width:86%" required="" id="codTipoSanguineoEdit" name="codTipoSanguineo" class="form-control select2-hidden-accessible" data-select2-id="codTipoSanguineo" tabindex="30" aria-hidden="true">
                                            <option value=""></option>

                                        </select>
                                    </div>
                                </div>



                            </div>
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <label for="informacoesComplementares"> Descrição : <span class="text-danger">*</span> </label>
                                        <textarea tabindex="31" cols="40" rows="5" id="informacoesComplementaresEdit" name="informacoesComplementares" class="form-control" placeholder="Descrição " required></textarea>
                                    </div>
                                </div>

                            </div>

                        </div>
                    </div>

                    <div class="form-group text-center">
                        <div class="btn-group">
                            <button type="submit" class="btn btn-block btn-primary  btn-xs" title="Salvar">Salvar</button>
                            <button type="button" class="btn btn-xs btn-danger" data-toggle="tooltip" data-placement="top" title="Fechar" data-dismiss="modal">Fechar</button>
                        </div>
                    </div>
                </form>

            </div>


            <div class="modal-footer">

                <div>Última Alteração:
                    <span id="ultimaAuteracaoEdit"></span>
                </div>
            </div>



        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>



<div id="modalPacientesVCARD" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Lista de Pacientes VCARD</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <div><span>Autor:</span><span id="listaVCARD"></span></div>

            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>




<div style="width:600px" id="showPacientesExameModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Confirmação do Exame</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">

                <div id="nomePacienteExame"></div>
                <div id="dadosConfirmacaoExame"></div>

                <form autocomplete="off" id="escolhaPacienteExameForm" class="pl-3 pr-3">
                    <div class="row">
                        <input type="hidden" id="<?php echo csrf_token() ?>escolhaPacienteForm" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">

                        <input type="hidden" id="codPacienteMarcacaoExame" name="codPacienteMarcacao" class="form-control" placeholder="codExame" maxlength="11" required>
                        <input type="hidden" id="codExameMarcacao" name="codExame" class="form-control" placeholder="codExame" maxlength="11" required>
                    </div>

                    <div class="form-group text-center">
                        <div class="btn-group">
                            <button type="button" onclick="marcarPacienteExame()" class="btn btn-xs btn-primary" data-toggle="tooltip" data-placement="top" title="Agendar Agora" id="add-formatalhos-btn">Agendar Agora</button>
                            <button type="button" class="btn btn-xs btn-danger" data-toggle="tooltip" data-placement="top" title="Fechar" data-dismiss="modal">Fechar</button>
                        </div>
                    </div>
                </form>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>



<div style="width:600px" id="showPacientesModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Confirmação do Agendamento</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">

                <div id="nomePaciente"></div>
                <div id="dadosConfirmacao"></div>

                <form autocomplete="off" id="escolhaPacienteForm" class="pl-3 pr-3">
                    <div class="row">
                        <input type="hidden" id="<?php echo csrf_token() ?>escolhaPacienteForm" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">

                        <input type="hidden" id="codPacienteMarcacao" name="codPacienteMarcacao" class="form-control" placeholder="codAgendamento" maxlength="11" required>
                        <input type="hidden" id="codAgendamentoMarcacao" name="codAgendamento" class="form-control" placeholder="codAgendamento" maxlength="11" required>
                    </div>

                    <div class="form-group text-center">
                        <div class="btn-group">
                            <button type="button" onclick="marcarPaciente()" class="btn btn-primary" data-toggle="tooltip" data-placement="top" title="Agendar Agora" id="add-formatalhos-btn">Agendar Agora</button>
                            <button type="button" class="btn btn-danger" data-toggle="tooltip" data-placement="top" title="Fechar" data-dismiss="modal">Cancelar</button>
                        </div>
                    </div>
                </form>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>



<div id="tipoImpressoraModal" class="modal fade col-md-6" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Tipo de Impressora</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <div style="margin-bottom:10px;font-size:20px">
                    Selecione o modelo de impressão de papel
                </div>

                <div id="botoesImprimirComprovante" class="row">
                </div>
            </div>


        </div>
    </div><!-- /.modal-content -->
</div>


<div id="tipoImpressoraExameModal" class="modal fade col-md-6" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Tipo de Impressora</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <div style="margin-bottom:10px;font-size:20px">
                    Selecione o modelo de impressão de papel
                </div>

                <div id="botoesImprimirComprovanteExame" class="row">
                </div>
            </div>


        </div>
    </div><!-- /.modal-content -->
</div>


<div id="atendimentosCondutasEditModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="atendimentosCondutasEditModalHeader"></h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">

                <div class="row">
                    <div class="col-md-2 text-right">
                        <div class="form-group">
                            <button style="margin-left:10px" type="button" class="btn btn-block btn-outline-primary btn-lg" onclick="imprimirConduta()" title="Imprimir Conduta">
                                <div><i class="fas fa-print fa-1x" aria-hidden="true"></i></div>
                                Imprimir
                            </button>
                        </div>
                    </div>
                </div>
                <div style="margin-bottom:10px" class="row">
                    <div class="col-md-12">
                        <?php echo session()->cabecalhoPrescricao; ?>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-12">
                        <div id="nomePacienteAtendimentosCondutasEdit"></div>
                        <div id="cpfPacienteAtendimentosCondutasEdit"></div>
                    </div>
                </div>

                <input type="hidden" id="codAtendimentoCondutasEdit">


                <div class="row">
                    <div class="col-md-12">
                        <textarea id="condutasTextareaEdit" name="condutasTextarea" class="form-control"></textarea>
                    </div>
                </div>


                <div class="row">
                    <div class="col-md-12">
                        <div class="text-right" id="dataCriacaoAtendimentosCondutasEdit"></div>
                    </div>
                </div>

                <div style="margin-top:10px" class="row">
                    <div class="col-md-12">
                        <div style="font-weight: bold;" class="text-center" id="nomeEspecialistaAtendimentosCondutasEdit"></div>
                        <div style="font-weight: bold;" class="text-center" id="numeroConselhoAtendimentosCondutasEdit"></div>
                    </div>
                </div>


                <div class="row">
                    <div class="col-md-12">
                        <?php echo session()->rodapePrescricao; ?>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>


<div id="listaModelosEvolucoesModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white">MODELOS DE EVOLUÇÕES</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">

                <div class="col-12 col-sm-12">
                    <div class="card card-primary card-tabs">
                        <div class="card-header p-0 pt-1">
                            <ul class="nav nav-tabs" id="modelosEvolucoes-tab" role="tablist">
                                <li class="nav-item">
                                    <a class="nav-link active" id="modelosEvolucoes-meusModelos-tab" data-toggle="pill" href="#modelosEvolucoes-meusModelos" role="tab" aria-controls="modelosEvolucoes-meusModelos" aria-selected="true">Meus Modelos</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" id="modelosEvolucoes-outrosModelos-tab" data-toggle="pill" href="#modelosEvolucoes-outrosModelos" role="tab" aria-controls="modelosEvolucoes-outrosModelos" aria-selected="false">Outros Modelos</a>
                                </li>
                            </ul>
                        </div>
                        <div class="card-body">
                            <div class="tab-content" id="modelosEvolucoes-tabContent">
                                <div class="tab-pane fade active show" id="modelosEvolucoes-meusModelos" role="tabpanel" aria-labelledby="modelosEvolucoes-meusModelos-tab">

                                    <table id="data_tablemeusmodelosevolucoes" class="table table-striped table-hover table-sm">
                                        <thead>
                                            <tr>
                                                <th>Código</th>
                                                <th>Título</th>
                                                <th>Conteúdo</th>
                                                <th>Data Criação</th>
                                                <th>Autor</th>
                                                <th></th>
                                            </tr>
                                        </thead>
                                    </table>

                                </div>
                                <div class="tab-pane fade" id="modelosEvolucoes-outrosModelos" role="tabpanel" aria-labelledby="modelosEvolucoes-outrosModelos-tab">

                                    <table id="data_tableoutrosmodelosevolucoes" class="table table-striped table-hover table-sm">
                                        <thead>
                                            <tr>
                                                <th>Código</th>
                                                <th>Título</th>
                                                <th>Conteúdo</th>
                                                <th>Data Criação</th>
                                                <th>Autor</th>
                                                <th></th>
                                            </tr>
                                        </thead>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <!-- /.card -->
                    </div>
                </div>


            </div>
        </div>
    </div>
</div>

<div id="listaModelosCondutasModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white">MODELOS DE CONDUTAS</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">

                <div class="col-12 col-sm-12">
                    <div class="card card-primary card-tabs">
                        <div class="card-header p-0 pt-1">
                            <ul class="nav nav-tabs" id="modelosCondutas-tab" role="tablist">
                                <li class="nav-item">
                                    <a class="nav-link active" id="modelosCondutas-meusModelos-tab" data-toggle="pill" href="#modelosCondutas-meusModelos" role="tab" aria-controls="modelosCondutas-meusModelos" aria-selected="true">Meus Modelos</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" id="modelosCondutas-outrosModelos-tab" data-toggle="pill" href="#modelosCondutas-outrosModelos" role="tab" aria-controls="modelosCondutas-outrosModelos" aria-selected="false">Outros Modelos</a>
                                </li>
                            </ul>
                        </div>
                        <div class="card-body">
                            <div class="tab-content" id="modelosCondutas-tabContent">
                                <div class="tab-pane fade active show" id="modelosCondutas-meusModelos" role="tabpanel" aria-labelledby="modelosCondutas-meusModelos-tab">

                                    <table id="data_tablemeusmodeloscondutas" class="table table-striped table-hover table-sm">
                                        <thead>
                                            <tr>
                                                <th>Código</th>
                                                <th>Título</th>
                                                <th>Conteúdo</th>
                                                <th>Data Criação</th>
                                                <th>Autor</th>
                                                <th></th>
                                            </tr>
                                        </thead>
                                    </table>

                                </div>
                                <div class="tab-pane fade" id="modelosCondutas-outrosModelos" role="tabpanel" aria-labelledby="modelosCondutas-outrosModelos-tab">

                                    <table id="data_tableoutrosmodeloscondutas" class="table table-striped table-hover table-sm">
                                        <thead>
                                            <tr>
                                                <th>Código</th>
                                                <th>Título</th>
                                                <th>Conteúdo</th>
                                                <th>Data Criação</th>
                                                <th>Autor</th>
                                                <th></th>
                                            </tr>
                                        </thead>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <!-- /.card -->
                    </div>
                </div>


            </div>
        </div>
    </div>
</div>


<div id="listaModelosMedicamentosModal" class="modal fade" role="dialog" aria-hidden="true" style="z-index: -1;">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white">MODELOS DE PRESCRIÇÃO DE MEDICAMENTOS</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">

                <div class="col-12 col-sm-12">
                    <div class="card card-primary card-tabs">
                        <div class="card-header p-0 pt-1">
                            <ul class="nav nav-tabs" id="modelosMedicamentos-tab" role="tablist">
                                <li class="nav-item">
                                    <a class="nav-link active" id="modelosMedicamentos-meusModelos-tab" data-toggle="pill" href="#modelosMedicamentos-meusModelos" role="tab" aria-controls="modelosMedicamentos-meusModelos" aria-selected="true">Meus Modelos</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" id="modelosMedicamentos-outrosModelos-tab" data-toggle="pill" href="#modelosMedicamentos-outrosModelos" role="tab" aria-controls="modelosMedicamentos-outrosModelos" aria-selected="false">Outros Modelos</a>
                                </li>
                            </ul>
                        </div>
                        <div class="card-body">
                            <div class="tab-content" id="modelosMedicamentos-tabContent">
                                <div class="tab-pane fade active show" id="modelosMedicamentos-meusModelos" role="tabpanel" aria-labelledby="modelosMedicamentos-meusModelos-tab">

                                    <table id="data_tablemeusmodelosmedicamentos" class="table table-striped table-hover table-sm">
                                        <thead>
                                            <tr>
                                                <th>Código</th>
                                                <th>Título</th>
                                                <th>Data Criação</th>
                                                <th>Autor</th>
                                                <th></th>
                                            </tr>
                                        </thead>
                                    </table>

                                </div>
                                <div class="tab-pane fade" id="modelosMedicamentos-outrosModelos" role="tabpanel" aria-labelledby="modelosMedicamentos-outrosModelos-tab">

                                    <table id="data_tableoutrosmodelosmedicamentos" class="table table-striped table-hover table-sm">
                                        <thead>
                                            <tr>
                                                <th>Código</th>
                                                <th>Título</th>
                                                <th>Data Criação</th>
                                                <th>Autor</th>
                                                <th></th>
                                            </tr>
                                        </thead>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <!-- /.card -->
                    </div>
                </div>


            </div>
        </div>
    </div>
</div>


<div id="listaModelosMateriaisModal" class="modal fade" role="dialog" aria-hidden="true" style="z-index: -1;">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white">MODELOS DE PRESCRIÇÃO DE MATERIAIS</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">

                <div class="col-12 col-sm-12">
                    <div class="card card-primary card-tabs">
                        <div class="card-header p-0 pt-1">
                            <ul class="nav nav-tabs" id="modelosMateriais-tab" role="tablist">
                                <li class="nav-item">
                                    <a class="nav-link active" id="modelosMateriais-meusModelos-tab" data-toggle="pill" href="#modelosMateriais-meusModelos" role="tab" aria-controls="modelosMateriais-meusModelos" aria-selected="true">Meus Modelos</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" id="modelosMateriais-outrosModelos-tab" data-toggle="pill" href="#modelosMateriais-outrosModelos" role="tab" aria-controls="modelosMateriais-outrosModelos" aria-selected="false">Outros Modelos</a>
                                </li>
                            </ul>
                        </div>
                        <div class="card-body">
                            <div class="tab-content" id="modelosMateriais-tabContent">
                                <div class="tab-pane fade active show" id="modelosMateriais-meusModelos" role="tabpanel" aria-labelledby="modelosMateriais-meusModelos-tab">

                                    <table id="data_tablemeusmodelosMateriais" class="table table-striped table-hover table-sm">
                                        <thead>
                                            <tr>
                                                <th>Código</th>
                                                <th>Título</th>
                                                <th>Data Criação</th>
                                                <th>Autor</th>
                                                <th></th>
                                            </tr>
                                        </thead>
                                    </table>

                                </div>
                                <div class="tab-pane fade" id="modelosMateriais-outrosModelos" role="tabpanel" aria-labelledby="modelosMateriais-outrosModelos-tab">

                                    <table id="data_tableoutrosmodelosMateriais" class="table table-striped table-hover table-sm">
                                        <thead>
                                            <tr>
                                                <th>Código</th>
                                                <th>Título</th>
                                                <th>Data Criação</th>
                                                <th>Autor</th>
                                                <th></th>
                                            </tr>
                                        </thead>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <!-- /.card -->
                    </div>
                </div>


            </div>
        </div>
    </div>
</div>

<div id="editModelosMedicamentosModal" class="modal fade" role="dialog" aria-hidden="true" style="z-index: -1;">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-danger text-center p-3">
                <h4 class="modal-title text-white" id="tituloEditarModelo"></h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">

                <div id="geraBotaoNovoModeloMedicamento" class="row"></div>

                <div style="margin-top:10px" class="row">
                    <div class="col-md-12">

                        <table id="data_tableModeloPrescricaoMedicamentos" class="table table-striped table-hover table-sm">
                            <thead>
                                <tr>
                                    <th>Código</th>
                                    <th>Item</th>
                                    <th>Qtde</th>
                                    <th>Und</th>
                                    <th>Via</th>
                                    <th>Parâmetros</th>
                                    <th>Classificação</th>
                                    <th>Observação</th>
                                    <th>Total</th>
                                    <th>Status</th>
                                    <th>Autor</th>
                                    <th></th>
                                </tr>
                            </thead>
                        </table>
                    </div>
                </div>





            </div>
        </div>
    </div>
</div>

<div id="editModelosMateriaisModal" class="modal fade" role="dialog" aria-hidden="true" style="z-index: -1;">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-danger text-center p-3">
                <h4 class="modal-title text-white" id="tituloEditarModeloMaterial"></h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">

                <div id="geraBotaoNovoModeloMaterial" class="row"></div>

                <div style="margin-top:10px" class="row">
                    <div class="col-md-12">

                        <table id="data_tableModeloPrescricaoMateriais" class="table table-striped table-hover table-sm">
                            <thead>
                                <tr>
                                    <th>Código</th>
                                    <th>Item</th>
                                    <th>Qtde</th>
                                    <th>Observação</th>
                                    <th>Status</th>
                                    <th>Autor</th>
                                    <th></th>
                                </tr>
                            </thead>
                        </table>
                    </div>
                </div>





            </div>
        </div>
    </div>
</div>


<div id="listaModelosPareceresModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white">MODELOS DE PARECERES</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">

                <div class="col-12 col-sm-12">
                    <div class="card card-primary card-tabs">
                        <div class="card-header p-0 pt-1">
                            <ul class="nav nav-tabs" id="modelosPareceres-tab" role="tablist">
                                <li class="nav-item">
                                    <a class="nav-link active" id="modelosPareceres-meusModelos-tab" data-toggle="pill" href="#modelosPareceres-meusModelos" role="tab" aria-controls="modelosPareceres-meusModelos" aria-selected="true">Meus Modelos</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" id="modelosPareceres-outrosModelos-tab" data-toggle="pill" href="#modelosPareceres-outrosModelos" role="tab" aria-controls="modelosPareceres-outrosModelos" aria-selected="false">Outros Modelos</a>
                                </li>
                            </ul>
                        </div>
                        <div class="card-body">
                            <div class="tab-content" id="modelosPareceres-tabContent">
                                <div class="tab-pane fade active show" id="modelosPareceres-meusModelos" role="tabpanel" aria-labelledby="modelosPareceres-meusModelos-tab">

                                    <table id="data_tablemeusmodelospareceres" class="table table-striped table-hover table-sm">
                                        <thead>
                                            <tr>
                                                <th>Código</th>
                                                <th>Título</th>
                                                <th>Conteúdo</th>
                                                <th>Data Criação</th>
                                                <th>Autor</th>
                                                <th></th>
                                            </tr>
                                        </thead>
                                    </table>

                                </div>
                                <div class="tab-pane fade" id="modelosPareceres-outrosModelos" role="tabpanel" aria-labelledby="modelosPareceres-outrosModelos-tab">

                                    <table id="data_tableoutrosmodelospareceres" class="table table-striped table-hover table-sm">
                                        <thead>
                                            <tr>
                                                <th>Código</th>
                                                <th>Título</th>
                                                <th>Conteúdo</th>
                                                <th>Data Criação</th>
                                                <th>Autor</th>
                                                <th></th>
                                            </tr>
                                        </thead>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <!-- /.card -->
                    </div>
                </div>


            </div>
        </div>
    </div>
</div>



<div id="listaModelosReceitasModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white">MODELOS DE RECEITAS</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">

                <div class="col-12 col-sm-12">
                    <div class="card card-primary card-tabs">
                        <div class="card-header p-0 pt-1">
                            <ul class="nav nav-tabs" id="modelosReceitas-tab" role="tablist">
                                <li class="nav-item">
                                    <a class="nav-link active" id="modelosReceitas-meusModelos-tab" data-toggle="pill" href="#modelosReceitas-meusModelos" role="tab" aria-controls="modelosReceitas-meusModelos" aria-selected="true">Meus Modelos</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" id="modelosReceitas-outrosModelos-tab" data-toggle="pill" href="#modelosReceitas-outrosModelos" role="tab" aria-controls="modelosReceitas-outrosModelos" aria-selected="false">Outros Modelos</a>
                                </li>
                            </ul>
                        </div>
                        <div class="card-body">
                            <div class="tab-content" id="modelosdocumentos-tabContent">
                                <div class="tab-pane fade active show" id="modelosReceitas-meusModelos" role="tabpanel" aria-labelledby="modelosReceitas-meusModelos-tab">

                                    <table id="data_tablemeusmodelosreceitas" class="table table-striped table-hover table-sm">
                                        <thead>
                                            <tr>
                                                <th>Código</th>
                                                <th>Título</th>
                                                <th>Conteúdo</th>
                                                <th>Data Criação</th>
                                                <th>Autor</th>
                                                <th></th>
                                            </tr>
                                        </thead>
                                    </table>

                                </div>
                                <div class="tab-pane fade" id="modelosReceitas-outrosModelos" role="tabpanel" aria-labelledby="modelosReceitas-outrosModelos-tab">

                                    <table id="data_tableoutrosmodelosreceitas" class="table table-striped table-hover table-sm">
                                        <thead>
                                            <tr>
                                                <th>Código</th>
                                                <th>Título</th>
                                                <th>Conteúdo</th>
                                                <th>Data Criação</th>
                                                <th>Autor</th>
                                                <th></th>
                                            </tr>
                                        </thead>
                                    </table>
                                </div>
                            </div>
                        </div>
                        <!-- /.card -->
                    </div>
                </div>


            </div>
        </div>
    </div>
</div>


<div id="atendimentosPareceresEditModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="atendimentosPareceresEditModalHeader"></h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">

                <div class="row">
                    <div class="col-md-2 text-right">
                        <div class="form-group">
                            <button style="margin-left:10px" type="button" class="btn btn-block btn-outline-primary btn-lg" onclick="imprimirParecer()" title="Imprimir Parecer">
                                <div><i class="fas fa-print fa-1x" aria-hidden="true"></i></div>
                                Imprimir
                            </button>
                        </div>
                    </div>
                </div>
                <div style="margin-bottom:10px" class="row">
                    <div class="col-md-12">
                        <?php echo session()->cabecalhoPrescricao; ?>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-12">
                        <div id="nomePacienteAtendimentosParecerEdit"></div>
                        <div id="cpfPacienteAtendimentosParecerEdit"></div>
                    </div>
                </div>

                <input type="hidden" id="codAtendimentoParecerEdit">


                <div class="row">
                    <div class="col-md-12">
                        <textarea id="parecerTextareaEdit" name="parecerTextarea" class="form-control"></textarea>
                    </div>
                </div>


                <div class="row">
                    <div class="col-md-12">
                        <div class="text-right" id="dataCriacaoAtendimentosParecerEdit"></div>
                    </div>
                </div>

                <div style="margin-top:10px" class="row">
                    <div class="col-md-12">
                        <div style="font-weight: bold;" class="text-center" id="nomeEspecialistaAtendimentosParecerEdit"></div>
                        <div style="font-weight: bold;" class="text-center" id="numeroConselhoAtendimentosParecerEdit"></div>
                    </div>
                </div>


                <div class="row">
                    <div class="col-md-12">
                        <?php echo session()->rodapePrescricao; ?>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>



<div id="atendimentosDocumentosEditModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="atendimentosDocumentosEditModalHeader"></h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">

                <div class="row">
                    <div class="col-md-2 text-right">
                        <div class="form-group">
                            <button style="margin-left:10px" type="button" class="btn btn-block btn-outline-primary btn-lg" onclick="imprimirDocumento()" title="Imprimir Documento">
                                <div><i class="fas fa-print fa-1x" aria-hidden="true"></i></div>
                                Imprimir
                            </button>
                        </div>
                    </div>
                </div>
                <div style="margin-bottom:10px" class="row">
                    <div class="col-md-12">
                        <?php echo session()->cabecalhoPrescricao; ?>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-12">
                        <div id="nomePacienteAtendimentosdocumentoEdit"></div>
                        <div id="cpfPacienteAtendimentosdocumentoEdit"></div>
                        <div id="enderecoPacienteAtendimentosdocumentoEdit"></div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group">
                            <label for="codTipoDocumentoEdit">Tipo de Documento: <span class="text-danger">*</span> </label>

                            <select id="codTipoDocumentoEdit" name="codTipoDocumento" class="custom-select">
                                <option value=""></option>
                                <option value="0">RECEITUÁRIO COMUM</option>
                                <option value="1">RECEITUÁRIO CONTROLE ESPECIAL</option>
                                <option value="2">DECLARAÇÃO DE COMPARECIMENTO</option>
                                <option value="3">ATESTADO MÉDICO</option>

                            </select>
                        </div>
                    </div>

                </div>

                <input type="hidden" id="codAtendimentoDocumentoEdit">


                <div class="row">
                    <div class="col-md-12">
                        <textarea id="documentoTextareaEdit" name="documentoTextarea" class="form-control"></textarea>
                    </div>
                </div>


                <div class="row">
                    <div class="col-md-12">
                        <div class="text-right" id="dataCriacaoAtendimentosdocumentoEdit"></div>
                    </div>
                </div>

                <div style="margin-top:10px" class="row">
                    <div class="col-md-12">
                        <div style="font-weight: bold;" class="text-center" id="nomeEspecialistaAtendimentosdocumentoEdit"></div>
                        <div style="font-weight: bold;" class="text-center" id="numeroConselhoAtendimentosdocumentoEdit"></div>
                    </div>
                </div>


                <div class="row">
                    <div class="col-md-12">
                        <?php echo session()->rodapePrescricao; ?>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>


<div id="atendimentosEvolucoesEditModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="atendimentosEvolucoesEditModalHeader"></h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">

                <div class="row">
                    <div class="col-md-2 text-right">
                        <div class="form-group">
                            <button style="margin-left:10px" type="button" class="btn btn-block btn-outline-primary btn-lg" onclick="imprimirEvolucao()" title="Imprimir Evolucao">
                                <div><i class="fas fa-print fa-1x" aria-hidden="true"></i></div>
                                Imprimir
                            </button>
                        </div>
                    </div>
                </div>
                <div style="margin-bottom:10px" class="row">
                    <div class="col-md-12">
                        <?php echo session()->cabecalhoPrescricao; ?>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-12">
                        <div id="nomePacienteAtendimentosEvolucoesEdit"></div>
                        <div id="cpfPacienteAtendimentosEvolucoesEdit"></div>
                        <div id="localAtendimentoEvolucoesEdit"></div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group">
                            <label for="codTipoEvolucaoEdit">Tipo Evolução: <span class="text-danger">*</span> </label>
                            <select required id="codTipoEvolucaoEdit" name="codTipoEvolucao" class="custom-select">
                                <option value=""></option>
                            </select>
                        </div>
                    </div>
                </div>
                <input type="hidden" id="codAtendimentoEvolucoesEdit">


                <div class="row">
                    <div class="col-md-12">
                        <textarea id="evolucoesTextareaEdit" name="evolucoesTextarea" class="form-control"></textarea>
                    </div>
                </div>


                <div class="row">
                    <div class="col-md-12">
                        <div class="text-right" id="dataCriacaoAtendimentosEvolucoesEdit"></div>
                    </div>
                </div>

                <div style="margin-top:10px" class="row">
                    <div class="col-md-12">
                        <div style="font-weight: bold;" class="text-center" id="nomeEspecialistaAtendimentosEvolucoesEdit"></div>
                        <div style="font-weight: bold;" class="text-center" id="numeroConselhoAtendimentosEvolucoesEdit"></div>
                    </div>
                </div>


                <div class="row">
                    <div class="col-md-12">
                        <?php echo session()->rodapePrescricao; ?>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>




<div id="atendimentosEvolucoesVerModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="atendimentosEvolucoesVerModalHeader"></h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">

                <div class="row">
                    <div class="col-md-2 text-right">
                        <div class="form-group">
                            <button style="margin-left:10px" type="button" class="btn btn-block btn-outline-primary btn-lg" onclick="imprimirVerEvolucao()" title="Imprimir Evolucao">
                                <div><i class="fas fa-print fa-1x" aria-hidden="true"></i></div>
                                Imprimir
                            </button>
                        </div>
                    </div>
                </div>

                <div style="margin-left:50px;margin-right:50px" id="areaImpressaoVerEvolucao" class="modal-body">

                    <div style="margin-bottom:10px" class="row">
                        <div class="col-md-12">
                            <?php echo session()->cabecalhoPrescricao; ?>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-12">
                            <div id="nomePacienteAtendimentosEvolucoesVer"></div>
                            <div id="cpfPacienteAtendimentosEvolucoesVer"></div>
                            <div id="localAtendimentoEvolucoesVer"></div>
                            <div id="dataHoraEvolucoesVer"></div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4">
                            <span>TIPO EVOLUÇÃO: </span> <span id="verTipoEvolucao"></span>
                        </div>
                    </div>

                    <hr>
                    <div style="margin-top:20px;margin-botton:20px;font-size:30px;font-weight: bold;" class="row text-center">
                        <div class="col-md-12">
                            EVOLUÇÃO
                        </div>
                    </div>


                    <div style="margin-top:10px" class="row">
                        <div class="col-md-12">
                            <div id="evolucoesTextareaVer"></div>
                        </div>
                    </div>


                    <div class="row">
                        <div class="col-md-12">
                            <div class="text-right" id="dataCriacaoAtendimentosEvolucoesVer"></div>
                        </div>
                    </div>

                    <div style="margin-top:10px" class="row">
                        <div class="col-md-12">
                            <div style="font-weight: bold;" class="text-center" id="nomeEspecialistaAtendimentosEvolucoesVer"></div>
                            <div style="font-weight: bold;" class="text-center" id="numeroConselhoAtendimentosEvolucoesVer"></div>
                        </div>
                    </div>


                    <div class="row">
                        <div class="col-md-12">
                            <?php echo session()->rodapePrescricao; ?>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>

<div id="atendimentosCondutasImpressaoModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white"></h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div style="margin-left:50px;margin-right:50px" id="areaImpressaoConduta" class="modal-body">


                <div style="margin-bottom:10px" class="row">
                    <div class="col-md-12">
                        <?php echo session()->cabecalhoPrescricao; ?>
                    </div>
                </div>




                <div class="row">
                    <div class="col-md-12">
                        <div id="nomePacienteAtendimentosCondutasImpressao"></div>
                        <div id="cpfPacienteAtendimentosCondutasImpressao"></div>
                    </div>
                </div>


                <div style="margin-top:30px" class="row">
                    <div class="col-md-12">
                        <div id="condutaImpressao"></div>
                    </div>
                </div>



                <div style="margin-top:70px" class="row">
                    <div class="col-md-12">
                        <div class="text-right" id="dataCriacaoAtendimentosCondutasImpressao"></div>
                    </div>
                </div>

                <div style="margin-top:70px" class="row">
                    <div class="col-md-12">
                        <div style="font-weight: bold;" class="text-center" id="nomeEspecialistaAtendimentosCondutasImpressao"></div>
                        <div style="font-weight: bold;" class="text-center" id="numeroConselhoAtendimentosCondutasImpressao"></div>
                    </div>
                </div>



                <div class="row">
                    <div class="col-md-12">
                        <?php echo session()->rodapePrescricao; ?>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>



<div id="atendimentosPrescricaoImpressaoModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white"></h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div style="margin-left:5mm;margin-right:5mm;margin-bottom:50px" id="areaImpressaoPrescricao" class="modal-body">


                <div style="margin-bottom:10px;margin-top:30px" class="row">
                    <div class="col-md-9">
                        <?php echo session()->cabecalhoPrescricao; ?>
                    </div>
                    <div class="col-md-3">
                        <span id="qrcodePrescricao"></span>
                    </div>
                </div>


                <div style="margin-top:20px" class="row">
                    <div class="col-md-12">
                        <div id="conteudoImpressaoPrescricao"></div>
                    </div>
                </div>



                <div style="margin-top:20px" class="row">
                    <div class="col-md-12">
                        <?php echo session()->rodapePrescricao; ?>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>

<div id="atendimentosParecerImpressaoModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white"></h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div style="margin-left:50px;margin-right:50px" id="areaImpressaoParecer" class="modal-body">


                <div style="margin-bottom:10px" class="row">
                    <div class="col-md-12">
                        <?php echo session()->cabecalhoPrescricao; ?>
                    </div>
                </div>




                <div class="row">
                    <div class="col-md-12">
                        <div id="nomePacienteAtendimentosParecerImpressao"></div>
                        <div id="cpfPacienteAtendimentosParecerImpressao"></div>
                    </div>
                </div>


                <div style="margin-top:30px" class="row">
                    <div class="col-md-12">
                        <div id="parecerImpressao"></div>
                    </div>
                </div>



                <div style="margin-top:70px" class="row">
                    <div class="col-md-12">
                        <div class="text-right" id="dataCriacaoAtendimentosParecerImpressao"></div>
                    </div>
                </div>

                <div style="margin-top:70px" class="row">
                    <div class="col-md-12">
                        <div style="font-weight: bold;" class="text-center" id="nomeEspecialistaAtendimentosParecerImpressao"></div>
                        <div style="font-weight: bold;" class="text-center" id="numeroConselhoAtendimentosParecerImpressao"></div>
                    </div>
                </div>



                <div class="row">
                    <div class="col-md-12">
                        <?php echo session()->rodapePrescricao; ?>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>


<div id="AtendimentosDocumentoImpressaoModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white"></h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div style="margin-top:0px; bottom:0;margin-left:0px;margin-right:0px" id="areaImpressaoDocumento" class="modal-body">




                <div style="margin-top:0px;margin-left:0px;margin-right:0px" class="row">
                    <div class="col-md-12">
                        <div id="documentoImpressao"></div>
                    </div>
                </div>




            </div>
        </div>
    </div>
</div>

<div id="atendimentosEvolucoesImpressaoModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white"></h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div style="margin-left:50px;margin-right:50px" id="areaImpressaoEvolucao" class="modal-body">


                <div style="margin-bottom:10px" class="row">
                    <div class="col-md-12">
                        <?php echo session()->cabecalhoPrescricao; ?>
                    </div>
                </div>




                <div class="row">
                    <div class="col-md-12">
                        <div id="nomePacienteAtendimentosEvolucoesImpressao"></div>
                        <div id="cpfPacienteAtendimentosEvolucoesImpressao"></div>
                        <div id="dataHoraEvolucoesImpressao"></div>
                        <div id="localAtendimentoEvolucoesImpressao"></div>
                    </div>
                </div>


                <div style="margin-top:20px;margin-botton:20px;font-size:30px;font-weight: bold;" class="row text-center">
                    <div class="col-md-12">
                        EVOLUÇÃO
                    </div>
                </div>


                <div style="margin-top:30px" class="row">
                    <div class="col-md-12">
                        <div id="evolucaoImpressao"></div>
                    </div>
                </div>




                <div style="margin-top:70px" class="row">
                    <div class="col-md-12">
                        <div class="text-right" id="dataCriacaoAtendimentosEvolucoesImpressao"></div>
                    </div>
                </div>

                <div style="margin-top:70px" class="row">
                    <div class="col-md-12">
                        <div style="font-weight: bold;" class="text-center" id="nomeEspecialistaAtendimentosEvolucoesImpressao"></div>
                        <div style="font-weight: bold;" class="text-center" id="numeroConselhoAtendimentosEvolucoesImpressao"></div>
                    </div>
                </div>



                <div class="row">
                    <div class="col-md-12">
                        <?php echo session()->rodapePrescricao; ?>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>



<div id="atendimentosEvolucoesAddModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="atendimentosEvolucoesAddModalHeader"></h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>

            <div class="modal-body">


                <div style="margin-bottom:10px" class="row">
                    <div class="col-md-12">
                        <?php echo session()->cabecalhoPrescricao; ?>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group">
                            <label for="codTipoEvolucaoAdd">Tipo Evolução: <span class="text-danger">*</span> </label>
                            <select required id="codTipoEvolucaoAdd" name="codTipoEvolucao" class="custom-select">
                                <option value=""></option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-12">
                        <div id="nomePacienteAtendimentosEvolucoesAdd"></div>
                        <div id="cpfPacienteAtendimentosEvolucoesAdd"></div>
                    </div>
                </div>


                <input type="hidden" id="codAtendimentoEvolucoesAdd">


                <div class="row">
                    <div class="col-md-12">
                        <textarea id="evolucoesTextareaAdd" name="evolucoesTextarea" class="form-control"></textarea>
                    </div>
                </div>


                <div class="row">
                    <div class="col-md-12">
                        <div class="text-right" id="dataCriacaoAtendimentosEvolucoesAdd"></div>
                    </div>
                </div>

                <div style="margin-top:10px" class="row">
                    <div class="col-md-12">
                        <div style="font-weight: bold;" class="text-center" id="nomeEspecialistaAtendimentosEvolucoesAdd"></div>
                        <div style="font-weight: bold;" class="text-center" id="numeroConselhoAtendimentosEvolucoesAdd"></div>
                    </div>
                </div>



                <div class="row">
                    <div class="col-md-12">
                        <?php echo session()->rodapePrescricao; ?>
                    </div>
                </div>

            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>


<div id="atendimentosCloneEvolucoesAddModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="atendimentosCloneEvolucoesAddModalHeader"></h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>

            <div class="modal-body">

                <div style="margin-bottom:10px" class="row">
                    <div class="col-md-12">
                        <?php echo session()->cabecalhoPrescricao; ?>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-4">
                        <div class="form-group">
                            <label for="codTipoCloneEvolucaoAdd">Tipo Evolução: <span class="text-danger">*</span> </label>
                            <select required id="codTipoCloneEvolucaoAdd" name="codTipoEvolucao" class="custom-select">
                                <option value=""></option>
                            </select>
                        </div>
                    </div>
                </div>


                <input type="hidden" id="codAtendimentoCloneEvolucoesAdd">


                <div class="row">
                    <div class="col-md-12">
                        <textarea id="evolucoesCloneTextareaAdd" name="evolucoesTextarea" class="form-control"></textarea>
                    </div>
                </div>


                <div class="row">
                    <div class="col-md-12">
                        <?php echo session()->rodapePrescricao; ?>
                    </div>
                </div>

            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>





<div id="atendimentosCondutasAddModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="atendimentosCondutasAddModalHeader"></h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">


                <div style="margin-bottom:10px" class="row">
                    <div class="col-md-12">
                        <?php echo session()->cabecalhoPrescricao; ?>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-12">
                        <div id="nomePacienteAtendimentosCondutasAdd"></div>
                        <div id="cpfPacienteAtendimentosCondutasAdd"></div>
                    </div>
                </div>


                <input type="hidden" id="codAtendimentoCondutasAdd">


                <div class="row">
                    <div class="col-md-12">
                        <textarea id="condutasTextareaAdd" name="condutasTextarea" class="form-control"></textarea>
                    </div>
                </div>


                <div class="row">
                    <div class="col-md-12">
                        <div class="text-right" id="dataCriacaoAtendimentosCondutasAdd"></div>
                    </div>
                </div>

                <div style="margin-top:10px" class="row">
                    <div class="col-md-12">
                        <div style="font-weight: bold;" class="text-center" id="nomeEspecialistaAtendimentosCondutasAdd"></div>
                        <div style="font-weight: bold;" class="text-center" id="numeroConselhoAtendimentosCondutasAdd"></div>
                    </div>
                </div>



                <div class="row">
                    <div class="col-md-12">
                        <?php echo session()->rodapePrescricao; ?>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>

<div id="atendimentosPrescricoesAddModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="atendimentosPrescricoesAddModalHeader"></h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="col-12 col-sm-12">
                    <div class="card card-primary card-tabs">
                        <div class="card-header p-0 pt-1">
                            <ul class="nav nav-tabs" id="prescricoes-tab" role="tablist">
                                <li class="nav-item">
                                    <a class="nav-link active" id="prescricoes-prescricao-tab" data-toggle="pill" href="#prescricoes-prescricao" role="tab" aria-controls="prescricoes-prescricao" aria-selected="true">Prescrição</a>
                                </li>
                            </ul>
                        </div>
                        <div class="card-body">
                            <div class="tab-content" id="prescricoes-tabContent">
                                <div class="tab-pane fade show active" id="prescricoes-prescricao" role="tabpanel" aria-labelledby="prescricoes-prescricao-tab">


                                    <div style="margin-bottom:10px" class="row">
                                        <div class="col-md-12">
                                            <?php echo session()->cabecalhoPrescricao; ?>
                                        </div>
                                    </div>

                                    <input type="hidden" id="codAtendimentoPrescricaoEdit">

                                    <div class="row">
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label for="dataInicioPrescricaoAdd"> Data Início: </label>
                                                <input type="date" id="dataInicioPrescricaoAdd" name="dataInicio" class="form-control" dateiso="true" value="<?php echo date('Y-m-d'); ?>" required>
                                            </div>
                                        </div>

                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label for="dataEncerramentoPrescricaoAdd"> Data Encerramento: </label>
                                                <input type="date" id="dataEncerramentoPrescricaoAdd" name="dataEncerramento" class="form-control" dateiso="true" value="<?php echo date('Y-m-d', strtotime('+1 days', strtotime(date('Y-m-d')))); ?>" required>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label for="codTipoPrescricaoAdd"> Tipo Prescrição: <span class="text-danger">*</span> </label>
                                                <select id="codTipoPrescricaoAdd" name="codTipoPrescricao" class="custom-select" required>
                                                    <option value=""></option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="form-group">
                                                <label for="prescricaoTextareaAdd"> Observações (Opcional):</label>

                                                <textarea id="prescricaoTextareaAdd" name="prescricaoTextarea" class="form-control"></textarea>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-md-12">
                                            <?php echo session()->rodapePrescricao; ?>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- /.card -->
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>


<div id="atendimentosPareceresAddModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="atendimentosPareceresAddModalHeader"></h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="col-12 col-sm-12">
                    <div class="card card-primary card-tabs">
                        <div class="card-header p-0 pt-1">
                            <ul class="nav nav-tabs" id="pareceres-tab" role="tablist">
                                <li class="nav-item">
                                    <a class="nav-link active" id="pareceres-parecer-tab" data-toggle="pill" href="#pareceres-parecer" role="tab" aria-controls="pareceres-parecer" aria-selected="true">Parecer</a>
                                </li>
                            </ul>
                        </div>
                        <div class="card-body">
                            <div class="tab-content" id="pareceres-tabContent">
                                <div class="tab-pane fade show active" id="pareceres-prescricao" role="tabpanel" aria-labelledby="pareceres-parecer-tab">


                                    <div style="margin-bottom:10px" class="row">
                                        <div class="col-md-12">
                                            <?php echo session()->cabecalhoPrescricao; ?>
                                        </div>
                                    </div>

                                    <input type="hidden" id="codAtendimentoParecerEdit">

                                    <div id="especialidadeParecerAdd">

                                    </div>


                                    <div class="row">
                                        <div class="col-md-12">
                                            <textarea id="parecerTextareaAdd" name="parecerTextarea" class="form-control"></textarea>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-md-12">
                                            <?php echo session()->rodapePrescricao; ?>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- /.card -->
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>

<div id="atendimentosDocumentosAddModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="atendimentosDocumentosAddModalHeader"></h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="col-12 col-sm-12">
                    <div class="card card-primary card-tabs">
                        <div class="card-header p-0 pt-1">
                            <ul class="nav nav-tabs" id="receitas-tab" role="tablist">
                                <li class="nav-item">
                                    <a class="nav-link active" id="documentos-documento-tab" data-toggle="pill" href="#receitas-receita" role="tab" aria-controls="receitas-receita" aria-selected="true">Documentos</a>
                                </li>
                            </ul>
                        </div>
                        <div class="card-body">
                            <div class="tab-content" id="documentos-tabContent">
                                <div class="tab-pane fade show active" id="documentos-prescricao" role="tabpanel" aria-labelledby="documentos-documento-tab">


                                    <div style="margin-bottom:10px" class="row">
                                        <div class="col-md-12">
                                            <?php echo session()->cabecalhoPrescricao; ?>
                                        </div>
                                    </div>

                                    <input type="hidden" id="codAtendimentoDocumentoEdit">


                                    <div class="row">
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                <label for="codTipoDocumentoAdd">Tipo de Documento: <span class="text-danger">*</span> </label>

                                                <select id="codTipoDocumentoAdd" name="codTipoDocumento" class="custom-select">
                                                    <option value=""></option>
                                                    <option value="0">RECEITUÁRIO COMUM</option>
                                                    <option value="1">RECEITUÁRIO CONTROLE ESPECIAL</option>
                                                    <option value="2">DECLARAÇÃO DE COMPARECIMENTO</option>
                                                    <option value="3">ATESTADO MÉDICO</option>

                                                </select>
                                            </div>
                                        </div>

                                    </div>

                                    <div class="row">
                                        <div class="col-md-12">
                                            <textarea id="documentoTextareaAdd" name="documentoTextarea" class="form-control"></textarea>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-md-12">
                                            <?php echo session()->rodapePrescricao; ?>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- /.card -->
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>


<div id="atendimentosPrescricoesCloneModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white">Clonar Prescrição para Atendimento Atual</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">



                <input type="hidden" id="codAtendimentoPrescricaoCloneEdit">
                <input type="hidden" id="codAtendimentoCloneEdit">

                <div class="row">
                    <div class="col-md-2">
                        <div class="form-group">
                            <div class="row">
                                Medicamentos
                            </div>
                            <div class="row">
                                <div class="icheck-primary d-inline center">
                                    <style>
                                        input[type=checkbox] {
                                            transform: scale(1.8);
                                            margin-left: 10px
                                        }
                                    </style>
                                    <input id="clonarMedicamentosAdd" name="medicamentos" type="checkbox" checked>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div class="form-group">
                            <div class="row">
                                Kits
                            </div>
                            <div class="row">
                                <div class="icheck-primary d-inline center">
                                    <style>
                                        input[type=checkbox] {
                                            transform: scale(1.8);
                                            margin-left: 10px
                                        }
                                    </style>
                                    <input id="clonarKitsAdd" name="kits" type="checkbox" checked>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div class="form-group">
                            <div class="row">
                                Materiais
                            </div>
                            <div class="row">
                                <div class="icheck-primary d-inline center">
                                    <style>
                                        input[type=checkbox] {
                                            transform: scale(1.8);
                                            margin-left: 10px
                                        }
                                    </style>
                                    <input id="clonarMateriaisAdd" name="materiais" type="checkbox" checked>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div class="form-group">
                            <div class="row">
                                Cuidados
                            </div>
                            <div class="row">
                                <div class="icheck-primary d-inline center">
                                    <style>
                                        input[type=checkbox] {
                                            transform: scale(1.8);
                                            margin-left: 10px
                                        }
                                    </style>
                                    <input id="clonarCuidadosAdd" name="cuidados" type="checkbox" checked>
                                </div>
                            </div>
                        </div>
                    </div>


                    <div class="col-md-2">
                        <div class="form-group">
                            <div class="row">
                                Recomentações Dietas
                            </div>
                            <div class="row">
                                <div class="icheck-primary d-inline center">
                                    <style>
                                        input[type=checkbox] {
                                            transform: scale(1.8);
                                            margin-left: 10px
                                        }
                                    </style>
                                    <input id="clonarDietasAdd" name="dietas" type="checkbox" checked>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-2">
                        <div class="form-group">
                            <div class="row">
                                Procedimentos
                            </div>
                            <div class="row">
                                <div class="icheck-primary d-inline center">
                                    <style>
                                        input[type=checkbox] {
                                            transform: scale(1.8);
                                            margin-left: 10px
                                        }
                                    </style>
                                    <input id="clonarProcedimentosAdd" name="procedimentos" type="checkbox">
                                </div>
                            </div>
                        </div>
                    </div>


                    <div class="col-md-2">
                        <div class="form-group">
                            <div class="row">
                                Outras Prescrições
                            </div>
                            <div class="row">
                                <div class="icheck-primary d-inline center">
                                    <style>
                                        input[type=checkbox] {
                                            transform: scale(1.8);
                                            margin-left: 10px
                                        }
                                    </style>
                                    <input id="clonarOutrasAdd" name="outras" type="checkbox" checked>
                                </div>
                            </div>
                        </div>
                    </div>


                </div>

                <div class="row">
                    <button type="button" class="btn btn-lg btn-primary" data-toggle="tooltip" data-placement="top" onclick="clonarPrescricaoAgora()"><i class="fa fa-edit"></i>Clonar agora</button>
                </div>

            </div>

        </div>
    </div>

</div>


<div id="atendimentosPrescricoesEditModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="atendimentosPrescricoesEditModalHeader"></h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">

                <div class="row" id="mostrarAlertaAlergia"></div>

                <div class="row">
                    <div class="col-12 col-sm-12">
                        <div class="card card-primary card-tabs">
                            <div class="card-header p-0 pt-1">


                                <ul class="nav nav-tabs" id="prescricoesEdit-tab" role="tablist">
                                    <li class="nav-item">
                                        <a class="nav-link active" id="prescricoesEdit-prescricao-tab" data-toggle="pill" href="#prescricoesEdit-prescricao" role="tab" aria-controls="prescricoesEdit-prescricao" aria-selected="true">Prescrição</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" id="prescricoesEdit-medicamentos-tab" data-toggle="pill" href="#prescricoesEdit-medicamentos" role="tab" aria-controls="prescricoesEdit-medicamentos" aria-selected="false">Medicamentos</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" id="prescricoesEdit-kits-tab" data-toggle="pill" href="#prescricoesEdit-kits" role="tab" aria-controls="prescricoesEdit-kits" aria-selected="false">Kits</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" id="prescricoesEdit-material-tab" data-toggle="pill" href="#prescricoesEdit-material" role="tab" aria-controls="prescricoesEdit-material" aria-selected="false">Material</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" id="prescricoesEdit-cuidados-tab" data-toggle="pill" href="#prescricoesEdit-cuidados" role="tab" aria-controls="prescricoesEdit-cuidados" aria-selected="false">Cuidados de Enfermagem</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" id="prescricoesEdit-dietas-tab" data-toggle="pill" href="#prescricoesEdit-dietas" role="tab" aria-controls="prescricoesEdit-dietas" aria-selected="false">Dieta</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" id="prescricoesEdit-procedimentos-tab" data-toggle="pill" href="#prescricoesEdit-procedimentos" role="tab" aria-controls="prescricoesEdit-procedimentos" aria-selected="false">Procedimentos</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" id="prescricoesEdit-outras-tab" data-toggle="pill" href="#prescricoesEdit-outras" role="tab" aria-controls="prescricoesEdit-outras" aria-selected="false">Outras Prescrições</a>
                                    </li>
                                </ul>
                            </div>
                            <div class="card-body">
                                <div class="tab-content" id="prescricoesEdit-tabContent">
                                    <div class="tab-pane fade show active" id="prescricoesEdit-prescricao" role="tabpanel" aria-labelledby="prescricoesEdit-prescricao-tab">


                                        <div style="margin-bottom:10px" class="row">
                                            <div class="col-md-12">
                                                <?php echo session()->cabecalhoPrescricao; ?>
                                            </div>
                                        </div>

                                        <input type="hidden" id="codAtendimentoPrescricaoEdit">

                                        <div class="row">
                                            <div class="col-md-3">
                                                <div class="form-group">
                                                    <label for="dataInicioPrescricaoEdit"> Data Início: </label>
                                                    <input type="date" id="dataInicioPrescricaoEdit" name="dataInicio" class="form-control" dateiso="true" required>
                                                </div>
                                            </div>

                                            <div class="col-md-3">
                                                <div class="form-group">
                                                    <label for="dataEncerramentoPrescricaoEdit"> Data Encerramento: </label>
                                                    <input type="date" id="dataEncerramentoPrescricaoEdit" name="dataEncerramento" class="form-control" dateiso="true" required>
                                                </div>
                                            </div>
                                        </div>


                                        <div class="row">
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                    <label for="codTipoPrescricaoEdit"> Tipo Prescrição: <span class="text-danger">*</span> </label>
                                                    <select id="codTipoPrescricaoEdit" name="codTipoPrescricao" class="custom-select" required>
                                                        <option value=""></option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>


                                        <div class="row">
                                            <div class="col-md-12">
                                                <div class="form-group">
                                                    <label for="prescricaoTextareaEdit"> Observações (Opcional):</label>

                                                    <textarea id="prescricaoTextareaEdit" name="prescricaoTextarea" class="form-control"></textarea>
                                                </div>
                                            </div>
                                        </div>




                                        <div class="row">
                                            <div class="col-md-12">
                                                <?php echo session()->rodapePrescricao; ?>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="tab-pane fade" id="prescricoesEdit-medicamentos" role="tabpanel" aria-labelledby="prescricoesEdit-medicamentos-tab">

                                        <div class="row">
                                            <div class="col-md-4">
                                                <button id="botaoNovoMedicamento" type="button" class="btn btn-lg btn-primary" data-toggle="tooltip" data-placement="top" title="Use este botão para adicionar um medicamento à prescrição" onclick="addprescricaoMedicamentos()"><i class="fa fa-edit"></i>Novo Medicamento</button>
                                            </div>

                                            <div class="col-md-4">
                                                <button id="botaoUsarModelo" type="button" class="btn btn-lg btn-info" data-toggle="tooltip" data-placement="top" title="Use este botão para ver os modelos de prescrição" onclick="listaModelosMedicamentos()"><i class="fa fa-edit"></i>Usar Modelos de Prescrição</button>
                                            </div>

                                            <div class="col-md-4">
                                                <button id="botaoSalvarModelo" type="button" class="btn btn-lg btn-success" data-toggle="tooltip" data-placement="top" title="Use este botão para adicionar salvar a prescrição atual como seu modelo para uso futuro" onclick="salvarModeloMedicamentos()"><i class="fa fa-edit"></i>Salvar Como Modelo de Prescrição</button>
                                            </div>
                                        </div>

                                        <div style="margin-top:10px" class="row">
                                            <div class="col-md-12">

                                                <table id="data_tableprescricaoMedicamentos" class="table table-striped table-hover table-sm">
                                                    <thead>
                                                        <tr>
                                                            <th>Código</th>
                                                            <th>Item</th>
                                                            <th>Qtde</th>
                                                            <th>Und</th>
                                                            <th>Via</th>
                                                            <th>Classificação</th>
                                                            <th>Total</th>
                                                            <th>Status</th>
                                                            <th>Autor</th>
                                                            <th></th>
                                                        </tr>
                                                    </thead>
                                                </table>
                                            </div>
                                        </div>

                                    </div>
                                    <div class="tab-pane fade" id="prescricoesEdit-material" role="tabpanel" aria-labelledby="prescricoesEdit-material-tab">






                                        <div class="row">
                                            <div class="col-md-4">
                                                <button id="botaoNovoMaterial" type="button" class="btn btn-lg btn-primary" data-toggle="tooltip" data-placement="top" onclick="addprescricoesMaterial()"><i class="fa fa-edit"></i>Novo Material</button>
                                            </div>

                                            <div class="col-md-4">
                                                <button id="botaoUsarModeloMaterial" type="button" class="btn btn-lg btn-info" data-toggle="tooltip" data-placement="top" onclick="listaModelosMateriais()"><i class="fa fa-edit"></i>Usar Modelos de Materiais</button>
                                            </div>

                                            <div class="col-md-4">
                                                <button id="botaoSalvarModeloMaterial" type="button" class="btn btn-lg btn-success" data-toggle="tooltip" data-placement="top" onclick="salvarModeloMateriais()"><i class="fa fa-edit"></i>Salvar Como Modelos de Materiais</button>
                                            </div>
                                        </div>

                                        <div class="row">
                                            <div class="col-md-12">
                                                <table id="data_tableprescricoesMaterial" class="table table-striped table-hover table-sm">
                                                    <thead>
                                                        <tr>
                                                            <th>Código</th>
                                                            <th>Material</th>
                                                            <th>Qtde</th>
                                                            <th>Autor</th>
                                                            <th>Ult Atualização</th>
                                                            <th>Status</th>
                                                            <th></th>
                                                        </tr>
                                                    </thead>
                                                </table>
                                            </div>
                                        </div>


                                    </div>
                                    <div class="tab-pane fade" id="prescricoesEdit-kits" role="tabpanel" aria-labelledby="prescricoesEdit-kits-tab">


                                        <div class="row">
                                            <button id="botaoNovoKit" type="button" class="btn btn-lg btn-primary" data-toggle="tooltip" data-placement="top" onclick="addprescricoesKit()"><i class="fa fa-edit"></i>Novo kit</button>
                                        </div>

                                        <div class="row">
                                            <div class="col-md-12">
                                                <table id="data_tableprescricoesKit" class="table table-striped table-hover table-sm">
                                                    <thead>
                                                        <tr>
                                                            <th>Código</th>
                                                            <th>Kit</th>
                                                            <th>Qtde</th>
                                                            <th>Observação</th>
                                                            <th>Autor</th>
                                                            <th>Ult Atualização</th>
                                                            <th>Status</th>
                                                            <th></th>
                                                        </tr>
                                                    </thead>
                                                </table>
                                            </div>
                                        </div>

                                    </div>
                                    <div class="tab-pane fade" id="prescricoesEdit-cuidados" role="tabpanel" aria-labelledby="prescricoesEdit-cuidados-tab">

                                        <div class="row">
                                            <button id="botaoNovoCuidado" type="button" class="btn btn-lg btn-primary" data-toggle="tooltip" data-placement="top" onclick="addprescricoesCuidados()"><i class="fa fa-edit"></i>Novo</button>
                                        </div>

                                        <div class="row">
                                            <div class="col-md-12">
                                                <table id="data_tableprescricoesCuidados" class="table table-striped table-hover table-sm">
                                                    <thead>
                                                        <tr>
                                                            <th>Código</th>
                                                            <th>Cuidado</th>
                                                            <th>Observações</th>
                                                            <th>Apraza</th>
                                                            <th>Autor</th>
                                                            <th>Ult Atualização</th>
                                                            <th>Status</th>
                                                            <th></th>
                                                        </tr>
                                                    </thead>
                                                </table>
                                            </div>
                                        </div>

                                    </div>
                                    <div class="tab-pane fade" id="prescricoesEdit-dietas" role="tabpanel" aria-labelledby="prescricoesEdit-dietas-tab">


                                        <div class="row">
                                            <div class="col-5 col-sm-3">
                                                <div class="nav flex-column nav-tabs h-100" id="vert-tabs-tab" role="tablist" aria-orientation="vertical">
                                                    <a class="menu-personalizado nav-link active" id="vert-tabs-home-tab" data-toggle="pill" href="#vert-tabs-home" role="tab" aria-controls="vert-tabs-home" aria-selected="false">Descrição</a>
                                                    <a class="menu-personalizado nav-link" id="vert-tabs-profile-tab" data-toggle="pill" href="#vert-tabs-profile" role="tab" aria-controls="vert-tabs-profile" aria-selected="true">Itens de Dieta (NUTRIÇÃO)</a>
                                                </div>
                                            </div>
                                            <div class="col-7 col-sm-9">
                                                <div class="tab-content" id="vert-tabs-tabContent">
                                                    <div class="tab-pane text-left fade active show" id="vert-tabs-home" role="tabpanel" aria-labelledby="vert-tabs-home-tab">
                                                        <div class="row">
                                                            <div class="col-md-12">
                                                                <textarea id="dietaTextareaEdit" name="dietaTextarea" class="form-control"></textarea>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="tab-pane fade" id="vert-tabs-profile" role="tabpanel" aria-labelledby="vert-tabs-profile-tab">



                                                        <div style="margin-top:10px" class="row">
                                                            <div class="col-md-4">
                                                                <button id="botaoNovaDieta" type="button" class="btn btn-lg btn-primary" data-toggle="tooltip" data-placement="top" title="Use este botão para adicionar uma nova dieta à prescrição" onclick="addprescricaoDieta()"><i class="fa fa-edit"></i>Nova Dieta</button>
                                                            </div>
                                                        </div>


                                                        <div style="margin-top:10px" class="row">




                                                            <div class="col-md-12">

                                                                <table id="data_tableprescricaoDietas" class="table table-striped table-hover table-sm">
                                                                    <thead>
                                                                        <tr>
                                                                            <th>Código</th>
                                                                            <th>Item</th>
                                                                            <th>Qtde</th>
                                                                            <th>Und</th>
                                                                            <th>Via</th>
                                                                            <th>Classificação</th>
                                                                            <th>Total</th>
                                                                            <th>Status</th>
                                                                            <th>Autor</th>
                                                                            <th></th>
                                                                        </tr>
                                                                    </thead>
                                                                </table>
                                                            </div>
                                                        </div>

                                                    </div>
                                                </div>
                                            </div>
                                        </div>





                                    </div>


                                    <div class="tab-pane fade" id="prescricoesEdit-procedimentos" role="tabpanel" aria-labelledby="prescricoesEdit-procedimentos-tab">




                                        <div class="row">
                                            <button id="botaoNovoProcedimento" type="button" class="btn btn-lg btn-primary" data-toggle="tooltip" data-placement="top" onclick="addprescricaoProcedimento()"><i class="fa fa-edit"></i>Novo</button>
                                        </div>

                                        <div class="row">
                                            <div class="col-md-12">
                                                <table id="data_tableprescricaoProcedimento" class="table table-striped table-hover table-sm">
                                                    <thead>
                                                        <tr>
                                                            <th>Codigo</th>
                                                            <th>Nº Ref</th>
                                                            <th>Procedimento</th>
                                                            <th>Qtde</th>
                                                            <th>Observação</th>
                                                            <th>Autor</th>
                                                            <th>Data Criação</th>
                                                            <th>Status</th>
                                                            <th></th>
                                                        </tr>
                                                    </thead>
                                                </table>
                                            </div>
                                        </div>



                                    </div>


                                    <div class="tab-pane fade" id="prescricoesEdit-outras" role="tabpanel" aria-labelledby="prescricoesEdit-outras-tab">




                                        <div class="row">
                                            <button id="botaoNovoOutra" type="button" class="btn btn-lg btn-primary" data-toggle="tooltip" data-placement="top" onclick="addprescricoesOutras()"><i class="fa fa-edit"></i>Novo</button>
                                        </div>

                                        <div class="row">
                                            <div class="col-md-12">
                                                <table id="data_tableprescricoesOutras" class="table table-striped table-hover table-sm">
                                                    <thead>
                                                        <tr>
                                                            <th>Código</th>
                                                            <th>Tipo</th>
                                                            <th>Descrição</th>
                                                            <th>Apraza</th>
                                                            <th>Autor</th>
                                                            <th>Ult Atualização</th>
                                                            <th>Status</th>
                                                            <th></th>
                                                        </tr>
                                                    </thead>
                                                </table>
                                            </div>
                                        </div>



                                    </div>
                                </div>
                            </div>
                            <!-- /.card -->
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>


<div id="prescricaoProcedimentoAddModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Adicionar Prescrição de Procedimentos</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <form id="prescricaoProcedimentoAddForm" class="pl-3 pr-3">
                    <input type="hidden" id="<?php echo csrf_token() ?>prescricaoProcedimentoAddForm" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">

                    <div class="row">
                        <input type="hidden" id="codAtendimentoPrescricaoProcedimentoAdd" name="codAtendimentoPrescricao" class="form-control" placeholder="Codigo" maxlength="11" required>
                        <input type="hidden" id="codPrescricaoProcedimentoAdd" name="codPrescricaoProcedimento" class="form-control" placeholder="Codigo" maxlength="11" required>
                    </div>
                    <div class="row">

                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="codProcedimentoAdd">Procedimento: <span class="text-danger">*</span> </label>

                                <select id="codProcedimentoAdd" name="codProcedimento" class="custom-select">
                                    <option value=""></option>

                                </select>
                            </div>
                        </div>

                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="qtde"> Qtde: <span class="text-danger">*</span> </label>
                                <input type="text" id="qtde" name="qtde" class="form-control" placeholder="Qtde" required>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="observacao"> Observação: </label>
                                <textarea cols="40" rows="5" id="observacao" name="observacao" class="form-control" placeholder="Observacao"></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="form-group text-center">
                        <div class="btn-group">
                            <button type="submit" class="btn btn-primary" data-toggle="tooltip" data-placement="top" title="Adicionar" id="prescricaoProcedimentoAddForm-btn">Adicionar</button>
                            <button type="button" class="btn btn-danger" data-toggle="tooltip" data-placement="top" title="Fechar" data-dismiss="modal">Fechar</button>
                        </div>
                    </div>
                </form>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>
<div id="prescricaoProcedimentoEditModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Atualizar Prescrição de Procedimentos</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <form id="prescricaoProcedimentoEditForm" class="pl-3 pr-3">
                    <input type="hidden" id="<?php echo csrf_token() ?>prescricaoProcedimentoEditForm" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">

                    <div class="row">
                        <input type="hidden" id="codAtendimentoPrescricaoProcedimentoEdit" name="codAtendimentoPrescricao" class="form-control" placeholder="Codigo" maxlength="11" required>
                        <input type="hidden" id="codPrescricaoProcedimentoEdit" name="codPrescricaoProcedimento" class="form-control" placeholder="Codigo" maxlength="11" required>
                    </div>
                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="codProcedimentoEdit">Procedimento: <span class="text-danger">*</span> </label>

                                <select id="codProcedimentoEdit" name="codProcedimento" class="custom-select">
                                    <option value=""></option>

                                </select>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="qtde"> Qtde: <span class="text-danger">*</span> </label>
                                <input type="text" id="qtde" name="qtde" class="form-control" placeholder="Qtde" required>
                            </div>
                        </div>
                    </div>
                    <div class="row">

                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="observacao"> Observação: </label>
                                <textarea cols="40" rows="5" id="observacao" name="observacao" class="form-control" placeholder="Observacao"></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="form-group text-center">
                        <div class="btn-group">
                            <button type="submit" class="btn btn-primary" data-toggle="tooltip" data-placement="top" title="Salvar" id="prescricaoProcedimentoEditForm-btn">Salvar</button>
                            <button type="button" class="btn btn-danger" data-toggle="tooltip" data-placement="top" title="Fechar" data-dismiss="modal">Fechar</button>
                        </div>
                    </div>
                </form>

            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>


<div id="addAtendimentosPrescricoesModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Prescrição</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">

                <div style="margin-top:10px" class="row">
                    <div class="col-md-4">
                        <div class="form-group">
                            <button style="margin-left:10px" type="button" class="btn btn-block btn-outline-primary btn-lg" onclick="prescricao()" title="Adicionar">
                                <div><i class="fas fa-edit fa-3x" aria-hidden="true"></i></div>
                                <div>Ambulatorial</div>
                            </button>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <button style="margin-left:10px" type="button" class="btn btn-block btn-outline-primary btn-lg" onclick="prescricaoInternados()" title="Adicionar">
                                <div><i class="fas fa-pills fa-3x" aria-hidden="true"></i></div>
                                <div>Internados</div>
                            </button>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>


<div id="addAtendimentosCondutasModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Condutas</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">

                <div style="margin-top:10px" class="row">
                    <div class="col-md-4">
                        <div class="form-group">
                            <button style="margin-left:10px" type="button" class="btn btn-block btn-outline-primary btn-lg" onclick="prescricao()" title="Adicionar">
                                <div><i class="fas fa-edit fa-3x" aria-hidden="true"></i></div>
                                <div>Ambulatorial</div>
                            </button>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="form-group">
                            <button style="margin-left:10px" type="button" class="btn btn-block btn-outline-primary btn-lg" onclick="prescricaoInternados()" title="Adicionar">
                                <div><i class="fas fa-pills fa-3x" aria-hidden="true"></i></div>
                                <div>Internados</div>
                            </button>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>

<div id="imprimirListaModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Lista de Pacientes</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">


                <div id="teste"></div>

                <table id="data_listaPacientesImprimir" class="table table-striped table-hover table-sm">
                    <thead>
                        <tr>
                            <th>Nº</th>
                            <th>Paciente</th>
                            <th>Especialidade</th>
                            <th>Período</th>
                            <th>Contato</th>
                            <th>Nº Plano</th>
                            <th>Prontuário</th>
                            <th>Marcado Por</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                </table>

            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>



<div id="encaixarPacienteModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Encaixar Paciente</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">


                <form id="encaixarPacienteAddForm" class="pl-3 pr-3">
                    <div class="row">
                        <input type="hidden" id="<?php echo csrf_token() ?>encaixarPacienteAddForm" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">
                    </div>
                    <div class="row">
                        <div class="col-sm-4">
                            <input autocomplete="off" type="text" id="pacienteParaEncaixe" name="cpfCodPlano" placeholder="INFORME O CPF OU Nº PLANO (Nº PLANO)" class="form-control" maxlength="14" required>
                        </div>
                    </div>

                    <div class="form-group text-center">
                        <div class="btn-group">
                            <button type="button" onclick="addEncaixePaciente()" class="btn btn-primary">Buscar paciente</button>
                            <button type="button" class="btn btn-danger" data-toggle="tooltip" data-placement="top" title="Fechar" data-dismiss="modal">Cancelar</button>
                        </div>
                    </div>
                </form>


            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>

<div id="encaixarPacienteAgoraModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Confirmação do encaixe do Paciente</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">


                <form id="encaixarPacienteAgoraAddForm" class="pl-3 pr-3">
                    <div class="row">
                        <input type="hidden" id="<?php echo csrf_token() ?>encaixarPacienteAddForm" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">


                        <input type="hidden" id="codEspecialidadeEncaixeAdd" name="codEspecialidade">
                        <input type="hidden" id="codEspecialistaEncaixeAdd" name="codEspecialista">
                        <input type="hidden" id="codPacienteEncaixeAdd" name="codPaciente">
                    </div>

                    <div id="confirmacaoPacienteParaEncaixe" class="row">

                    </div>

                    <div class="col-md-2">
                        <div class="form-group">
                            <label for="dataInicioEncaixeAdd"> Data do Encaixe: </label>
                            <input type="date" id="dataInicioEncaixeAdd" name="dataInicio" class="form-control" dateISO="true" required>
                        </div>

                        <div class="form-group">
                            <label for="horaEncaixeAdd"> Hora do Encaixe: </label>
                            <input type="time" id="horaEncaixeAdd" name="horaInicio" class="form-control" dateISO="true" required>
                        </div>
                    </div>

                    <div class="form-group text-center">
                        <div class="btn-group">
                            <button type="button" onclick="addEncaixePacienteAgora()" class="btn btn-primary">Encaixar paciente</button>
                            <button type="button" class="btn btn-danger" data-toggle="tooltip" data-placement="top" title="Fechar" data-dismiss="modal">Cancelar</button>
                        </div>
                    </div>
                </form>


            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>

<div id="imprimirListaAgendamentosExamesModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Lista de Pacientes</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">


                <div id="teste"></div>

                <table id="data_listaPacientesAgendamentosExamesImprimir" class="table table-striped table-hover table-sm">
                    <thead>
                        <tr>
                            <th>Nº</th>
                            <th>Paciente</th>
                            <th>Especialidade</th>
                            <th>Observações</th>
                            <th>Período</th>
                            <th>Contato</th>
                            <th>Nº Plano</th>
                            <th>Prontuário</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                </table>

            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>


<div id="comprovanteA4Modal" class="modal fade" role="dialog" aria-hidden="true">

    <div class="modal-dialog modal-xl">
        <div class="modal-content">

            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Comprovante</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">

                <div style="margin-left:10px" id="areaImpressaoComprovanteA4">
                    <div class="row">
                        <div style="width:50% !important" class="col-sm-6 border">

                            <div>
                                <center><img alt="" style="text-align:center;width:60px;height:60px;" src="<?php echo base_url() . "/imagens/organizacoes/" . session()->logo ?>"></center>
                            </div>
                            <div style="text-align:center;font-weight: bold">
                                <?php echo session()->descricaoOrganizacao; ?>



                            </div>

                            <div style="font-family: 'Arial';margin-top:20px;height: 80mm;">
                                <div style="text-align:left;font-weight: bold;font-size:12px">USUÁRIO: <span id="nomeCompletoComprovanteA4"></span></div>
                                <div style="text-align:left;font-weight: bold;font-size:12px">Nº PLANO: <span id="CODPLANOComprovanteA4"></span></div>
                                <div style="text-align:left;font-weight: bold;font-size:12px">ESPECIALISTA: <span id="nomeEspecialistaComprovanteA4"></span></div>
                                <div style="text-align:left;font-weight: bold;font-size:12px">LOCAL DE ATENDIMENTO: <span id="nomeLocalComprovanteA4"></span></div>
                                <div style="text-align:left;font-size:12px">DIA: <span id="dataInicioComprovanteA4"></span></div>
                                <div style="text-align:left;font-size:12px">LOCAL <span id="localComprovanteA4"></span></div>
                                <div style="text-align:left;font-size:12px">Protocolo Nr: <span id="protocoloComprovanteA4"></span></div>
                                <div style="text-align:left;font-size:12px"><b>Prontuário Nº: </b>:<span id="codProntuarioComprovanteA4"></span></div>
                                <div style="margin-top:10px" class="d-flex justify-content-left" id="qrcodeComprovanteA4"></div>

                            </div>


                            <div style="margin-top:30px" class="row">
                                <div><b>Marcado Por: </b>:<span id="autorMarcacaoComprovanteA4"></span></div>
                            </div>


                            <div class="row">
                                <?php
                                echo "Impresso por: " . session()->nomeExibicao . ' | CPF: ' . substr(session()->cpf, 0, -6) . '*****' . " | IP:"  . session()->ip
                                ?>
                            </div>

                            <div class="row">
                                <?php

                                echo session()->cidade . '-' . session()->uf . ', ' . date('d', strtotime(date('Y-m-d'))) . ' de ' . nomeMesPorExtenso(date('m', strtotime(date('Y-m-d')))) . ' de ' . date('Y', strtotime(date('Y-m-d'))) . '.';

                                ?>
                            </div>
                        </div>
                        <div style="width:50% !important" class="col-sm-6 border">

                            <div style="margin-left:10px;margin-top:10px;font-family: 'Arial';margin-top:20px;text-align:left;font-weight: bold;font-size:12px">
                                <div class="row">
                                    <b>Prezado usuário, leia atentamente as orientações a seguir:</b>
                                </div>
                                <div class="row">
                                    * Este é seu comprovante de marcação de consulta.
                                </div>

                                <div class="row">
                                    * Compareça no dia da consulta 30 minutos antes.
                                </div>

                                <div class="row">
                                    * Esta consulta só pode ser desmarcada até 24 horas antes. Para desmarcar utilize nossa plataforma online através do endereço <?php echo base_url() ?>, contate-nos através do telefone <?php echo session()->telefoneOrganizacao ?>
                                </div>

                                <div class="row">
                                    * Evite faltas, compareça à consulta.
                                </div>
                                <div class="row">
                                    * Evite bloqueio de marcações de consultas por motivo de faltas.
                                </div>

                                <div class="row">
                                    * Evite atrasos.
                                </div>

                            </div>

                        </div>

                    </div>






                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" id="botaoImprimirComprovanteA4">Imprimir</button>
                <button class="btn" data-dismiss="modal" aria-hidden="true">Fechar</button>
            </div>
        </div>



    </div>
</div>


<div style="position: fixed;height: 800px" id="comprovanteA4ExameModal" class="modal fade" role="dialog" aria-hidden="true">

    <div class="modal-dialog modal-xl">
        <div class="modal-content">

            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Comprovante de Exame</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">

                <div style="margin-left:10px" id="areaImpressaoComprovanteExameA4">
                    <div class="row">
                        <div style="width:50% !important" class="col-sm-6 border">

                            <div>
                                <center><img alt="" style="text-align:center;width:60px;height:60px;" src="<?php echo base_url() . "/imagens/organizacoes/" . session()->logo ?>"></center>
                            </div>
                            <div style="text-align:center;font-weight: bold">
                                <?php echo session()->descricaoOrganizacao; ?>



                            </div>

                            <div style="font-family: 'Arial';margin-top:20px;height: 80mm;">
                                <div style="text-align:left;font-weight: bold;font-size:12px">USUÁRIO: <span id="nomeCompletoComprovanteExameA4"></span></div>
                                <div style="text-align:left;font-weight: bold;font-size:12px">Nº PLANO: <span id="CODPLANOComprovanteExameA4"></span></div>
                                <div style="text-align:left;font-weight: bold;font-size:12px">EXAME: <span id="nomeExameComprovanteExameA4"></span></div>
                                <div style="text-align:left;font-weight: bold;font-size:12px">LOCAL DE ATENDIMENTO: <span id="nomeLocalComprovanteExameA4"></span></div>
                                <div style="text-align:left;font-size:12px">DIA: <span id="dataInicioComprovanteExameA4"></span></div>
                                <div style="text-align:left;font-size:12px">LOCAL <span id="localComprovanteExameA4"></span></div>
                                <div style="text-align:left;font-size:12px">Protocolo Nr: <span id="protocoloComprovanteExameA4"></span></div>
                                <div style="text-align:left;font-size:12px"><b>Prontuário Nº: </b>:<span id="codProntuarioComprovanteExameA4"></span></div>
                                <div style="margin-top:10px" class="d-flex justify-content-left" id="qrcodeComprovanteExameA4"></div>

                            </div>


                            <div style="margin-top:30px" class="row">
                                <div><b>Marcado Por: </b>:<span id="autorMarcacaoComprovanteExameA4"></span></div>
                            </div>



                            <div class="row">
                                <?php

                                echo "CPF autor: " . substr(session()->cpf, 0, -6) . '*****' . " | IP:"  . session()->ip
                                ?>
                            </div>
                        </div>
                        <div style="width:50% !important" class="col-sm-6 border">

                            <div style="margin-left:10px;margin-top:10px;font-family: 'Arial';margin-top:20px;text-align:left;font-weight: bold;font-size:12px">
                                <div class="row">
                                    <b>Prezado usuário, leia atentamente as orientações a seguir:</b>
                                </div>
                                <div class="row">
                                    * Este é seu comprovante de marcação do exame.
                                </div>

                                <div class="row">
                                    * Compareça no dia do exame 30 minutos antes.
                                </div>

                                <div class="row">
                                    * Esta exame só pode ser desmarcada até 24 horas antes. Para desmarcar utilize nossa plataforma online através do endereço <?php echo base_url() ?>, contate-nos através do telefone <?php echo session()->telefoneOrganizacao ?>
                                </div>

                                <div class="row">
                                    * Evite faltas, compareça ao exame.
                                </div>
                                <div class="row">
                                    * Evite bloqueio de marcações de exame por motivo de faltas.
                                </div>

                                <div class="row">
                                    * Evite atrasos.
                                </div>

                            </div>

                        </div>

                    </div>






                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" id="botaoImprimirComprovanteExameA4">Imprimir</button>
                <button class="btn" data-dismiss="modal" aria-hidden="true">Fechar</button>
            </div>
        </div>



    </div>
</div>



<div id="comprovanteExamePorEmailModal" class="modal fade" role="dialog" aria-hidden="true">

    <div class="modal-dialog modal-xl">
        <div class="modal-content">

            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Comprovante de Exame</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">

                <div style="margin-left:10px" id="areaImpressaoComprovanteExamePorEmail">
                    <div class="row">
                        <div style="width:50% !important" class="col-sm-6 border">

                            <div>
                                <center><img alt="" style="text-align:center;width:60px;height:60px;" src="<?php echo base_url() . "/imagens/organizacoes/" . session()->logo ?>"></center>
                            </div>
                            <div style="text-align:center;font-weight: bold">
                                <?php echo session()->descricaoOrganizacao; ?>



                            </div>

                            <div style="font-family: 'Arial';margin-top:20px;height: 80mm;">
                                <div style="text-align:left;font-weight: bold;font-size:12px">USUÁRIO: <span id="nomeCompletoComprovanteExamePorEmail"></span></div>
                                <div style="text-align:left;font-weight: bold;font-size:12px">Nº PLANO: <span id="CODPLANOComprovanteExamePorEmail"></span></div>
                                <div style="text-align:left;font-weight: bold;font-size:12px">EXAME: <span id="nomeExameComprovanteExamePorEmail"></span></div>
                                <div style="text-align:left;font-weight: bold;font-size:12px">LOCAL DE ATENDIMENTO: <span id="nomeLocalComprovanteExamePorEmail"></span></div>
                                <div style="text-align:left;font-size:12px">DIA: <span id="dataInicioComprovanteExamePorEmail"></span></div>
                                <div style="text-align:left;font-size:12px">LOCAL <span id="localComprovanteExamePorEmail"></span></div>
                                <div style="text-align:left;font-size:12px">Protocolo Nr: <span id="protocoloComprovanteExamePorEmail"></span></div>
                                <div style="text-align:left;font-size:12px"><b>Prontuário Nº: </b>:<span id="codProntuarioComprovanteExamePorEmail"></span></div>
                                <div style="margin-top:10px" class="d-flex justify-content-left" id="qrcodeComprovanteExamePorEmail"></div>

                            </div>

                            <div style="margin-top:30px" class="row">
                                <div><b>Marcado Por: </b>:<span id="autorMarcacaoExamePorEmail"></span></div>
                            </div>


                            <div class="row">
                                <?php
                                echo "Impresso por: " . session()->nomeExibicao . ' | CPF: ' . substr(session()->cpf, 0, -6) . '*****' . " | IP:"  . session()->ip
                                ?>
                            </div>

                            <div class="row">
                                <?php

                                echo session()->cidade . '-' . session()->uf . ', ' . date('d', strtotime(date('Y-m-d'))) . ' de ' . nomeMesPorExtenso(date('m', strtotime(date('Y-m-d')))) . ' de ' . date('Y', strtotime(date('Y-m-d'))) . '.';

                                ?>
                            </div>
                        </div>
                        <div style="width:50% !important" class="col-sm-6 border">

                            <div style="margin-left:10px;margin-top:10px;font-family: 'Arial';margin-top:20px;text-align:left;font-weight: bold;font-size:12px">
                                <div class="row">
                                    <b>Prezado usuário, leia atentamente as orientações a seguir:</b>
                                </div>
                                <div class="row">
                                    * Este é seu comprovante de marcação do exame.
                                </div>

                                <div class="row">
                                    * Compareça no dia do exame 30 minutos antes.
                                </div>

                                <div class="row">
                                    * Esta exame só pode ser desmarcada até 24 horas antes. Para desmarcar utilize nossa plataforma online através do endereço <?php echo base_url() ?>, contate-nos através do telefone <?php echo session()->telefoneOrganizacao ?>
                                </div>

                                <div class="row">
                                    * Evite faltas, compareça ao exame.
                                </div>
                                <div class="row">
                                    * Evite bloqueio de marcações de exame por motivo de faltas.
                                </div>

                                <div class="row">
                                    * Evite atrasos.
                                </div>

                            </div>

                        </div>

                    </div>






                </div>
            </div>
            <div class="modal-footer">
                <span id="infoEmailPessoalEnviarExame"></span>
                <button class="btn btn-primary" id="botaoImprimirComprovanteExamePorEmail">Enviar E-mail</button>
                <button class="btn" data-dismiss="modal" aria-hidden="true">Cancelar </button>
            </div>
        </div>



    </div>
</div>




<div style="position: absolute; height: 300mm" id="comprovanteEtiqueta80Modal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div style="width: 80mm" class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Comprovante</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">

                <div style="margin-left:10px" id="areaImpressaoComprovanteEtiqueta80">
                    <div style="width: 80mm important;height: 75mm important!;" class="row">
                        <div class="col-sm-12">

                            <div>
                                <center><img alt="" style="text-align:center;width:60px;height:60px;" src="<?php echo base_url() . "/imagens/organizacoes/" . session()->logo ?>"></center>
                            </div>
                            <div style="text-align:center;font-weight: bold">
                                <?php echo session()->descricaoOrganizacao; ?>



                            </div>

                            <div style="font-family: 'Arial';margin-top:20px;height: 80mm;">
                                <div style="text-align:left;font-weight: bold;font-size:12px">USUÁRIO: <span id="nomeCompletoComprovanteEtiqueta80"></span></div>
                                <div style="text-align:left;font-weight: bold;font-size:12px">Nº PLANO: <span id="CODPLANOComprovanteEtiqueta80"></span></div>
                                <div style="text-align:left;font-weight: bold;font-size:12px">ESPECIALISTA: <span id="nomeEspecialistaComprovanteEtiqueta80"></span></div>
                                <div style="text-align:left;font-weight: bold;font-size:12px">DIA: <span id="dataInicioComprovanteEtiqueta80"></span></div>
                                <div style="text-align:left;font-weight: bold;font-size:12px">LOCAL <span id="localComprovanteEtiqueta80"></span></div>
                                <div style="text-align:left;font-weight: bold;font-size:12px">Protocolo Nr: <span id="protocoloComprovanteEtiqueta80"></span></div>
                                <div style="text-align:left;font-weight: bold;font-size:12px"><b>Prontuário Nº: </b>:<span id="codProntuarioComprovanteEtiqueta80"></span></div>
                                <div style="margin-top:10px" class="d-flex justify-content-center" id="qrcodeComprovanteEtiqueta80"></div>

                            </div>

                        </div>

                    </div>



                    <div style="margin-top:30px; border-top-style: dotted;" class="row">

                    </div>
                    <div style="margin-top:10px;font-family: 'Arial';margin-top:20px;text-align:left;font-weight: bold;font-size:12px">
                        <div class="row">
                            <b>Prezado usuário, leia atentamente as orientações a seguir:</b>
                        </div>
                        <div class="row">
                            * Este é seu comprovante de marcação de consulta.
                        </div>

                        <div class="row">
                            * Compareça no dia da consulta 30 minutos antes.
                        </div>

                        <div class="row">
                            * Esta consulta só pode ser desmarcada até 24 horas antes. Para desmarcar utilize nossa plataforma online através do endereço <?php echo base_url() ?>, contate-nos através do telefone <?php echo session()->telefoneOrganizacao ?>
                        </div>

                        <div class="row">
                            * Evite faltas, compareça à consulta.
                        </div>
                        <div class="row">
                            * Evite bloqueio de marcações de consultas por motivo de faltas.
                        </div>

                        <div class="row">
                            * Evite atrasos.
                        </div>

                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" id="botaoImprimirComprovanteEtiqueta80">Imprimir</button>
                <button class="btn" data-dismiss="modal" aria-hidden="true">Fechar</button>
            </div>

        </div>
    </div>
</div>



<div style="position: absolute; height: 300mm" id="comprovanteExameEtiqueta80Modal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div style="width: 80mm" class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Comprovante</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">

                <div style="margin-left:10px" id="areaImpressaoComprovanteExameEtiqueta80">
                    <div style="width: 80mm important;height: 75mm important!;" class="row">
                        <div class="col-sm-12">

                            <div>
                                <center><img alt="" style="text-align:center;width:60px;height:60px;" src="<?php echo base_url() . "/imagens/organizacoes/" . session()->logo ?>"></center>
                            </div>
                            <div style="text-align:center;font-weight: bold">
                                <?php echo session()->descricaoOrganizacao; ?>



                            </div>

                            <div style="font-family: 'Arial';margin-top:20px;height: 80mm;">
                                <div style="text-align:left;font-weight: bold;font-size:12px">USUÁRIO: <span id="nomeCompletoComprovanteExameEtiqueta80"></span></div>
                                <div style="text-align:left;font-weight: bold;font-size:12px">Nº PLANO: <span id="CODPLANOComprovanteExameEtiqueta80"></span></div>
                                <div style="text-align:left;font-weight: bold;font-size:12px">EXAME: <span id="nomeExameComprovanteEtiqueta80"></span></div>
                                <div style="text-align:left;font-weight: bold;font-size:12px">DIA: <span id="dataInicioComprovanteExameEtiqueta80"></span></div>
                                <div style="text-align:left;font-weight: bold;font-size:12px">LOCAL <span id="localComprovanteExameEtiqueta80"></span></div>
                                <div style="text-align:left;font-weight: bold;font-size:12px">Protocolo Nr: <span id="protocoloComprovanteExameEtiqueta80"></span></div>
                                <div style="text-align:left;font-weight: bold;font-size:12px"><b>Prontuário Nº: </b>:<span id="codProntuarioComprovanteExameEtiqueta80"></span></div>
                                <div style="margin-top:10px" class="d-flex justify-content-center" id="qrcodeComprovanteExameEtiqueta80"></div>

                            </div>

                        </div>

                    </div>



                    <div style="margin-top:30px; border-top-style: dotted;" class="row">

                    </div>
                    <div style="margin-top:10px;font-family: 'Arial';margin-top:20px;text-align:left;font-weight: bold;font-size:12px">
                        <div class="row">
                            <b>Prezado usuário, leia atentamente as orientações a seguir:</b>
                        </div>
                        <div class="row">
                            * Este é seu comprovante de marcação do Exame.
                        </div>

                        <div class="row">
                            * Compareça no dia do Exame 30 minutos antes.
                        </div>

                        <div class="row">
                            * Este Exame só pode ser desmarcada até 24 horas antes. Para desmarcar utilize nossa plataforma online através do endereço <?php echo base_url() ?>, contate-nos através do telefone <?php echo session()->telefoneOrganizacao ?>
                        </div>

                        <div class="row">
                            * Evite faltas, compareça o Exame.
                        </div>
                        <div class="row">
                            * Evite bloqueio de marcações do Exame por motivo de faltas.
                        </div>

                        <div class="row">
                            * Evite atrasos.
                        </div>

                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" id="botaoImprimirComprovanteExameEtiqueta80">Imprimir</button>
                <button class="btn" data-dismiss="modal" aria-hidden="true">Fechar</button>
            </div>

        </div>
    </div>
</div>



<div style="position: absolute;height: 300mm" id="comprovanteEtiqueta58Modal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div style="width: 58mm" class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Comprovante</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">

                <div style="margin-left:10px" id="areaImpressaoComprovanteEtiqueta58">
                    <div style="width: 58mm important;height: 75mm important!;" class="row">
                        <div class="col-sm-12">

                            <div>
                                <center><img alt="" style="text-align:center;width:60px;height:60px;" src="<?php echo base_url() . "/imagens/organizacoes/" . session()->logo ?>"></center>
                            </div>
                            <div style="text-align:center;font-weight: bold">
                                <?php echo session()->descricaoOrganizacao; ?>



                            </div>

                            <div style="font-family: 'Arial';margin-top:20px;height: 90mm;">
                                <div style="text-align:left;font-weight: bold;font-size:12px">USUÁRIO: <span id="nomeCompletoComprovanteEtiqueta58"></span></div>
                                <div style="text-align:left;font-weight: bold;font-size:12px">Nº PLANO: <span id="CODPLANOComprovanteEtiqueta58"></span></div>
                                <div style="text-align:left;font-weight: bold;font-size:12px">ESPECIALISTA: <span id="nomeEspecialistaComprovanteEtiqueta58"></span></div>
                                <div style="text-align:left;font-weight: bold;font-size:12px">DIA: <span id="dataInicioComprovanteEtiqueta58"></span></div>
                                <div style="text-align:left;font-weight: bold;font-size:12px">LOCAL <span id="localComprovanteEtiqueta58"></span></div>
                                <div style="text-align:left;font-weight: bold;font-size:12px">Protocolo Nr: <span id="protocoloComprovanteEtiqueta58"></span></div>
                                <div style="text-align:left;font-weight: bold;font-size:12px"><b>Prontuário Nº: </b>:<span id="codProntuarioComprovanteEtiqueta58"></span></div>
                                <div style="margin-top:10px" class="d-flex justify-content-center" id="qrcodeComprovanteEtiqueta58"></div>

                            </div>

                        </div>

                    </div>



                    <div style="margin-top:10px; border-top-style: dotted;" class="row">

                    </div>
                    <div style="margin-left:10px;margin-top:10px;font-family: 'Arial';margin-top:20px;text-align:left;font-weight: bold;font-size:12px">
                        <div class="row">
                            <b>Prezado usuário, leia atentamente as orientações a seguir:</b>
                        </div>
                        <div class="row">
                            * Este é seu comprovante de marcação de consulta.
                        </div>

                        <div class="row">
                            * Compareça no dia da consulta 30 minutos antes.
                        </div>

                        <div class="row">
                            * Esta consulta só pode ser desmarcada até 24 horas antes. Para desmarcar utilize nossa plataforma online através do endereço <?php echo base_url() ?>, contate-nos através do telefone <?php echo session()->telefoneOrganizacao ?>
                        </div>

                        <div class="row">
                            * Evite faltas, compareça à consulta.
                        </div>
                        <div class="row">
                            * Evite bloqueio de marcações de consultas por motivo de faltas.
                        </div>

                        <div class="row">
                            * Evite atrasos.
                        </div>

                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" id="botaoImprimirComprovanteEtiqueta58">Imprimir</button>
                <button class="btn" data-dismiss="modal" aria-hidden="true">Fechar</button>
            </div>

        </div>
    </div>
</div>




<div style="position: absolute;height: 300mm" id="comprovanteExameEtiqueta58Modal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div style="width: 58mm" class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Comprovante Exame</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">

                <div style="margin-left:10px" id="areaImpressaoComprovanteExameEtiqueta58">
                    <div style="width: 58mm important;height: 75mm important!;" class="row">
                        <div class="col-sm-12">

                            <div>
                                <center><img alt="" style="text-align:center;width:60px;height:60px;" src="<?php echo base_url() . "/imagens/organizacoes/" . session()->logo ?>"></center>
                            </div>
                            <div style="text-align:center;font-weight: bold">
                                <?php echo session()->descricaoOrganizacao; ?>



                            </div>

                            <div style="font-family: 'Arial';margin-top:20px;height: 90mm;">
                                <div style="text-align:left;font-weight: bold;font-size:12px">USUÁRIO: <span id="nomeCompletoComprovanteExameEtiqueta58"></span></div>
                                <div style="text-align:left;font-weight: bold;font-size:12px">Nº PLANO: <span id="CODPLANOComprovanteExameEtiqueta58"></span></div>
                                <div style="text-align:left;font-weight: bold;font-size:12px">EXAME: <span id="nomeExameComprovanteEtiqueta58"></span></div>
                                <div style="text-align:left;font-weight: bold;font-size:12px">DIA: <span id="dataInicioComprovanteExameEtiqueta58"></span></div>
                                <div style="text-align:left;font-weight: bold;font-size:12px">LOCAL <span id="localComprovanteExameEtiqueta58"></span></div>
                                <div style="text-align:left;font-weight: bold;font-size:12px">Protocolo Nr: <span id="protocoloComprovanteExameEtiqueta58"></span></div>
                                <div style="text-align:left;font-weight: bold;font-size:12px"><b>Prontuário Nº: </b>:<span id="codProntuarioComprovanteExameEtiqueta58"></span></div>
                                <div style="margin-top:10px" class="d-flex justify-content-center" id="qrcodeComprovanteExameEtiqueta58"></div>

                            </div>

                        </div>

                    </div>



                    <div style="margin-top:10px; border-top-style: dotted;" class="row">

                    </div>
                    <div style="margin-left:10px;margin-top:10px;font-family: 'Arial';margin-top:20px;text-align:left;font-weight: bold;font-size:12px">
                        <div class="row">
                            <b>Prezado usuário, leia atentamente as orientações a seguir:</b>
                        </div>
                        <div class="row">
                            * Este é seu comprovante de marcação do Exame.
                        </div>

                        <div class="row">
                            * Compareça no dia do Exame 30 minutos antes.
                        </div>

                        <div class="row">
                            * Este Exame só pode ser desmarcada até 24 horas antes. Para desmarcar utilize nossa plataforma online através do endereço <?php echo base_url() ?>, contate-nos através do telefone <?php echo session()->telefoneOrganizacao ?>
                        </div>

                        <div class="row">
                            * Evite faltas, compareça ao Exame.
                        </div>
                        <div class="row">
                            * Evite bloqueio de marcações do Exame por motivo de faltas.
                        </div>

                        <div class="row">
                            * Evite atrasos.
                        </div>

                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" id="botaoImprimirComprovanteExameEtiqueta58">Imprimir</button>
                <button class="btn" data-dismiss="modal" aria-hidden="true">Fechar</button>
            </div>

        </div>
    </div>
</div>


<div id="agendamentosReservasAddModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">ENTRAR NA LISTA DE RESERVAS</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">

                <form id="agendamentosReservasAddForm" class="pl-3 pr-3">
                    <div class="row">
                        <input type="hidden" id="<?php echo csrf_token() ?>agendamentosReservasAddForm" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">

                        <input type="hidden" id="codPacienteReserva" name="codPaciente" class="form-control" maxlength="11" required>
                        <input type="hidden" id="codEspecialidadeReserva" name="codEspecialidade" class="form-control" maxlength="11" required>

                        <input type="hidden" id="codAgendamentoReserva" name="codAgendamentoReserva" class="form-control" placeholder="CodAgendamentoReserva" maxlength="11" required>
                    </div>


                    <div class="row">


                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="codEspecialista"> Especialista: <span class="text-danger">*</span> </label>
                                <span id="codEspecialistaReserva"></span>
                            </div>
                        </div>


                    </div>




                    <div class="row">

                        <div class="col-md-8">
                            <div class="card card-secondary">

                                <div class="card-header">
                                    <h3 class="card-title">PREFERÊNCIA DE DIA</h3>
                                    <div class="card-tools">
                                        <button type="button" class="btn btn-tool" data-card-widget="maximize"><i class="fas fa-expand"></i>
                                        </button>
                                    </div>
                                </div>
                                <div class="card-body">

                                    <div class="row">
                                        <div class="col-md-1">
                                            <div class="form-group">
                                                <div class="row">
                                                    Segunda
                                                </div>
                                                <div class="row">
                                                    <div class="icheck-primary d-inline center">
                                                        <style>
                                                            input[type=checkbox] {
                                                                transform: scale(1.8);
                                                                margin-left: 10px
                                                            }
                                                        </style>
                                                        <input id="segundaAdd" name="segunda" type="checkbox">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-1">
                                            <div class="form-group">
                                                <div class="row">
                                                    Terça
                                                </div>
                                                <div class="row">
                                                    <div class="icheck-primary d-inline center">
                                                        <style>
                                                            input[type=checkbox] {
                                                                transform: scale(1.8);
                                                                margin-left: 10px
                                                            }
                                                        </style>
                                                        <input id="tercaAdd" name="terca" type="checkbox">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-1">
                                            <div class="form-group">
                                                <div class="row">
                                                    Quarta
                                                </div>
                                                <div class="row">
                                                    <div class="icheck-primary d-inline center">
                                                        <style>
                                                            input[type=checkbox] {
                                                                transform: scale(1.8);
                                                                margin-left: 10px
                                                            }
                                                        </style>
                                                        <input id="quartaAdd" name="quarta" type="checkbox">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-1">
                                            <div class="form-group">
                                                <div class="row">
                                                    Quinta
                                                </div>
                                                <div class="row">
                                                    <div class="icheck-primary d-inline center">
                                                        <style>
                                                            input[type=checkbox] {
                                                                transform: scale(1.8);
                                                                margin-left: 10px
                                                            }
                                                        </style>
                                                        <input id="quintaAdd" name="quinta" type="checkbox">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-1">
                                            <div class="form-group">
                                                <div class="row">
                                                    Sexta
                                                </div>
                                                <div class="row">
                                                    <div class="icheck-primary d-inline center">
                                                        <style>
                                                            input[type=checkbox] {
                                                                transform: scale(1.8);
                                                                margin-left: 10px
                                                            }
                                                        </style>
                                                        <input id="sextaAdd" name="sexta" type="checkbox">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div style="display: none;" class="col-md-1">
                                            <div class="form-group">
                                                <div class="row">
                                                    Sábado
                                                </div>
                                                <div class="row">
                                                    <div class="icheck-primary d-inline center">
                                                        <style>
                                                            input[type=checkbox] {
                                                                transform: scale(1.8);
                                                                margin-left: 10px
                                                            }
                                                        </style>
                                                        <input id="sabadoAdd" name="sabado" type="checkbox">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div style="display: none;" class="col-md-1">
                                            <div class="form-group">
                                                <div class="row">
                                                    Domingo
                                                </div>
                                                <div class="row">
                                                    <div class="icheck-primary d-inline center">
                                                        <style>
                                                            input[type=checkbox] {
                                                                transform: scale(1.8);
                                                                margin-left: 10px
                                                            }
                                                        </style>
                                                        <input id="domingoAdd" name="domingo" type="checkbox">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>


                        <div class="col-md-4">
                            <div class="card card-secondary">

                                <div class="card-header">
                                    <h3 class="card-title">PREFERÊNCIA DE TURNO</h3>

                                    <div class="card-tools">
                                        <button type="button" class="btn btn-tool" data-card-widget="maximize"><i class="fas fa-expand"></i>
                                        </button>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <label for="preferenciaHora"> Preferência Hora: <span class="text-danger">*</span> </label>

                                            <select id="preferenciaHora" name="preferenciaHora" class="custom-select">
                                                <option value="0">QUALQUER HORA</option>
                                                <option value="1">MANHA</option>
                                                <option value="2">TARDE</option>
                                            </select>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>


                    </div>


                    <div class="form-group text-center">
                        <div class="btn-group">
                            <button type="button" onclick="salvarReserva()" class="btn btn-primary" data-toggle="tooltip" data-placement="top" title="Adicionar" id="agendamentosReservasAddForm-btn">Salvar Reserva</button>
                            <button type="button" class="btn btn-danger" data-toggle="tooltip" data-placement="top" title="Fechar" data-dismiss="modal">Fechar</button>
                        </div>
                    </div>
                </form>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>



<div id="agendamentosReservasAgendamentosExamesAddModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">ENTRAR NA LISTA DE RESERVAS</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">

                <form id="agendamentosReservasAgendamentosExamesAddForm" class="pl-3 pr-3">
                    <div class="row">
                        <input type="hidden" id="<?php echo csrf_token() ?>agendamentosReservasAgendamentosExamesAddForm" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">

                        <input type="hidden" id="codPacienteReservaAgendamentosExames" name="codPaciente" class="form-control" maxlength="11" required>
                        <input type="hidden" id="codEspecialidadeReservaAgendamentosExames" name="codEspecialidade" class="form-control" maxlength="11" required>

                        <input type="hidden" id="codAgendamentoReservaAgendamentosExames" name="codAgendamentoReserva" class="form-control" placeholder="CodAgendamentoReserva" maxlength="11" required>
                    </div>


                    <div class="row">


                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="codEspecialistaAgendamentosExames"> Especialista: <span class="text-danger">*</span> </label>
                                <span id="codEspecialistaReservaAgendamentosExames"></span>
                            </div>
                        </div>


                    </div>




                    <div class="row">

                        <div class="col-md-8">
                            <div class="card card-secondary">

                                <div class="card-header">
                                    <h3 class="card-title">PREFERÊNCIA DE DIA</h3>
                                    <div class="card-tools">
                                        <button type="button" class="btn btn-tool" data-card-widget="maximize"><i class="fas fa-expand"></i>
                                        </button>
                                    </div>
                                </div>
                                <div class="card-body">

                                    <div class="row">
                                        <div class="col-md-1">
                                            <div class="form-group">
                                                <div class="row">
                                                    Segunda
                                                </div>
                                                <div class="row">
                                                    <div class="icheck-primary d-inline center">
                                                        <style>
                                                            input[type=checkbox] {
                                                                transform: scale(1.8);
                                                                margin-left: 10px
                                                            }
                                                        </style>
                                                        <input id="segundaAgendamentosExamesAdd" name="segunda" type="checkbox">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-1">
                                            <div class="form-group">
                                                <div class="row">
                                                    Terça
                                                </div>
                                                <div class="row">
                                                    <div class="icheck-primary d-inline center">
                                                        <style>
                                                            input[type=checkbox] {
                                                                transform: scale(1.8);
                                                                margin-left: 10px
                                                            }
                                                        </style>
                                                        <input id="tercaAgendamentosExamesAdd" name="terca" type="checkbox">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-1">
                                            <div class="form-group">
                                                <div class="row">
                                                    Quarta
                                                </div>
                                                <div class="row">
                                                    <div class="icheck-primary d-inline center">
                                                        <style>
                                                            input[type=checkbox] {
                                                                transform: scale(1.8);
                                                                margin-left: 10px
                                                            }
                                                        </style>
                                                        <input id="quartaAgendamentosExamesAdd" name="quarta" type="checkbox">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-1">
                                            <div class="form-group">
                                                <div class="row">
                                                    Quinta
                                                </div>
                                                <div class="row">
                                                    <div class="icheck-primary d-inline center">
                                                        <style>
                                                            input[type=checkbox] {
                                                                transform: scale(1.8);
                                                                margin-left: 10px
                                                            }
                                                        </style>
                                                        <input id="quintaAgendamentosExamesAdd" name="quinta" type="checkbox">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-1">
                                            <div class="form-group">
                                                <div class="row">
                                                    Sexta
                                                </div>
                                                <div class="row">
                                                    <div class="icheck-primary d-inline center">
                                                        <style>
                                                            input[type=checkbox] {
                                                                transform: scale(1.8);
                                                                margin-left: 10px
                                                            }
                                                        </style>
                                                        <input id="sextaAgendamentosExamesAdd" name="sexta" type="checkbox">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div style="display: none;" class="col-md-1">
                                            <div class="form-group">
                                                <div class="row">
                                                    Sábado
                                                </div>
                                                <div class="row">
                                                    <div class="icheck-primary d-inline center">
                                                        <style>
                                                            input[type=checkbox] {
                                                                transform: scale(1.8);
                                                                margin-left: 10px
                                                            }
                                                        </style>
                                                        <input id="sabadoAgendamentosExamesAdd" name="sabado" type="checkbox">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div style="display: none;" class="col-md-1">
                                            <div class="form-group">
                                                <div class="row">
                                                    Domingo
                                                </div>
                                                <div class="row">
                                                    <div class="icheck-primary d-inline center">
                                                        <style>
                                                            input[type=checkbox] {
                                                                transform: scale(1.8);
                                                                margin-left: 10px
                                                            }
                                                        </style>
                                                        <input id="domingoAgendamentosExamesAdd" name="domingo" type="checkbox">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>


                        <div class="col-md-4">
                            <div class="card card-secondary">

                                <div class="card-header">
                                    <h3 class="card-title">PREFERÊNCIA DE TURNO</h3>

                                    <div class="card-tools">
                                        <button type="button" class="btn btn-tool" data-card-widget="maximize"><i class="fas fa-expand"></i>
                                        </button>
                                    </div>
                                </div>
                                <div class="card-body">
                                    <div class="col-md-12">
                                        <div class="form-group">
                                            <label for="preferenciaHoraAgendamentosExames"> Preferência Hora: <span class="text-danger">*</span> </label>

                                            <select id="preferenciaHoraAgendamentosExames" name="preferenciaHora" class="custom-select">
                                                <option value="0">QUALQUER HORA</option>
                                                <option value="1">MANHA</option>
                                                <option value="2">TARDE</option>
                                            </select>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>


                    </div>


                    <div class="form-group text-center">
                        <div class="btn-group">
                            <button type="button" onclick="salvarReservaAgendamentosExames()" class="btn btn-primary" data-toggle="tooltip" data-placement="top" title="Adicionar">Salvar Reserva</button>
                            <button type="button" class="btn btn-danger" data-toggle="tooltip" data-placement="top" title="Fechar" data-dismiss="modal">Fechar</button>
                        </div>
                    </div>
                </form>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>

<div id="atendimentoDiagnosticoAddModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Adicionar Diagnósstico</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <form id="atendimentoDiagnosticoAddForm" class="pl-3 pr-3">
                    <input type="hidden" id="<?php echo csrf_token() ?>atendimentoDiagnosticoAddForm" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">

                    <div class="row">
                        <input type="hidden" id="codAtendimentoDiagnosticoAdd" name="codAtendimento" class="form-control" required>
                    </div>
                    <div class="row">

                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="cidPrincipal"> CID: <span class="text-danger">*</span> </label>
                                <select id="cidPrincipal" name="codCid" class="select2" required>
                                    <option></option>
                                </select>
                            </div>
                        </div>

                    </div>

                    <div class="row">

                        <div class="form-group clearfix">
                            <div class="row">
                                <div class="icheck-primary d-inline">
                                    <input type="radio" id="diagnosticoPrincipal" name="tipoDiagnostico" value=1>
                                    <label for="diagnosticoPrincipal">Diagnóstico Principal
                                    </label>
                                </div>
                            </div>
                            <div class="row">
                                <div class="icheck-primary d-inline">
                                    <input type="radio" id="diagnosticoSecundario" name="tipoDiagnostico" value=2>
                                    <label for="diagnosticoSecundario">Diagnóstico Secundário
                                    </label>
                                </div>
                            </div>
                        </div>

                    </div>

                    <div class="form-group text-center">
                        <div class="btn-group">
                            <button type="submit" class="btn btn-primary" data-toggle="tooltip" data-placement="top" title="Adicionar" id="atendimentoDiagnosticoAddForm-btn">Adicionar</button>
                            <button type="button" class="btn btn-danger" data-toggle="tooltip" data-placement="top" title="Fechar" data-dismiss="modal">Fechar</button>
                        </div>
                    </div>
                </form>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>


<div id="profissionaisSaudeModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Profissionais de Saúde</h4>

                <div class="d-lg-none .d-xl-block">
                    <button style="margin-right: 30px;" type="button" class="btn btn-danger" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">Fechar</span>
                    </button>
                </div>

                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <style>
                    .borda {
                        background: -webkit-linear-gradient(left top, #fffe01 0%, #28a745 100%);
                        border-radius: 1000px;
                        padding: 6px;
                        width: 200px;
                        height: 200px;

                    }

                    .callout {
                        height: 250px !important;

                    }

                    .callout.callout-info {
                        border-left-color: green
                    }
                </style>

                <div id="listaProfissionaisSaude" class="row"></div>

            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>




<div id="salaAtendimentoModel" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Definição da Sala de atendimento</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <div style="margin-bottom:10px;font-size:20px">
                    Para iniciar a chamada dos pacientes é necessário definir o local de atendimento


                    <form id="salaAtendimentoForm" class="pl-3 pr-3">
                        <input type="hidden" id="<?php echo csrf_token() ?>salaAtendimentoForm" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">

                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="codSalaAtendimentoAdd"> Departamento: <span class="text-danger">*</span> </label>
                                    <select id="codSalaAtendimentoAdd" name="codDepartamento" class="custom-select" required>
                                    </select>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label for="codLocalAtendimento"> Local: <span class="text-danger">*</span> </label>
                                    <select id="codLocalAtendimentoAdd" name="codLocalAtendimento" class="custom-select" required>
                                    </select>
                                </div>
                            </div>
                        </div>




                        <div>
                            <button type="button" class="btn btn-primary" onclick="gravarSala()" title="Gravar Sala"> <i class="fas fa-filter"></i>Gravar Sala</button>
                        </div>



                    </form>




                </div>

            </div>


        </div>
    </div><!-- /.modal-content -->
</div>







<div id="classificacaoRiscoModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Classificação de Risco</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">


                <div style="background:#ececec" class="card">
                    <div style="font-size:20px;font-weight: bold;" class="d-flex justify-content-center">Protocolo de Risco aos Pacientes</div>


                    <div class="row d-flex justify-content-center">
                        <div class="col-md-2">
                            <button class="btn btn-ligth" href="#" data-toggle="tooltip" title="Sem risco imediato de agravo à saúde. Atendimento em até 240 minutos">
                                <div><i style="color:#3498db5e" class="fas fa-square zoom fa-1x"></i> Não Urgente</div>
                            </button>
                        </div>
                        <div class="col-md-2">
                            <button class="btn btn-ligth" href="#" data-toggle="tooltip" title="Sem risco imediato de agravo à saúde Atendimento em até 160 minutos">
                                <div><i style="color:#c9ffad" class="fas fa-square zoom fa-1x"></i> Pouco Urgente</div>
                            </button>
                        </div>
                        <div class="col-md-2">
                            <button class="btn btn-ligth" href="#" data-toggle="tooltip" title="Sem risco imediato de agravo à saúde Atendimento em até 60 minutos">
                                <div><i style="color:#ffc1079e" class="fas fa-square zoom fa-1x"></i> Urgente</div>
                            </button>
                        </div>
                        <div class="col-md-2">
                            <button class="btn btn-ligth" class="btn btn-ligth" href="#" data-toggle="tooltip" title="Sem risco imediato de agravo à saúde Atendimento em até 10 minutos">
                                <div><i style="color:#fd7e14" class="fas fa-square zoom fa-1x"></i> Muito Urgente</div>
                            </button>
                        </div>
                        <div class="col-md-2">
                            <button class="btn btn-ligth" href="#" data-toggle="tooltip" title="Sem risco imediato de agravo à saúde Atendimento imediato">
                                <div><i style="color:#ff1800" class="fas fa-square zoom fa-1x"></i> Emergência</div>
                            </button>
                        </div>
                    </div>
                </div>


                <div class="row d-flex justify-content-center">
                    <div class="col-md-2">
                        <button onclick="gravaClassificacaoRisco(1)" style="background:#3498dbd1;color:#fff;width:140px" class="btn" data-toggle="tooltip" title="Sem risco imediato de agravo à saúde. Atendimento em até 240 minutos">
                            Não Urgente
                        </button>
                    </div>
                    <div class="col-md-2">
                        <button onclick="gravaClassificacaoRisco(2)" style="background:#c9ffad;color:#000;width:140px" class="btn" data-toggle="tooltip" title="Sem risco imediato de agravo à saúde Atendimento em até 160 minutos">
                            Pouco Urgente
                        </button>
                    </div>
                    <div class="col-md-2">
                        <button onclick="gravaClassificacaoRisco(3)" style="background:#ffc1079e;color:#000;width:140px" class="btn" data-toggle="tooltip" title="Sem risco imediato de agravo à saúde Atendimento em até 60 minutos">
                            Urgente
                        </button>
                    </div>
                    <div class="col-md-2">
                        <button onclick="gravaClassificacaoRisco(4)" style="background:#fd7e14;color:#fff;width:140px" class="btn" data-toggle="tooltip" title="Sem risco imediato de agravo à saúde Atendimento em até 10 minutos">
                            Muito Urgente
                        </button>
                    </div>
                    <div class="col-md-2">
                        <button onclick="gravaClassificacaoRisco(5)" style="background:#ff1800;color:#fff;width:140px" class="btn" data-toggle="tooltip" title="Sem risco imediato de agravo à saúde Atendimento imediato">
                            Emergência
                        </button>
                    </div>
                </div>


            </div>


        </div>
    </div><!-- /.modal-content -->
</div>



<div id="prescricoesKitAddModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Adicionar Kits da Prescrição</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <form autocomplete="off" id="prescricoesKitAddForm" class="pl-3 pr-3">
                    <input type="hidden" id="<?php echo csrf_token() ?>prescricoesKitAddForm" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">

                    <div class="row">
                        <input type="hidden" id="codAtendimentoPrescricaoKitAdd" name="codAtendimentoPrescricao" class="form-control" placeholder="Código" maxlength="11" required>
                        <input type="hidden" id="codPrescricaoKit" name="codPrescricaoKit" class="form-control" placeholder="CodPrescricaoKit" maxlength="11" required>
                    </div>
                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="codKitAdd"> Kit: <span class="text-danger">*</span> </label>
                                <select id="codKitAdd" name="codKit" class="custom-select" required>
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="qtde"> Qtde: <span class="text-danger">*</span> </label>
                                <input autocomplete="off" type="number" id="qtde" name="qtde" class="form-control" placeholder="Qtde" required>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="observacaoKit">Observação: </label>
                                <textarea cols="40" rows="5" id="observacaoKit" name="observacao" class="form-control" placeholder="Observacao"></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="form-group text-center">
                        <div class="btn-group">
                            <button type="submit" class="btn btn-primary" data-toggle="tooltip" data-placement="top" title="Adicionar" id="prescricoesKitAddForm-btn">Adicionar</button>
                            <button type="button" class="btn btn-danger" data-toggle="tooltip" data-placement="top" title="Fechar" data-dismiss="modal">Fechar</button>
                        </div>
                    </div>
                </form>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>


<div id="prescricoesMaterialAddModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Adicionar Materials da Prescrição</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <form id="prescricoesMaterialAddForm" class="pl-3 pr-3">
                    <input type="hidden" id="<?php echo csrf_token() ?>prescricoesMaterialAddForm" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">

                    <div class="row">
                        <input type="hidden" id="codAtendimentoPrescricaoMaterialAdd" name="codAtendimentoPrescricao" class="form-control" placeholder="Código" maxlength="11" required>
                        <input type="hidden" id="codPrescricaoMaterial" name="codPrescricaoMaterial" class="form-control" placeholder="CodPrescricaoMaterial" maxlength="11" required>
                    </div>
                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="codMaterialAdd"> Material: <span class="text-danger">*</span> </label>
                                <select id="codMaterialAdd" name="codMaterial" class="custom-select" required>
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="qtde"> Qtde: <span class="text-danger">*</span> </label>
                                <input autocomplete="off" type="number" id="qtde" name="qtde" class="form-control" placeholder="Qtde" required>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="observacaoMaterial">Observação: </label>
                                <textarea cols="40" rows="5" id="observacaoMaterial" name="observacao" class="form-control" placeholder="Observacao"></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="form-group text-center">
                        <div class="btn-group">
                            <button type="submit" class="btn btn-primary" data-toggle="tooltip" data-placement="top" title="Adicionar" id="prescricoesMaterialAddForm-btn">Adicionar</button>
                            <button type="button" class="btn btn-danger" data-toggle="tooltip" data-placement="top" title="Fechar" data-dismiss="modal">Fechar</button>
                        </div>
                    </div>
                </form>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>



<div id="prescricoesOutrasAddModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Adicionar outras Prescrição</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <form id="prescricoesOutrasAddForm" class="pl-3 pr-3">
                    <input type="hidden" id="<?php echo csrf_token() ?>prescricoesOutrasAddForm" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">

                    <div class="row">
                        <input type="hidden" id="codAtendimentoPrescricaoOutrasAdd" name="codAtendimentoPrescricao" class="form-control" placeholder="Código" maxlength="11" required>
                        <input type="hidden" id="codPrescricaoOutrasAdd" name="codPrescricaoOutra" class="form-control" placeholder="CodPrescricaoOutras" maxlength="11" required>
                    </div>
                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="codOutrasAdd"> Tipo Outra Prescrição: <span class="text-danger">*</span> </label>
                                <select id="codOutrasAdd" name="codTipoOutraPrescricao" class="custom-select" required>
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="row">

                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="descricaoOutrasAdd"> Descrição: <span class="text-danger">*</span> </label>
                                <textarea id="descricaoOutrasAdd" name="descricao" class="form-control" placeholder="Descrição"></textarea>

                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="aprazaOutras">Apraza: </label>
                                <textarea id="aprazaOutrasAdd" name="apraza" class="form-control" placeholder="Apraza"></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="form-group text-center">
                        <div class="btn-group">
                            <button type="submit" class="btn btn-primary" data-toggle="tooltip" data-placement="top" title="Adicionar" id="prescricoesOutrasAddForm-btn">Adicionar</button>
                            <button type="button" class="btn btn-danger" data-toggle="tooltip" data-placement="top" title="Fechar" data-dismiss="modal">Fechar</button>
                        </div>
                    </div>
                </form>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>



<div id="prescricoesCuidadosAddModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Adicionar outras Prescrição</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <form id="prescricoesCuidadosAddForm" class="pl-3 pr-3">
                    <input type="hidden" id="<?php echo csrf_token() ?>prescricoesCuidadosAddForm" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">

                    <div class="row">
                        <input type="hidden" id="codAtendimentoPrescricaoCuidadosAdd" name="codAtendimentoPrescricao" class="form-control" placeholder="Código" maxlength="11" required>
                        <input type="hidden" id="codPrescricaoCuidadosAdd" name="codPrescricaoCuidado" class="form-control" placeholder="CodPrescricaoCuidados" maxlength="11" required>
                    </div>
                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="codTipoCuidadoPrescricaosAdd"> Tipo Cuidado: <span class="text-danger">*</span> </label>
                                <select id="codTipoCuidadoPrescricaosAdd" name="codTipoCuidadoPrescricao" class="custom-select" required>
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="row">

                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="descricaoCuidadosAdd"> Observações/Recomendações: <span class="text-danger">*</span> </label>
                                <textarea cols="40" rows="5" id="descricaoCuidadosAdd" name="descricao" class="form-control" placeholder="Descrição"></textarea>

                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="aprazaCuidados">Apraza: </label>
                                <textarea cols="40" rows="5" id="aprazaCuidadosAdd" name="apraza" class="form-control" placeholder="Apraza"></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="form-group text-center">
                        <div class="btn-group">
                            <button type="submit" class="btn btn-primary" data-toggle="tooltip" data-placement="top" title="Adicionar" id="prescricoesCuidadosAddForm-btn">Adicionar</button>
                            <button type="button" class="btn btn-danger" data-toggle="tooltip" data-placement="top" title="Fechar" data-dismiss="modal">Fechar</button>
                        </div>
                    </div>
                </form>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>


<div id="prescricoesOutrasEditModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Editar outras Prescrição</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <form id="prescricoesOutrasEditForm" class="pl-3 pr-3">
                    <input type="hidden" id="<?php echo csrf_token() ?>prescricoesOutrasEditForm" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">

                    <div class="row">
                        <input type="hidden" id="codAtendimentoPrescricaoOutrasEdit" name="codAtendimentoPrescricao" class="form-control" placeholder="Código" maxlength="11" required>
                        <input type="hidden" id="codPrescricaoOutrasEdit" name="codPrescricaoOutra" class="form-control" placeholder="CodPrescricaoOutras" maxlength="11" required>
                    </div>
                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="codOutrasEdit"> Tipo Outra Prescrição: <span class="text-danger">*</span> </label>
                                <select id="codOutrasEdit" name="codTipoOutraPrescricao" class="custom-select" required>
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="row">

                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="descricaoOutrasEdit"> Descrição: <span class="text-danger">*</span> </label>
                                <textarea cols="40" rows="5" id="descricaoOutrasEdit" name="descricao" class="form-control" placeholder="Descrição"></textarea>

                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="aprazaOutrasEdit">Apraza: </label>
                                <textarea cols="40" rows="5" id="aprazaOutrasEdit" name="apraza" class="form-control" placeholder="Apraza"></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="form-group text-center">
                        <div class="btn-group">
                            <button type="submit" class="btn btn-primary" data-toggle="tooltip" data-placement="top" title="Adicionar" id="prescricoesOutrasEditForm-btn">Salvar</button>
                            <button type="button" class="btn btn-danger" data-toggle="tooltip" data-placement="top" title="Fechar" data-dismiss="modal">Fechar</button>
                        </div>
                    </div>
                </form>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>





<div id="prescricoesCuidadosEditModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Editar outras Prescrição</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <form id="prescricoesCuidadosEditForm" class="pl-3 pr-3">
                    <input type="hidden" id="<?php echo csrf_token() ?>prescricoesCuidadosEditForm" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">

                    <div class="row">
                        <input type="hidden" id="codAtendimentoPrescricaoCuidadosEdit" name="codAtendimentoPrescricao" class="form-control" placeholder="Código" maxlength="11" required>
                        <input type="hidden" id="codPrescricaoCuidadosEdit" name="codPrescricaoCuidado" class="form-control" placeholder="CodPrescricaoCuidados" maxlength="11" required>
                    </div>
                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="codCuidadosEdit"> Tipo Cuidado Prescrição: <span class="text-danger">*</span> </label>
                                <select id="codCuidadosEdit" name="codTipoCuidadoPrescricao" class="custom-select" required>
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="row">

                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="descricaoCuidadosEdit"> Descrição: <span class="text-danger">*</span> </label>
                                <textarea cols="40" rows="5" id="descricaoCuidadosEdit" name="descricao" class="form-control" placeholder="Descrição"></textarea>

                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="aprazaCuidadosEdit">Apraza: </label>
                                <textarea cols="40" rows="5" id="aprazaCuidadosEdit" name="apraza" class="form-control" placeholder="Apraza"></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="form-group text-center">
                        <div class="btn-group">
                            <button type="submit" class="btn btn-primary" data-toggle="tooltip" data-placement="top" title="Adicionar" id="prescricoesCuidadosEditForm-btn">Salvar</button>
                            <button type="button" class="btn btn-danger" data-toggle="tooltip" data-placement="top" title="Fechar" data-dismiss="modal">Fechar</button>
                        </div>
                    </div>
                </form>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>




<div id="prescricoesMaterialEditModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Editar Materials da Prescrição</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <form id="prescricoesMaterialEditForm" class="pl-3 pr-3">
                    <input type="hidden" id="<?php echo csrf_token() ?>prescricoesMaterialEditForm" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">

                    <div class="row">
                        <input type="hidden" id="codAtendimentoPrescricaoMaterialEdit" name="codAtendimentoPrescricao" class="form-control" placeholder="Código" maxlength="11" required>
                        <input type="hidden" id="codPrescricaoMaterialEdit" name="codPrescricaoMaterial" class="form-control" placeholder="CodPrescricaoMaterial" maxlength="11" required>
                    </div>
                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="codMaterialEdit"> Material: <span class="text-danger">*</span> </label>
                                <select id="codMaterialEdit" name="codMaterial" class="custom-select" required>
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="qtdeEdit"> Qtde: <span class="text-danger">*</span> </label>
                                <input autocomplete="off" type="number" id="qtdeEdit" name="qtde" class="form-control" placeholder="Qtde" required>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="observacaoMaterialEdit">Observação: </label>
                                <textarea cols="40" rows="5" id="observacaoMaterialEdit" name="observacao" class="form-control" placeholder="Observacao"></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="form-group text-center">
                        <div class="btn-group">
                            <button type="submit" class="btn btn-primary" data-toggle="tooltip" data-placement="top" title="Adicionar" id="prescricoesMaterialAddForm-btn">Salvar</button>
                            <button type="button" class="btn btn-danger" data-toggle="tooltip" data-placement="top" title="Fechar" data-dismiss="modal">Fechar</button>
                        </div>
                    </div>
                </form>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>


<div id="prescricaoMedicamentosAddModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Adicionar Prescrição de Medicamentos</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <form autocomplete="off" id="prescricaoMedicamentosAddForm" class="pl-3 pr-3">
                    <input type="hidden" id="<?php echo csrf_token() ?>prescricaoMedicamentosAddForm" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">

                    <div class="row">
                        <input type="hidden" id="codAtendimentoPrescricaoMedicamentoAdd" name="codAtendimentoPrescricao" class="form-control" placeholder="Código" maxlength="11" required>
                        <input type="hidden" id="codPrescricaoMedicamento" name="codPrescricaoMedicamento" class="form-control" placeholder="Código" maxlength="11" required>
                        <input type="hidden" id="codAtendimentoMedicamentoAdd" name="codAtendimento" class="form-control" placeholder="Código" maxlength="11" required>
                    </div>
                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="codMedicamentoPrescritoAdd"> Item: <span class="text-danger">*</span> </label>
                                <select id="codMedicamentoPrescritoAdd" name="codMedicamento" class="custom-select" required>
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="qtde"> Qtde: <span class="text-danger">*</span> </label>
                                <input autocomplete="off" type="number" id="qtdeAdd" name="qtde" class="form-control" placeholder="Qtde" required>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="und"> Und: <span class="text-danger">*</span> </label>
                                <select id="undPrescricaoAdd" name="und" class="custom-select" required>
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="via"> Via: <span class="text-danger">*</span> </label>
                                <select id="viaPrescricaoAdd" name="via" class="custom-select" required>
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="row">

                        <div class="col-md-1">
                            <div class="form-group">
                                <label for="freq"> Freq: <span class="text-danger">*</span> </label>
                                <input autocomplete="off" type="text" id="freqPrescricaoAdd" name="freq" class="form-control" placeholder="Freq" maxlength="2" number="true" required>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="perPrescricaoAdd"> Periodo: <span class="text-danger">*</span> </label>
                                <select id="perPrescricaoAdd" name="per" class="custom-select" required>
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="dias"> Dias: <span class="text-danger">*</span> </label>
                                <input autocomplete="off" type="text" id="diasPrescricaoAdd" name="dias" class="form-control" placeholder="Dias" maxlength="3" number="true" required>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="horaIni"> HoraIni: </label>
                                <input autocomplete="off" type="time" id="horaIniPrescricaoAdd" name="horaIni" class="form-control" placeholder="HoraIni" maxlength="10">
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="aplicarAgoraPrescricaoAdd"> Agora: <span class="text-danger">*</span> </label>
                                <select id="aplicarAgoraPrescricaoAdd" name="agora" class="custom-select" required>
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="risco"> Risco: <span class="text-danger">*</span> </label>
                                <select id="riscoPrescricaoAdd" name="risco" class="custom-select" required>
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="total"> Total: <span class="text-danger">*</span> </label>
                                <input autocomplete="off" type="number" id="total" name="total" class="form-control" placeholder="Total" required>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="obsPrescricaoAdd"> Observação:</span> </label>
                                <textarea cols="40" rows="5" id="obsPrescricaoAdd" name="obs" class="form-control" placeholder="Obs"></textarea>
                            </div>
                        </div>

                    </div>
                    <div class="form-group text-center">
                        <div class="btn-group">
                            <button type="submit" class="btn btn-primary" data-toggle="tooltip" data-placement="top" title="Adicionar">Adicionar</button>
                            <button type="button" class="btn btn-danger" data-toggle="tooltip" data-placement="top" title="Fechar" data-dismiss="modal">Fechar</button>
                        </div>
                    </div>
                </form>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>


<div id="prescricaoDietasAddModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Adicionar Prescrição de Dietas</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <form autocomplete="off" id="prescricaoDietasAddForm" class="pl-3 pr-3">
                    <input type="hidden" id="<?php echo csrf_token() ?>prescricaoDietasAddForm" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">

                    <div class="row">
                        <input type="hidden" id="codAtendimentoPrescricaoDietaAdd" name="codAtendimentoPrescricao" class="form-control" placeholder="Código" maxlength="11" required>
                        <input type="hidden" id="codPrescricaoDieta" name="codPrescricaoMedicamento" class="form-control" placeholder="Código" maxlength="11" required>
                        <input type="hidden" id="codAtendimentoDietaAdd" name="codAtendimento" class="form-control" placeholder="Código" maxlength="11" required>
                    </div>
                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="codDietaPrescritoAdd"> Item: <span class="text-danger">*</span> </label>
                                <select id="codDietaPrescritoAdd" name="codMedicamento" class="custom-select" required>
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="qtde"> Qtde: <span class="text-danger">*</span> </label>
                                <input autocomplete="off" type="number" id="qtdeAdd" name="qtde" class="form-control" placeholder="Qtde" required>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="und"> Und: <span class="text-danger">*</span> </label>
                                <select id="undPrescricaoAdd" name="und" class="custom-select" required>
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="via"> Via: <span class="text-danger">*</span> </label>
                                <select id="viaPrescricaoAdd" name="via" class="custom-select" required>
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="row">

                        <div class="col-md-1">
                            <div class="form-group">
                                <label for="freq"> Freq: <span class="text-danger">*</span> </label>
                                <input autocomplete="off" type="text" id="freqPrescricaoAdd" name="freq" class="form-control" placeholder="Freq" maxlength="2" number="true" required>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="perPrescricaoAdd"> Periodo: <span class="text-danger">*</span> </label>
                                <select id="perPrescricaoAdd" name="per" class="custom-select" required>
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="dias"> Dias: <span class="text-danger">*</span> </label>
                                <input autocomplete="off" type="text" id="diasPrescricaoAdd" name="dias" class="form-control" placeholder="Dias" maxlength="3" number="true" required>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="horaIni"> HoraIni: </label>
                                <input autocomplete="off" type="time" id="horaIniPrescricaoAdd" name="horaIni" class="form-control" placeholder="HoraIni" maxlength="10">
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="aplicarAgoraPrescricaoAdd"> Agora: <span class="text-danger">*</span> </label>
                                <select id="aplicarAgoraPrescricaoAdd" name="agora" class="custom-select" required>
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="risco"> Risco: <span class="text-danger">*</span> </label>
                                <select id="riscoPrescricaoAdd" name="risco" class="custom-select" required>
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="total"> Total: <span class="text-danger">*</span> </label>
                                <input autocomplete="off" type="number" id="total" name="total" class="form-control" placeholder="Total" required>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="obsPrescricaoAdd"> Observação:</span> </label>
                                <textarea cols="40" rows="5" id="obsPrescricaoAdd" name="obs" class="form-control" placeholder="Obs"></textarea>
                            </div>
                        </div>

                    </div>
                    <div class="form-group text-center">
                        <div class="btn-group">
                            <button type="submit" class="btn btn-primary" data-toggle="tooltip" data-placement="top" title="Adicionar">Adicionar</button>
                            <button type="button" class="btn btn-danger" data-toggle="tooltip" data-placement="top" title="Fechar" data-dismiss="modal">Fechar</button>
                        </div>
                    </div>
                </form>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>


<div id="prescricaoMedicamentosAddItemModeloModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-danger text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Adicionar Item no Modelo</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <form autocomplete="off" id="prescricaoMedicamentosAddModeloForm" class="pl-3 pr-3">
                    <input type="hidden" id="<?php echo csrf_token() ?>prescricaoMedicamentosAddModeloForm" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">

                    <div class="row">
                        <input type="hidden" id="codModeloAdd" name="codModelo" class="form-control" placeholder="Código" maxlength="11" required>
                    </div>
                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="codMedicamentoPrescritoModeloAdd"> Item: <span class="text-danger">*</span> </label>
                                <select id="codMedicamentoPrescritoModeloAdd" name="codMedicamento" class="custom-select" required>
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="qtdeModeloAdd"> Qtde: <span class="text-danger">*</span> </label>
                                <input autocomplete="off" type="number" id="qtdeModeloModeloAdd" name="qtde" class="form-control" placeholder="Qtde" required>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="undModeloAdd"> Und: <span class="text-danger">*</span> </label>
                                <select id="undPrescricaoModeloAdd" name="und" class="custom-select" required>
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="viaModeloAdd"> Via: <span class="text-danger">*</span> </label>
                                <select id="viaPrescricaoModeloAdd" name="via" class="custom-select" required>
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="row">

                        <div class="col-md-1">
                            <div class="form-group">
                                <label for="freqModeloAdd"> Freq: <span class="text-danger">*</span> </label>
                                <input autocomplete="off" type="text" id="freqPrescricaoModeloAdd" name="freq" class="form-control" placeholder="Freq" maxlength="2" number="true" required>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="perPrescricaoModeloAdd"> Periodo: <span class="text-danger">*</span> </label>
                                <select id="perPrescricaoModeloAdd" name="per" class="custom-select" required>
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="dias"> Dias: <span class="text-danger">*</span> </label>
                                <input autocomplete="off" type="text" id="diasPrescricaoModeloAdd" name="dias" class="form-control" placeholder="Dias" maxlength="3" number="true" required>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="horaIni"> HoraIni: <span class="text-danger">*</span> </label>
                                <input autocomplete="off" type="time" id="horaIniPrescricaoModeloAdd" name="horaIni" class="form-control" placeholder="HoraIni" maxlength="10">
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="aplicarAgoraPrescricaoModeloAdd"> Agora: <span class="text-danger">*</span> </label>
                                <select id="aplicarAgoraPrescricaoModeloAdd" name="agora" class="custom-select" required>
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="riscoModeloAdd"> Risco: <span class="text-danger">*</span> </label>
                                <select id="riscoPrescricaoModeloAdd" name="risco" class="custom-select" required>
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="totalModeloAdd"> Total: <span class="text-danger">*</span> </label>
                                <input autocomplete="off" type="text" id="totalModeloAdd" name="total" class="form-control" placeholder="Total" required>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="obsPrescricaoModeloAdd"> Observação:</span> </label>
                                <textarea cols="40" rows="5" id="obsPrescricaoModeloAdd" name="obs" class="form-control" placeholder="Obs"></textarea>
                            </div>
                        </div>

                    </div>
                    <div class="form-group text-center">
                        <div class="btn-group">
                            <button type="submit" class="btn btn-primary" data-toggle="tooltip" data-placement="top" title="Adicionar">Adicionar</button>
                            <button type="button" class="btn btn-danger" data-toggle="tooltip" data-placement="top" title="Fechar" data-dismiss="modal">Fechar</button>
                        </div>
                    </div>
                </form>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>


<div id="prescricaoMateriaisAddItemModeloModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-danger text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Adicionar Item no Modelo</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <form autocomplete="off" id="prescricaoMateriaisAddModeloForm" class="pl-3 pr-3">
                    <input type="hidden" id="<?php echo csrf_token() ?>prescricaoMateriaisAddModeloForm" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">

                    <div class="row">
                        <input type="hidden" id="codModeloMaterialAdd" name="codModelo" class="form-control" placeholder="Código" maxlength="11" required>
                    </div>
                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="codMaterialPrescritoModeloAdd"> Item: <span class="text-danger">*</span> </label>
                                <select id="codMaterialPrescritoModeloAdd" name="codMaterial" class="custom-select" required>
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="qtdeModeloMaterialAdd"> Qtde: <span class="text-danger">*</span> </label>
                                <input autocomplete="off" type="number" id="qtdeModeloModeloAdd" name="qtde" class="form-control" placeholder="Qtde" required>
                            </div>
                        </div>

                    </div>

                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="obsPrescricaoModeloAdd"> Observação:</span> </label>
                                <textarea cols="40" rows="5" id="obsPrescricaoModeloMaterialAdd" name="observacao" class="form-control" placeholder="Obs"></textarea>
                            </div>
                        </div>

                    </div>
                    <div class="form-group text-center">
                        <div class="btn-group">
                            <button type="submit" class="btn btn-primary" data-toggle="tooltip" data-placement="top" title="Adicionar">Adicionar</button>
                            <button type="button" class="btn btn-danger" data-toggle="tooltip" data-placement="top" title="Fechar" data-dismiss="modal">Fechar</button>
                        </div>
                    </div>
                </form>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>


<div id="prescricaoMedicamentosEditModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Editar Prescrição de Medicamentos</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <form id="prescricaoMedicamentosEditForm" class="pl-3 pr-3">
                    <input type="hidden" id="<?php echo csrf_token() ?>prescricaoMedicamentosEditForm" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">

                    <div class="row">
                        <input type="hidden" id="codAtendimentoPrescricaoMedicamentoEdit" name="codAtendimentoPrescricao" class="form-control" placeholder="Código" maxlength="11" required>
                        <input type="hidden" id="codPrescricaoMedicamentoEdit" name="codPrescricaoMedicamento" class="form-control" placeholder="Código" maxlength="11" required>
                    </div>
                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="codMedicamentoPrescritoEdit"> Item: <span class="text-danger">*</span> </label>
                                <select id="codMedicamentoPrescritoEdit" name="codMedicamento" class="custom-select" required>
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="qtde"> Qtde: <span class="text-danger">*</span> </label>
                                <input type="number" id="qtdeEdit" name="qtde" class="form-control" placeholder="Qtde" required>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="und"> Und: <span class="text-danger">*</span> </label>
                                <select id="undPrescricaoEdit" name="und" class="custom-select" required>
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="via"> Via: <span class="text-danger">*</span> </label>
                                <select id="viaPrescricaoEdit" name="via" class="custom-select" required>
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="row">

                        <div class="col-md-1">
                            <div class="form-group">
                                <label for="freq"> Freq: <span class="text-danger">*</span> </label>
                                <input type="text" id="freqPrescricaoEdit" name="freq" class="form-control" placeholder="Freq" maxlength="2" number="true" required>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="perPrescricaoEdit"> Periodo: <span class="text-danger">*</span> </label>
                                <select id="perPrescricaoEdit" name="per" class="custom-select" required>
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="dias"> Dias: <span class="text-danger">*</span> </label>
                                <input type="text" id="diasPrescricaoEdit" name="dias" class="form-control" placeholder="Dias" maxlength="3" number="true" required>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="horaIni"> HoraIni: <span class="text-danger">*</span> </label>
                                <input type="time" id="horaIniPrescricaoEdit" name="horaIni" class="form-control" placeholder="HoraIni" maxlength="10">
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="aplicarAgoraPrescricaoEdit"> Agora: <span class="text-danger">*</span> </label>
                                <select id="aplicarAgoraPrescricaoEdit" name="agora" class="custom-select" required>
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="risco"> Risco: <span class="text-danger">*</span> </label>
                                <select id="riscoPrescricaoEdit" name="risco" class="custom-select" required>
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="totalEdit"> Total: <span class="text-danger">*</span> </label>
                                <input autocomplete="off" type="number" id="totalEdit" name="total" class="form-control" placeholder="Total" required>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="obsPrescricaoEdit"> Observação:</span> </label>
                                <textarea cols="40" rows="5" id="obsPrescricaoEdit" name="obs" class="form-control" placeholder="Obs"></textarea>
                            </div>
                        </div>

                    </div>
                    <div class="form-group text-center">
                        <div class="btn-group">
                            <button type="submit" class="btn btn-primary" data-toggle="tooltip" data-placement="top" title="Adicionar" id="prescricaoMedicamentosEditForm-btn">Salvar</button>
                            <button type="button" class="btn btn-danger" data-toggle="tooltip" data-placement="top" title="Fechar" data-dismiss="modal">Fechar</button>
                        </div>
                    </div>
                </form>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>



<div id="prescricaoModeloMedicamentosEditModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-danger text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Alteração de Item do Modelo de Medicamentos</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <form id="prescricaoModeloMedicamentosEditForm" class="pl-3 pr-3">
                    <input type="hidden" id="<?php echo csrf_token() ?>prescricaoModeloMedicamentosEditForm" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">

                    <div class="row">
                        <input type="hidden" id="codModeloEdit" name="codModelo" class="form-control" placeholder="Código" maxlength="11" required>
                        <input type="hidden" id="codItemModeloEdit" name="codItemModelo" class="form-control" placeholder="Código" maxlength="11" required>
                    </div>
                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="codMedicamentoPrescritoModeloEdit"> Item: <span class="text-danger">*</span> </label>
                                <select id="codMedicamentoPrescritoModeloEdit" name="codMedicamento" class="custom-select" required>
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="qtdeModelo"> Qtde: <span class="text-danger">*</span> </label>
                                <input type="number" id="qtdeModeloEdit" name="qtde" class="form-control" placeholder="Qtde" required>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="und"> Und: <span class="text-danger">*</span> </label>
                                <select id="undPrescricaoModeloEdit" name="und" class="custom-select" required>
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="via"> Via: <span class="text-danger">*</span> </label>
                                <select id="viaPrescricaoModeloEdit" name="via" class="custom-select" required>
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="row">

                        <div class="col-md-1">
                            <div class="form-group">
                                <label for="freqModelo"> Freq: <span class="text-danger">*</span> </label>
                                <input type="text" id="freqPrescricaoModeloEdit" name="freq" class="form-control" placeholder="Freq" maxlength="2" number="true" required>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="perPrescricaoModeloEdit"> Periodo: <span class="text-danger">*</span> </label>
                                <select id="perPrescricaoModeloEdit" name="per" class="custom-select" required>
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="diasModelo"> Dias: <span class="text-danger">*</span> </label>
                                <input type="text" id="diasPrescricaoModeloEdit" name="dias" class="form-control" placeholder="Dias" maxlength="3" number="true" required>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="horaIniModelo"> HoraIni: <span class="text-danger">*</span> </label>
                                <input type="time" id="horaIniPrescricaoModeloEdit" name="horaIni" class="form-control" placeholder="HoraIni" maxlength="10">
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="aplicarAgoraPrescricaoModeloEdit"> Agora: <span class="text-danger">*</span> </label>
                                <select id="aplicarAgoraPrescricaoModeloEdit" name="agora" class="custom-select" required>
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="riscoModelo"> Risco: <span class="text-danger">*</span> </label>
                                <select id="riscoPrescricaoModeloEdit" name="risco" class="custom-select" required>
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="totalModeloEdit"> Total: <span class="text-danger">*</span> </label>
                                <input type="text" id="totalModeloEdit" name="total" class="form-control" placeholder="Total" required>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="obsPrescricaoModeloEdit"> Observação:</span> </label>
                                <textarea cols="40" rows="5" id="obsPrescricaoModeloEdit" name="obs" class="form-control" placeholder="Obs"></textarea>
                            </div>
                        </div>

                    </div>
                    <div class="form-group text-center">
                        <div class="btn-group">
                            <button type="submit" class="btn btn-primary" data-toggle="tooltip" data-placement="top" title="Adicionar" id="prescricaoMedicamentosEditForm-btn">Salvar</button>
                            <button type="button" class="btn btn-danger" data-toggle="tooltip" data-placement="top" title="Fechar" data-dismiss="modal">Fechar</button>
                        </div>
                    </div>
                </form>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>


<div id="prescricaoModeloMateriaisEditModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-danger text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Alteração de Item do Modelo de Materiais</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <form id="prescricaoModeloMateriaisEditForm" class="pl-3 pr-3">
                    <input type="hidden" id="<?php echo csrf_token() ?>prescricaoModeloMateriaisEditForm" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">

                    <div class="row">
                        <input type="hidden" id="codModeloEdit" name="codModelo" class="form-control" placeholder="Código" maxlength="11" required>
                        <input type="hidden" id="codItemModeloEdit" name="codItemModelo" class="form-control" placeholder="Código" maxlength="11" required>
                    </div>
                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="codMaterialPrescritoModeloEdit"> Item: <span class="text-danger">*</span> </label>
                                <select id="codMaterialPrescritoModeloEdit" name="codMaterial" class="custom-select" required>
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="qtdeModelo"> Qtde: <span class="text-danger">*</span> </label>
                                <input type="number" id="qtdeModeloEdit" name="qtde" class="form-control" placeholder="Qtde" required>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="obsPrescricaoModeloEdit"> Observação:</span> </label>
                                <textarea cols="40" rows="5" id="obsPrescricaoModeloEdit" name="observacao" class="form-control" placeholder="Obs"></textarea>
                            </div>
                        </div>

                    </div>
                    <div class="form-group text-center">
                        <div class="btn-group">
                            <button type="submit" class="btn btn-primary" data-toggle="tooltip" data-placement="top" title="Adicionar">Salvar</button>
                            <button type="button" class="btn btn-danger" data-toggle="tooltip" data-placement="top" title="Fechar" data-dismiss="modal">Fechar</button>
                        </div>
                    </div>
                </form>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>

<div id="indicacoesClinicasAddModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Indicar Paciente</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <form id="indicacoesClinicasAddForm" class="pl-3 pr-3">
                    <div class="row">
                        <input type="hidden" id="<?php echo csrf_token() ?>indicacoesClinicasAddForm" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">
                    </div>
                    <div class="row">
                        <input type="hidden" id="codIndicacaoClinica" name="codIndicacaoClinica" class="form-control" placeholder="nº" maxlength="11" required>
                    </div>
                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="codEspecialidadeIndicacao"> Especialidade para Indicação: <span class="text-danger">*</span> </label>
                                <select id="codEspecialidadeIndicacao" name="codEspecialidade" class="custom-select" required>
                                    <option></option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="checkboAcompanhamentoPermanente" data-toggle="tooltip" data-placement="top" title="Use este recurso para indicar um paciente crônico que precisa de acompanhamento contínuo dessa especialidade">acompanhamento contínuo: </label>

                                <div class="icheck-primary d-inline">
                                    <style>
                                        input[type=checkbox] {
                                            transform: scale(1.8);
                                        }
                                    </style>
                                    <input style="margin-left:5px;" name="acompanhamentoPermanente" type="checkbox" id="acompanhamentoPermanente" data-toggle="tooltip" data-placement="top" title="Use este recurso para indicar um paciente crônico que precisa de acompanhamento contínuo dessa especialidade">


                                </div>
                            </div>
                        </div>
                    </div>


                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="justificativa"> Justificativa: </label>
                                <textarea cols="40" rows="5" id="justificativa" name="justificativa" class="form-control" placeholder="Justificativa" required></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="form-group text-center">
                        <div class="btn-group">
                            <button type="submit" class="btn btn-primary" data-toggle="tooltip" data-placement="top" title="Adicionar" id="indicacoesClinicasAddForm-btn">Adicionar</button>
                            <button type="button" class="btn btn-danger" data-toggle="tooltip" data-placement="top" title="Fechar" data-dismiss="modal">Fechar</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<div id="historicoPacientesModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Histórico Paciente</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">

                <div class="row">

                    <span>Especialidade</span>
                    <div class="col-md-3">
                        <select id="codEspecialidadeFiltroHistoricoPaciente" name="codEspecialidade" class="custom-select" required>
                            <option value="1000">TODAS</option>
                        </select>
                    </div>
                    <span>Tipo</span>
                    <div class="col-md-3">
                        <select id="codTipoAtendimentoFiltroHistoricoPaciente" name="codEspecialidade" class="custom-select" required>
                            <option value="1000">TODOS</option>
                        </select>
                    </div>
                </div>
                <div style="margin-top:20px" class="row">
                    <button type="button" class="btn btn-primary" onclick="pegaHistoricoPacienteAgora()">
                        Buscar Agora
                    </button>

                </div>
            </div>
        </div>
    </div>
</div>

<div id="previsaoAltaAddModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Adicionar Previsão de Alta</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <form id="previsaoAltaAddForm" class="pl-3 pr-3">
                    <input type="hidden" id="<?php echo csrf_token() ?>previsaoAltaAddForm" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">

                    <div class="row">
                        <input type="hidden" id="codPrevAlta" name="codPrevAlta" class="form-control" placeholder="CodPrevAuta" maxlength="11" required>
                        <input type="hidden" id="codAtendimentoPrevisaoAlta" name="codAtendimento" class="form-control" maxlength="11" required>
                    </div>


                    <div class="row">
                        <div class="col-md-2">
                            <div class="form-group">
                                <label id="dataPrevAltaLabel" for="dataPrevAlta">Previsão de Alta: <span class="text-danger">*</span> </label>
                                <input type="date" id="dataPrevAlta" name="dataPrevAlta" class="form-control" placeholder="dataPrevAlta" required>
                            </div>
                        </div>
                        <div style="margin-top:35px" class="col-md-4">
                            <div class="form-group">
                                <div class="icheck-primary d-inline">
                                    <style>
                                        input[type=checkbox] {
                                            transform: scale(1.8);
                                        }
                                    </style>
                                    <input style="margin-left:5px;" name='previsaoIndeterminada' id='previsaoIndeterminada' type="checkbox">


                                </div><span style="margin-left:5px"><b>Previsão Indeterminada</b></span>

                            </div>
                        </div>
                    </div>



                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label id="condicaoAltaLabel" for="condicaoAlta"> Condição para alta: <span class="text-danger">*</span> </label>
                                <textarea cols="40" rows="5" id="condicaoAlta" name="condicaoAlta" class="form-control" placeholder="Informe aqui de forma resumida qual o critério de alta" required></textarea>
                            </div>
                        </div>
                    </div>

                    <div class="form-group text-center">
                        <div class="btn-group">
                            <button type="submit" class="btn btn-primary" data-toggle="tooltip" data-placement="top" title="Adicionar" id="previsaoAltaAddForm-btn">Adicionar</button>
                            <button type="button" class="btn btn-danger" data-toggle="tooltip" data-placement="top" title="Fechar" data-dismiss="modal">Fechar</button>
                        </div>
                    </div>
                </form>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>


<div id="controleAntimicrobianoAddModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Guia antimicrobiana</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">


                <div class="row">
                    <div class="col-md-12">
                        <div class="card card-primary">
                            <div class="card-header">
                                <h3 style="font-weight:bold" class="card-title">Dados Paciente</h3>
                            </div>
                            <!-- /.card-header -->
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-4">
                                        Nome Paciente: <span id="nomePacienteAddControleAntimicrobiano"></span>
                                    </div>
                                    <div class="col-md-2">
                                        Idade: <span id="idadeAddControleAntimicrobiano"></span>
                                    </div>
                                    <div class="col-md-3">
                                        Nº Prontuário: <span id="codProntuarioAddControleAntimicrobiano"></span>
                                    </div>
                                    <div class="col-md-3">
                                        Nº Plano: <span id="codPlanoTmpAddControleAntimicrobiano"></span>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-4">
                                        Und Internação: <span id="nomeUnidadeInternacaoTmpAddControleAntimicrobiano"></span>
                                    </div>
                                    <div class="col-md-4">
                                        Leito: <span id="nomeLocalAtendimentoTmpAddControleAntimicrobiano"></span>
                                    </div>
                                </div>
                            </div>
                            <!-- /.card-body -->
                        </div>
                        <!-- /.card -->
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-12">
                        <div class="card card-primary">
                            <div class="card-header">
                                <h3 style="font-weight:bold" class="card-title">Diagnóstico</h3>
                            </div>
                            <!-- /.card-header -->
                            <div class="card-body">

                                <div class="col-md-2">
                                    <button id="btnAtendimentoDiagnosticoAddControleAntimicrobiano" type="button" class="btn btn-block btn-primary" data-toggle="tooltip" data-placement="top" title="Adicionar" onclick="addatendimentoDiagnostico()" title="Adicionar">Adicionar</button>
                                </div>

                                <table id="data_tableatendimentoDiagnosticoAddControleAntimicrobiano" class="table table-striped table-hover table-sm">
                                    <thead>
                                        <tr>
                                            <th>Seq</th>
                                            <th>Diagnóstico/CID10</th>
                                            <th>Tipo Diagnóstico</th>
                                            <th>Autor</th>
                                            <th>Data Diagnóstico</th>
                                            <th></th>
                                        </tr>
                                    </thead>
                                </table>

                            </div>
                        </div>

                    </div>

                </div>


                <form id="controleAntimicrobianoAddForm" class="pl-3 pr-3">
                    <input type="hidden" id="<?php echo csrf_token() ?>controleAntimicrobianoAddForm" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">

                    <div class="row">
                        <input type="hidden" id="codControleAntimicrobiano" name="codControleAntimicrobiano" class="form-control" maxlength="11" required>
                        <input type="hidden" id="codAtendimentocodAddControleAntimicrobiano" name="codAtendimento" class="form-control" maxlength="11" required>
                        <input type="hidden" id="codPacienteAddControleAntimicrobiano" name="codPaciente" class="form-control" maxlength="11" required>
                        <input type="hidden" id="codItemAddControleAntimicrobiano" name="codItem" class="form-control" maxlength="11" required>
                        <input type="hidden" id="perAddControleAntimicrobiano" name="per" class="form-control" maxlength="11" required>
                        <input type="hidden" id="qtdeAddControleAntimicrobiano" name="qtde" class="form-control" maxlength="11" required>
                        <input type="hidden" id="undAddControleAntimicrobiano" name="und" class="form-control" maxlength="11" required>
                        <input type="hidden" id="viaAddControleAntimicrobiano" name="via" class="form-control" maxlength="11" required>
                        <input type="hidden" id="freqAddControleAntimicrobiano" name="freq" class="form-control" maxlength="11" required>
                        <input type="hidden" id="diasAddControleAntimicrobiano" name="dias" class="form-control" maxlength="11" required>
                    </div>



                    <div class="row">
                        <div class="col-md-12">
                            <div class="card card-primary">
                                <div class="card-header">
                                    <h3 style="font-weight:bold" class="card-title">Dados Antibiótico</h3>
                                </div>
                                <!-- /.card-header -->
                                <div class="card-body">

                                    <div id="dadosAntibiotico"></div>

                                    <div class="row">
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label for="dataInicioGuiaAntimicrobianaAdd"> Data Início: </label>
                                                <input type="date" id="dataInicioGuiaAntimicrobianaAdd" name="dataInicio" value="<?php echo date("Y-m-d") ?>" class="form-control" dateISO="true" required>
                                            </div>
                                        </div>

                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label for="dataEncerramentoGuiaAntimicrobianaAdd"> Data Encerramento: </label>
                                                <input type="date" id="dataEncerramentoGuiaAntimicrobianaAdd" name="dataEncerramento" class="form-control" dateISO="true" required>
                                            </div>
                                        </div>

                                    </div>

                                </div>

                            </div>

                        </div>

                    </div>


                    <div class="row">
                        <div class="col-md-12">
                            <div class="card card-primary">
                                <div class="card-header">
                                    <h3 style="font-weight:bold" class="card-title">Informações Clínicas</h3>
                                </div>
                                <!-- /.card-header -->
                                <div class="card-body">


                                    <div style="margin-top:10px; background: #f8f9fa;" class="row">
                                        <div class="col-md-2 border-left border-bottom">
                                            <label>Indicação de Antibiótico</label>
                                        </div>
                                        <div style="margin-top:10px;" class="col-md-10 border-bottom">
                                            <!-- radio -->
                                            <div style="margin-left:10px" class="form-group clearfix">
                                                <div class="icheck-primary d-inline">
                                                    <input type="radio" id="indicacaoProfilatica" value="1" name="indicacaoAntibiotico">
                                                    <label for="indicacaoProfilatica">Profilático
                                                    </label>
                                                </div>
                                                <div style="margin-left:10px" class="icheck-primary d-inline">
                                                    <input type="radio" id="indicacaoTerapeutica" value="2" name="indicacaoAntibiotico">
                                                    <label for="indicacaoTerapeutica">Terapeutico
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>


                                    <div style="margin-top:10px" class="row">
                                        <div class="col-md-2 border-left border-bottom">
                                            <label>Tipo de Infecção</label>
                                        </div>
                                        <div style="margin-top:10px;" class="col-md-10 border-bottom">
                                            <!-- radio -->
                                            <div style="margin-left:10px" class="form-group clearfix">
                                                <div class="icheck-primary d-inline">
                                                    <input type="radio" id="infeccaoHospitalar" value="1" name="tipoInfeccao">
                                                    <label for="infeccaoHospitalar">Hospitalar
                                                    </label>
                                                </div>
                                                <div style="margin-left:10px" class="icheck-primary d-inline">
                                                    <input type="radio" id="infeccaoComunitaria" value="2" name="tipoInfeccao">
                                                    <label for="infeccaoComunitaria">Comunitaria
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div style="margin-top:10px; background: #f8f9fa;" class="row">
                                        <div class="col-md-2 border-left border-bottom">
                                            <label>Sítio da Infecção</label>
                                        </div>
                                        <div style="margin-top:10px;" class="col-md-10 border-bottom">
                                            <div class="form-group clearfix">
                                                <div style="margin-left:10px" class="icheck-primary d-inline">
                                                    <input type="checkbox" id="respiratoria" name="respiratoria">
                                                    <label for="respiratoria">Respiratória
                                                    </label>
                                                </div>
                                                <div style="margin-left:10px" class="icheck-primary d-inline">
                                                    <input type="checkbox" id="urinaria" name="urinaria">
                                                    <label for="urinaria">Urinária
                                                    </label>
                                                </div>

                                                <div style="margin-left:10px" class="icheck-primary d-inline">
                                                    <input type="checkbox" id="peleTecido" name="peleTecido">
                                                    <label for="peleTecido">Pele e Tecido subcutâneo
                                                    </label>
                                                </div>

                                                <div style="margin-left:10px" class="icheck-primary d-inline">
                                                    <input type="checkbox" id="cirurgia" name="cirurgia">
                                                    <label for="cirurgia">Cirurgia
                                                    </label>
                                                </div>

                                                <div style="margin-left:10px" class="icheck-primary d-inline">
                                                    <input type="checkbox" id="correnteSanguinea" name="correnteSanguinea">
                                                    <label for="correnteSanguinea">Corrente Sanguinea
                                                    </label>
                                                </div>

                                            </div>
                                            <div class="row">
                                                <label for="outroSitio">Outro
                                                </label>
                                                <div style="margin-left:10px">
                                                    <textarea cols="100" rows="3" id="outroSitioInfecao" name="outroSitioInfecao" class="form-control"></textarea>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div style="margin-top:10px" class="row">
                                        <div class="col-md-2 border-left border-bottom">
                                            <label>Esquema de 1º Escolha</label>
                                        </div>
                                        <div style="margin-top:10px;" class="col-md-10 border-bottom">
                                            <!-- radio -->
                                            <div style="margin-left:10px" class="form-group clearfix">
                                                <div class="icheck-primary d-inline">
                                                    <input type="radio" id="primeiraEscolhaSim" value="1" name="primeiraEscolha">
                                                    <label for="primeiraEscolhaSim">Sim
                                                    </label>
                                                </div>
                                                <div style="margin-left:10px" class="icheck-primary d-inline">
                                                    <input type="radio" id="primeiraEscolhaNao" value="0" name="primeiraEscolha">
                                                    <label for="primeiraEscolhaNao">Não
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row border-bottom">
                                        <label for="justificativaEsquema">Justificativa do Esquema
                                        </label>
                                        <div style="margin-left:10px">
                                            <textarea cols="100" rows="3" id="justificativaEsquema" name="justificativaEsquema" class="form-control"></textarea>
                                        </div>
                                    </div>


                                    <div style="margin-top:10px; background: #f8f9fa;" class="row">
                                        <div class="col-md-2 border-left border-bottom">
                                            <label>Se esquema alternativo, assinale o motivo</label>
                                        </div>
                                        <div style="margin-top:10px;" class="col-md-10 border-bottom">
                                            <div class="form-group clearfix">
                                                <div style="margin-left:10px" class="icheck-primary d-inline">
                                                    <input type="checkbox" id="resultadoCultura" name="resultadoCultura">
                                                    <label for="resultadoCultura">Resultado de Cultura
                                                    </label>
                                                </div>
                                                <div style="margin-left:10px" class="icheck-primary d-inline">
                                                    <input type="checkbox" id="faltaMedicamentoFarmacia" name="faltaMedicamentoFarmacia">
                                                    <label for="faltaMedicamentoFarmacia">Falta de Medicamento na Farmácia
                                                    </label>
                                                </div>

                                                <div style="margin-left:10px" class="icheck-primary d-inline">
                                                    <input type="checkbox" id="alergiaAntimicrobiano" name="alergiaAntimicrobiano">
                                                    <label for="alergiaAntimicrobiano">Alergia à Antimicrobiano
                                                    </label>
                                                </div>

                                                <div style="margin-left:10px" class="icheck-primary d-inline">
                                                    <input type="checkbox" id="insuficienciaRenal" name="insuficienciaRenal">
                                                    <label for="insuficienciaRenal">Insuficiencia Renal
                                                    </label>
                                                </div>

                                                <div style="margin-left:10px" class="icheck-primary d-inline">
                                                    <input type="checkbox" id="insuficienciaHepatica" name="insuficienciaHepatica">
                                                    <label for="insuficienciaHepatica">Insuficiencia Hepática
                                                    </label>
                                                </div>

                                            </div>
                                            <div class="row">
                                                <label for="outroEsquemaAlternativo">Outro
                                                </label>
                                                <div style="margin-left:10px">
                                                    <textarea cols="100" rows="3" id="outroEsquemaAlternativo" name="outroEsquemaAlternativo" class="form-control"></textarea>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div style="margin-top:10px" class="row">
                                        <div class="col-md-2 border-left border-bottom">
                                            <label>Solicitou cultura?</label>
                                        </div>
                                        <div style="margin-top:10px;" class="col-md-10 border-bottom">
                                            <!-- radio -->
                                            <div style="margin-left:10px" class="form-group clearfix">
                                                <div class="icheck-primary d-inline">
                                                    <input type="radio" id="solicitouCulturaSim" value="1" name="solicitouCultura">
                                                    <label for="solicitouCulturaSim">Sim
                                                    </label>
                                                </div>
                                                <div style="margin-left:10px" class="icheck-primary d-inline">
                                                    <input type="radio" id="solicitouCulturaNao" value="0" name="solicitouCultura">
                                                    <label for="solicitouCulturaNao">Não
                                                    </label>
                                                </div>
                                                <div class="col-md-3">
                                                    <label for="dataPedidoCulturaGuiaAntimicrobiana"> Data Pedido Cultura: </label>
                                                    <input type="date" id="dataPedidoCulturaGuiaAntimicrobiana" name="dataPedidoCultura" class="form-control" dateISO="true">
                                                </div>
                                            </div>


                                            <div class="row">
                                                <label for="detalheResultadoCultura">Resultado Cultura
                                                </label>
                                                <div style="margin-left:10px">
                                                    <textarea cols="100" rows="3" id="detalheResultadoCultura" name="detalheResultadoCultura" class="form-control"></textarea>

                                                </div>
                                            </div>
                                        </div>
                                    </div>


                                </div>
                            </div>

                        </div>

                    </div>


                    <div class="form-group text-center">
                        <div class="btn-group">
                            <button type="submit" class="btn btn-primary" data-toggle="tooltip" data-placement="top" title="Adicionar" id="controleAntimicrobianoAddForm-btn">Adicionar</button>
                            <button type="button" class="btn btn-danger" data-toggle="tooltip" data-placement="top" title="Fechar" data-dismiss="modal">Fechar</button>
                        </div>
                    </div>
                </form>


            </div>
        </div>
    </div>
</div>

<div id="atendimentosGuiaAntimicrobianaImpressaoModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white"></h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div style="margin-left:50px;margin-right:50px" id="areaImpressaoGuiaAntimicrobiana" class="modal-body">


                <div style="margin-bottom:10px;" class="row">
                    <div class="col-md-12">
                        <?php echo session()->cabecalhoPrescricao; ?>
                    </div>

                </div>
                <div style="margin-bottom:0px;font-size:22px;font-weight: bold;" class="row d-flex justify-content-center">
                    <center>
                        <div class="col-md-12">
                            FICHA DE CONTROLE DE PRESCRIÇÃO DE ANTIMICROBIANOS<br>
                            COMISSÃO DE CONTROLE DE INFECÇÃO HOSPITALAR - CCIH
                        </div>
                    </center>

                </div>


                <div style="margin-top:30px" class="row">
                    <div class="col-md-12">
                        <div id="conteudoImpressaoGuiaAntimicrobiana"></div>
                    </div>
                </div>


                <div class="row">
                    <div class="col-md-12">
                        <?php echo session()->rodapePrescricao; ?>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>

<div id="controleAntimicrobianoEditModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Atualizar Controle Antimicrobiano</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">


                <div class="row">
                    <div class="col-md-12">
                        <div class="card card-primary">
                            <div class="card-header">
                                <h3 style="font-weight:bold" class="card-title">Dados Paciente</h3>
                            </div>
                            <!-- /.card-header -->
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-md-4">
                                        Nome Paciente: <span id="nomePacienteEditControleAntimicrobiano"></span>
                                    </div>
                                    <div class="col-md-2">
                                        Idade: <span id="idadeEditControleAntimicrobiano"></span>
                                    </div>
                                    <div class="col-md-3">
                                        Nº Prontuário: <span id="codProntuarioEditControleAntimicrobiano"></span>
                                    </div>
                                    <div class="col-md-3">
                                        Nº Plano: <span id="codPlanoTmpEditControleAntimicrobiano"></span>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-4">
                                        Und Internação: <span id="nomeUnidadeInternacaoTmpEditControleAntimicrobiano"></span>
                                    </div>
                                    <div class="col-md-4">
                                        Leito: <span id="nomeLocalAtendimentoTmpEditControleAntimicrobiano"></span>
                                    </div>
                                </div>
                            </div>
                            <!-- /.card-body -->
                        </div>
                        <!-- /.card -->
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-12">
                        <div class="card card-primary">
                            <div class="card-header">
                                <h3 style="font-weight:bold" class="card-title">Diagnóstico</h3>
                            </div>
                            <!-- /.card-header -->
                            <div class="card-body">

                                <div class="col-md-2">
                                    <button id="btnAtendimentoDiagnosticoEditControleAntimicrobiano" type="button" class="btn btn-block btn-primary" data-toggle="tooltip" data-placement="top" title="Adicionar" onclick="addatendimentoDiagnostico()" title="Adicionar">Adicionar</button>
                                </div>

                                <table id="data_tableatendimentoDiagnosticoEditControleAntimicrobiano" class="table table-striped table-hover table-sm">
                                    <thead>
                                        <tr>
                                            <th>Seq</th>
                                            <th>Diagnóstico/CID10</th>
                                            <th>Tipo Diagnóstico</th>
                                            <th>Autor</th>
                                            <th>Data Diagnóstico</th>
                                            <th></th>
                                        </tr>
                                    </thead>
                                </table>

                            </div>
                        </div>

                    </div>

                </div>

                <form id="controleAntimicrobianoEditForm" class="pl-3 pr-3">

                    <input type="hidden" id="<?php echo csrf_token() ?>controleAntimicrobianoEditForm" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">

                    <div class="row">
                        <input type="hidden" id="codControleAntimicrobianoEdit" name="codControleAntimicrobiano" class="form-control">
                    </div>


                    <div class="row">
                        <div class="col-md-12">
                            <div class="card card-primary">
                                <div class="card-header">
                                    <h3 style="font-weight:bold" class="card-title">Dados Antibiótico</h3>
                                </div>
                                <!-- /.card-header -->
                                <div class="card-body">

                                    <div id="dadosAntibioticoEdit"></div>

                                    <div class="row">
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label for="dataInicioGuiaAntimicrobianaEdit"> Data Início: </label>
                                                <input type="date" id="dataInicioGuiaAntimicrobianaEdit" name="dataInicio" value="<?php echo date("Y-m-d") ?>" class="form-control" dateISO="true" required>
                                            </div>
                                        </div>

                                        <div class="col-md-3">
                                            <div class="form-group">
                                                <label for="dataEncerramentoGuiaAntimicrobianaEdit"> Data Encerramento: </label>
                                                <input type="date" id="dataEncerramentoGuiaAntimicrobianaEdit" name="dataEncerramento" class="form-control" dateISO="true" required>
                                            </div>
                                        </div>

                                    </div>

                                </div>

                            </div>

                        </div>

                    </div>


                    <div class="row">
                        <div class="col-md-12">
                            <div class="card card-primary">
                                <div class="card-header">
                                    <h3 style="font-weight:bold" class="card-title">Informações Clínicas</h3>
                                </div>
                                <!-- /.card-header -->
                                <div class="card-body">


                                    <div style="margin-top:10px; background: #f8f9fa;" class="row">
                                        <div class="col-md-2 border-left border-bottom">
                                            <label>Indicação de Antibiótico</label>
                                        </div>
                                        <div style="margin-top:10px;" class="col-md-10 border-bottom">
                                            <!-- radio -->
                                            <div style="margin-left:10px" class="form-group clearfix">
                                                <div class="icheck-primary d-inline">
                                                    <input type="radio" id="indicacaoProfilaticaEdit" value="1" name="indicacaoAntibiotico">
                                                    <label for="indicacaoProfilaticaEdit">Profilático
                                                    </label>
                                                </div>
                                                <div style="margin-left:10px" class="icheck-primary d-inline">
                                                    <input type="radio" id="indicacaoTerapeuticaEdit" value="2" name="indicacaoAntibiotico">
                                                    <label for="indicacaoTerapeuticaEdit">Terapeutico
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>


                                    <div style="margin-top:10px" class="row">
                                        <div class="col-md-2 border-left border-bottom">
                                            <label>Tipo de Infecção</label>
                                        </div>
                                        <div style="margin-top:10px;" class="col-md-10 border-bottom">
                                            <!-- radio -->
                                            <div style="margin-left:10px" class="form-group clearfix">
                                                <div class="icheck-primary d-inline">
                                                    <input type="radio" id="infeccaoHospitalarEdit" value="1" name="tipoInfeccao">
                                                    <label for="infeccaoHospitalarEdit">Hospitalar
                                                    </label>
                                                </div>
                                                <div style="margin-left:10px" class="icheck-primary d-inline">
                                                    <input type="radio" id="infeccaoComunitariaEdit" value="2" name="tipoInfeccao">
                                                    <label for="infeccaoComunitariaEdit">Comunitaria
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div style="margin-top:10px; background: #f8f9fa;" class="row">
                                        <div class="col-md-2 border-left border-bottom">
                                            <label>Sítio da Infecção</label>
                                        </div>
                                        <div style="margin-top:10px;" class="col-md-10 border-bottom">
                                            <div class="form-group clearfix">
                                                <div style="margin-left:10px" class="icheck-primary d-inline">
                                                    <input type="checkbox" id="respiratoriaEdit" name="respiratoria">
                                                    <label for="respiratoriaEdit">Respiratória
                                                    </label>
                                                </div>
                                                <div style="margin-left:10px" class="icheck-primary d-inline">
                                                    <input type="checkbox" id="urinariaEdit" name="urinaria">
                                                    <label for="urinariaEdit">Urinária
                                                    </label>
                                                </div>

                                                <div style="margin-left:10px" class="icheck-primary d-inline">
                                                    <input type="checkbox" id="peleTecidoEdit" name="peleTecido">
                                                    <label for="peleTecidoEdit">Pele e Tecido subcutâneo
                                                    </label>
                                                </div>

                                                <div style="margin-left:10px" class="icheck-primary d-inline">
                                                    <input type="checkbox" id="cirurgiaEdit" name="cirurgia">
                                                    <label for="cirurgiaEdit">Cirurgia
                                                    </label>
                                                </div>

                                                <div style="margin-left:10px" class="icheck-primary d-inline">
                                                    <input type="checkbox" id="correnteSanguineaEdit" name="correnteSanguinea">
                                                    <label for="correnteSanguineaEdit">Corrente Sanguinea
                                                    </label>
                                                </div>

                                            </div>
                                            <div class="row">
                                                <label for="outroSitio">Outro
                                                </label>
                                                <div style="margin-left:10px">
                                                    <textarea cols="100" rows="3" id="outroSitioInfecaoEdit" name="outroSitioInfecao" class="form-control"></textarea>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div style="margin-top:10px" class="row">
                                        <div class="col-md-2 border-left border-bottom">
                                            <label>Esquema de 1º Escolha</label>
                                        </div>
                                        <div style="margin-top:10px;" class="col-md-10 border-bottom">
                                            <!-- radio -->
                                            <div style="margin-left:10px" class="form-group clearfix">
                                                <div class="icheck-primary d-inline">
                                                    <input type="radio" id="primeiraEscolhaSimEdit" value="1" name="primeiraEscolha">
                                                    <label for="primeiraEscolhaSimEdit">Sim
                                                    </label>
                                                </div>
                                                <div style="margin-left:10px" class="icheck-primary d-inline">
                                                    <input type="radio" id="primeiraEscolhaNaoEdit" value="0" name="primeiraEscolha">
                                                    <label for="primeiraEscolhaNaoEdit">Não
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row border-bottom">
                                        <label for="justificativaEsquema">Justificativa do Esquema
                                        </label>
                                        <div style="margin-left:10px">
                                            <textarea cols="100" rows="3" id="justificativaEsquemaEdit" name="justificativaEsquema" class="form-control"></textarea>
                                        </div>
                                    </div>


                                    <div style="margin-top:10px; background: #f8f9fa;" class="row">
                                        <div class="col-md-2 border-left border-bottom">
                                            <label>Se esquema alternativo, assinale o motivo</label>
                                        </div>
                                        <div style="margin-top:10px;" class="col-md-10 border-bottom">
                                            <div class="form-group clearfix">
                                                <div style="margin-left:10px" class="icheck-primary d-inline">
                                                    <input type="checkbox" id="resultadoCulturaEdit" name="resultadoCultura">
                                                    <label for="resultadoCulturaEdit">Resultado de Cultura
                                                    </label>
                                                </div>
                                                <div style="margin-left:10px" class="icheck-primary d-inline">
                                                    <input type="checkbox" id="faltaMedicamentoFarmaciaEdit" name="faltaMedicamentoFarmacia">
                                                    <label for="faltaMedicamentoFarmaciaEdit">Falta de Medicamento na Farmácia
                                                    </label>
                                                </div>

                                                <div style="margin-left:10px" class="icheck-primary d-inline">
                                                    <input type="checkbox" id="alergiaAntimicrobianoEdit" name="alergiaAntimicrobiano">
                                                    <label for="alergiaAntimicrobianoEdit">Alergia à Antimicrobiano
                                                    </label>
                                                </div>

                                                <div style="margin-left:10px" class="icheck-primary d-inline">
                                                    <input type="checkbox" id="insuficienciaRenalEdit" name="insuficienciaRenal">
                                                    <label for="insuficienciaRenalEdit">Insuficiencia Renal
                                                    </label>
                                                </div>

                                                <div style="margin-left:10px" class="icheck-primary d-inline">
                                                    <input type="checkbox" id="insuficienciaHepaticaEdit" name="insuficienciaHepatica">
                                                    <label for="insuficienciaHepaticaEdit">Insuficiencia Hepática
                                                    </label>
                                                </div>

                                            </div>
                                            <div class="row">
                                                <label for="outroEsquemaAlternativoEdit">Outro
                                                </label>
                                                <div style="margin-left:10px">
                                                    <textarea cols="100" rows="3" id="outroEsquemaAlternativoEdit" name="outroEsquemaAlternativo" class="form-control"></textarea>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div style="margin-top:10px" class="row">
                                        <div class="col-md-2 border-left border-bottom">
                                            <label>Solicitou cultura?</label>
                                        </div>
                                        <div style="margin-top:10px;" class="col-md-10 border-bottom">
                                            <!-- radio -->
                                            <div style="margin-left:10px" class="form-group clearfix">
                                                <div class="icheck-primary d-inline">
                                                    <input type="radio" id="solicitouCulturaSimEdit" value="1" name="solicsolicitouCulturaSimEdititouCultura">
                                                    <label for="solicitouCulturaSimEdit">Sim
                                                    </label>
                                                </div>
                                                <div style="margin-left:10px" class="icheck-primary d-inline">
                                                    <input type="radio" id="solicitouCulturaNaoEdit" value="0" name="solicitouCultura">
                                                    <label for="solicitouCulturaNaoEdit">Não
                                                    </label>
                                                </div>
                                            </div>
                                            <span>
                                                <label for="dataPedidoCulturaGuiaAntimicrobianaEdit"> Data Pedido Cultura: </label>
                                                <input type="date" id="dataPedidoCulturaGuiaAntimicrobianaEdit" name="dataPedidoCultura" class="form-control" dateISO="true">
                                            </span>


                                            <div class="row">
                                                <label for="detalheResultadoCultura">Resultado Cultura
                                                </label>
                                                <div style="margin-left:10px">
                                                    <textarea cols="100" rows="3" id="detalheResultadoCulturaEdit" name="detalheResultadoCultura" class="form-control"></textarea>

                                                </div>
                                            </div>
                                        </div>
                                    </div>


                                </div>
                            </div>

                        </div>

                    </div>

                    <div class="form-group text-center">
                        <div class="btn-group">
                            <button type="submit" class="btn btn-primary" data-toggle="tooltip" data-placement="top" title="Salvar" id="controleAntimicrobianoEditForm-btn">Salvar</button>
                            <button type="button" class="btn btn-danger" data-toggle="tooltip" data-placement="top" title="Fechar" data-dismiss="modal">Fechar</button>
                        </div>
                    </div>
                </form>

            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>

<div id="guiasAntimicrobianasModal" class="modal fade" role="dialog" aria-hidden="true" style="z-index: -1;">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white">GUIAS ANTIMICROBIANAS</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-12">
                        <span id="guiasAntimicrobianasDadosPaciente" class="right badge badge-danger" style="font-size:24px"></span>
                    </div>

                    <div style="margin-top:12px" class="col-md-2">
                        <span id="btnAddAntimicrobiano"></span>
                    </div>
                </div>
                <div class="row">
                    <table id="data_tablecontroleAntimicrobiano" class="table table-striped table-hover table-sm">
                        <thead>
                            <tr>
                                <th>Nº Guia</th>
                                <th>Atendimento</th>
                                <th>Antimicrobiano</th>
                                <th>Data Inicio</th>
                                <th>Data Encerramento</th>
                                <th>Diagnóstico Principal</th>
                                <th>Statuss</th>
                                <th>Autor</th>
                                <th></th>
                            </tr>
                        </thead>
                    </table>

                </div>
            </div>
        </div>
    </div>
</div>


<div id="atoCirurgicoImpressaoModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white"></h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div style="margin-left:10px;margin-right:10px" id="areaImpressaoAtoCirurgico" class="modal-body">


                <div style="margin-bottom:10px" class="row">
                    <div class="col-md-12">
                        <?php echo session()->cabecalhoPrescricao; ?>
                    </div>
                </div>



                <div style="margin-top:20px;margin-botton:20px;font-size:30px;font-weight: bold;" class="row text-center">
                    <div class="col-md-12">
                        RELATÓRIO CIRÚRGICO
                    </div>
                </div>


                <div style="margin-top:30px;font-size:14px" class="row">
                    <div class="col-md-12">
                        <div id="atoCirurgicoImpressao"></div>
                    </div>
                </div>


                <div class="row">
                    <div class="col-md-12">
                        <?php echo session()->rodapePrescricao; ?>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>



<div id="atoCirurgicoAddModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Adicionar Ato Cirúrgico</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <form id="atoCirurgicoAddForm" class="pl-3 pr-3">
                    <input type="hidden" id="<?php echo csrf_token() ?>atoCirurgicoAddForm" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">

                    <div class="row">
                        <input type="hidden" id="codAtoCirurgico" name="codAtoCirurgico" class="form-control" placeholder="CodAtoCirurgico" maxlength="11" required>
                        <input type="hidden" id="codAtendimento" name="codAtendimento" class="form-control" maxlength="11" required>
                    </div>

                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="codTipoAtoCirurgico">Tipo de Ato Cirúrgico: <span class="text-danger">*</span> </label>
                                <select id="codTipoAtoCirurgico" name="codTipoAtoCirurgico" class="custom-select" required>
                                    <option></option>
                                    <option value="1">Descrição Cicúrgica</option>
                                    <option value="2">Descrição de Anestesia</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                    </div>

                    <div class="form-group text-center">
                        <div class="btn-group">
                            <button type="submit" class="btn btn-primary" data-toggle="tooltip" data-placement="top" title="Adicionar" id="atoCirurgicoAddForm-btn">Adicionar</button>
                            <button type="button" class="btn btn-danger" data-toggle="tooltip" data-placement="top" title="Fechar" data-dismiss="modal">Fechar</button>
                        </div>
                    </div>
                </form>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>


<div id="atoCirurgicoEditModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="atoCicurgicoEditModalHeader"></h4>

                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">


                <div class="row">
                    <div class="col-12 col-sm-12">
                        <div class="card card-primary card-tabs">
                            <div class="card-header p-0 pt-1">
                                <ul class="nav nav-tabs" id="atoCirurgico-tab" role="tablist">
                                    <li class="nav-item">
                                        <a class="nav-link active" id="atoCirurgico-dadosGerais-tab" data-toggle="pill" href="#atoCirurgico-dadosGerais" role="tab" aria-controls="atoCirurgico-dadosGerais" aria-selected="true">Dados do Paciente</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" id="atoCirurgico-membros-tab" data-toggle="pill" href="#atoCirurgico-membros" role="tab" aria-controls="atoCirurgico-membros" aria-selected="false">Membros</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" id="atoCirurgico-procedimentos-tab" data-toggle="pill" href="#atoCirurgico-procedimentos" role="tab" aria-controls="atoCirurgico-procedimentos" aria-selected="false">Procedimentos</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" id="atoCirurgico-matMedOPME-tab" data-toggle="pill" href="#atoCirurgico-matMedOPME" role="tab" aria-controls="atoCirurgico-matMedOPME" aria-selected="false">Materiais/Medicamentos/OPME</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" id="atoCirurgico-relatorio-tab" data-toggle="pill" href="#atoCirurgico-relatorio" role="tab" aria-controls="atoCirurgico-relatorio" aria-selected="false">Relatório</a>
                                    </li>
                                </ul>
                            </div>
                            <div class="card-body">
                                <div class="tab-content" id="atoCirurgico-tabContent">
                                    <div class="tab-pane fade show active" id="atoCirurgico-dadosGerais" role="tabpanel" aria-labelledby="atoCirurgico-dadosGerais-tab">

                                        <div id="dadosPacienteAtoCirurgico"></div>
                                    </div>
                                    <div class="tab-pane fade" id="atoCirurgico-membros" role="tabpanel" aria-labelledby="atoCirurgico-membros-tab">

                                        <div style="margin-bottom:10px" id="addbtnatoCirurgicoMembros" class="row"></div>

                                        <table id="data_tableatoCirurgicoMembros" class="table table-striped table-hover table-sm">
                                            <thead>
                                                <tr>
                                                    <th>Código</th>
                                                    <th>Nome Membro</th>
                                                    <th>Conselho</th>
                                                    <th>Inscrição</th>
                                                    <th>UF</th>
                                                    <th>Função</th>
                                                    <th></th>
                                                </tr>
                                            </thead>
                                        </table>

                                    </div>
                                    <div class="tab-pane fade" id="atoCirurgico-procedimentos" role="tabpanel" aria-labelledby="atoCirurgico-procedimentos-tab">

                                        <div style="margin-bottom:10px" id="addbtnatoCirurgicoProcedimentos" class="row"></div>


                                        <table id="data_tableatoCirurgicoProcedimentos" class="table table-striped table-hover table-sm">
                                            <thead>
                                                <tr>
                                                    <th>Seq</th>
                                                    <th>Referência</th>
                                                    <th>Procedimento</th>
                                                    <th>Qtde</th>
                                                    <th>Observação</th>
                                                    <th></th>
                                                </tr>
                                            </thead>
                                        </table>
                                    </div>
                                    <div class="tab-pane fade" id="atoCirurgico-matMedOPME" role="tabpanel" aria-labelledby="atoCirurgico-matMedOPME-tab">
                                        <div>Lista de Materiais, Medicamentos e OPME</div>

                                        <div style="margin-bottom:10px" id="addbtnatoCirurgicoMatMed" class="row"></div>


                                        <div class="col-12 col-sm-12">
                                            <div class="card card-primary card-tabs">
                                                <div class="card-header p-0 pt-1">
                                                    <ul class="nav nav-tabs" id="itensFarmacia-tab" role="tablist">
                                                        <li class="nav-item">
                                                            <a class="nav-link active" id="itensFarmacia-materiais-tab" data-toggle="pill" href="#itensFarmacia-materiais" role="tab" aria-controls="itensFarmacia-materiais" aria-selected="true">Materiais<span style="margin-left: 10px;" id="qtdMateriais" class="right badge badge-warning"></span></a>
                                                        </li>
                                                        <li class="nav-item">
                                                            <a class="nav-link" id="itensFarmacia-medicamentos-tab" data-toggle="pill" href="#itensFarmacia-medicamentos" role="tab" aria-controls="itensFarmacia-medicamentos" aria-selected="false">Medicamentos<span style="margin-left: 10px;" id="qtdMedicamentos" class="right badge badge-warning"></span></a>
                                                        </li>
                                                        <li class="nav-item">
                                                            <a class="nav-link" id="itensFarmacia-opme-tab" data-toggle="pill" href="#itensFarmacia-opme" role="tab" aria-controls="itensFarmacia-opme" aria-selected="false">OPME<span style="margin-left: 10px;" id="qtdOPME" class="right badge badge-warning"></span></a>
                                                        </li>
                                                    </ul>
                                                </div>
                                                <div class="card-body">
                                                    <div class="tab-content" id="itensFarmacia-tabContent">
                                                        <div class="tab-pane fade show active" id="itensFarmacia-materiais" role="tabpanel" aria-labelledby="itensFarmacia-materiais-tab">

                                                            <table id="data_tableatoCirurgicoMat" class="table table-striped table-hover table-sm">
                                                                <thead>
                                                                    <tr>
                                                                        <th>Seq</th>
                                                                        <th>Item</th>
                                                                        <th>Tipo</th>
                                                                        <th>Qtde</th>
                                                                        <th>Und</th>
                                                                        <th>Observação</th>
                                                                        <th></th>
                                                                    </tr>
                                                                </thead>
                                                            </table>

                                                        </div>
                                                        <div class="tab-pane fade" id="itensFarmacia-medicamentos" role="tabpanel" aria-labelledby="itensFarmacia-medicamentos-tab">

                                                            <table id="data_tableatoCirurgicoMed" class="table table-striped table-hover table-sm">
                                                                <thead>
                                                                    <tr>
                                                                        <th>Seq</th>
                                                                        <th>Item</th>
                                                                        <th>Tipo</th>
                                                                        <th>Qtde</th>
                                                                        <th>Und</th>
                                                                        <th>Observação</th>
                                                                        <th></th>
                                                                    </tr>
                                                                </thead>
                                                            </table>
                                                        </div>
                                                        <div class="tab-pane fade" id="itensFarmacia-opme" role="tabpanel" aria-labelledby="itensFarmacia-opme-tab">
                                                            <table id="data_tableatoCirurgicoOPME" class="table table-striped table-hover table-sm">
                                                                <thead>
                                                                    <tr>
                                                                        <th>Seq</th>
                                                                        <th>Item</th>
                                                                        <th>Tipo</th>
                                                                        <th>Qtde</th>
                                                                        <th>Und</th>
                                                                        <th>Observação</th>
                                                                        <th></th>
                                                                    </tr>
                                                                </thead>
                                                            </table>

                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- /.card -->
                                            </div>
                                        </div>
                                    </div>
                                    <div class="tab-pane fade" id="atoCirurgico-relatorio" role="tabpanel" aria-labelledby="atoCirurgico-relatorio-tab">

                                        <div class="modal-body">
                                            <form id="atoCirurgicoRelatorioEditForm" class="pl-3 pr-3">
                                                <input type="hidden" id="<?php echo csrf_token() ?>atoCirurgicoRelatorioEditForm" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">

                                                <div class="row">
                                                    <input type="hidden" id="codAtoCirurgico" name="codAtoCirurgico" class="form-control" maxlength="11" required>
                                                </div>
                                                <div class="row">
                                                    <div class="col-md-9">
                                                        <div class="form-group">
                                                            <label for="resumoProcedimento"> Resumo do Procedimento: <span class="text-danger">*</span> </label>
                                                            <textarea cols="40" rows="1" id="resumoProcedimento" name="resumoProcedimento" placeholder="Informe de forma breve o ato principal" class="form-control" required></textarea>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <div class="form-group">
                                                            <label for="codTipoAnestesia">Tipo Anestesia: <span class="text-danger">*</span> </label>
                                                            <select id="codTipoAnestesia" name="codTipoAnestesia" class="custom-select" required>
                                                                <option value=""></option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row">
                                                    <div class="col-md-4">
                                                        <div class="form-group">
                                                            <label for="preOperatorio"> Informações Clínicas Pré-Operatório: <span class="text-danger">*</span> </label>
                                                            <textarea cols="40" rows="5" id="preOperatorio" name="preOperatorio" class="form-control" placeholder="Informe aqui as informações relevantes do pré-operatório" required></textarea>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-4">
                                                        <div class="form-group">
                                                            <label for="intercorrencias"> Intercorrências: <span class="text-danger">*</span> </label>
                                                            <textarea cols="40" rows="5" id="intercorrencias" name="intercorrencias" class="form-control" placeholder="Informe aqui as intercorrências ocorridas durante o ato cirúrgico" required></textarea>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-4">
                                                        <div class="form-group">
                                                            <label for="posOperatorio"> Informações Clínicas Pós-Operatório: <span class="text-danger">*</span> </label>
                                                            <textarea cols="40" rows="5" id="posOperatorio" name="posOperatorio" class="form-control" placeholder="Informe aqui as informações relevantes do pós-Operatório" required></textarea>
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="row">

                                                    <div class="col-md-12">
                                                        <div class="form-group">
                                                            <label for="descricaoAtoCirurgico"> Descrição: <span class="text-danger">*</span> </label>
                                                            <textarea cols="40" rows="5" id="descricaoAtoCirurgico" name="descricao" class="form-control" placeholder="Informe aqui o detakhando do procedimento"></textarea>
                                                        </div>
                                                    </div>

                                                </div>

                                                <div class="form-group text-center">
                                                    <div class="btn-group">
                                                        <button type="submit" class="btn btn-primary" data-toggle="tooltip" data-placement="top" title="Salvar">Salvar</button>
                                                    </div>
                                                </div>
                                            </form>
                                        </div>


                                    </div>
                                </div>
                            </div>
                            <!-- /.card -->
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>

<div id="atoCirurgicoProcedimentosAddModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Adicionar Procedimentos Ato Cirúrgico</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <form id="atoCirurgicoProcedimentosAddForm" class="pl-3 pr-3">
                    <input type="hidden" id="<?php echo csrf_token() ?>atoCirurgicoProcedimentosAddForm" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">

                    <div class="row">
                        <input type="hidden" id="codAtoCirurgicoProcedimento" name="codAtoCirurgicoProcedimento" class="form-control" placeholder="CodAtoCirurgicoProcedimento" maxlength="11" required>
                        <input type="hidden" id="codAtoCirurgico" name="codAtoCirurgico" class="form-control" maxlength="11" required>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="codTabelaRefAtoCirurgico">Tabela de Procedimentos: <span class="text-danger">*</span> </label>
                                <select id="codTabelaRefAtoCirurgico" name="codTabelaRef" class="custom-select" required>
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="codProcedimentoAtoCirurgico">Procedimento: <span class="text-danger">*</span> </label>
                                <select id="codProcedimentoAtoCirurgico" name="codProcedimento" class="custom-select" required>
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="qtde"> Qtde: <span class="text-danger">*</span> </label>
                                <input type="text" id="qtde" name="qtde" class="form-control" placeholder="Qtde" required>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group clearfix">
                                <label for="classificacaoProcedimento"> Procedimento Principal?</label>
                                <div class="row">

                                    <div class="col-md-2">
                                        <div class="icheck-primary d-inline">
                                            <input class="classificacaoProcedimento" type="radio" id="procedimentoPrincipal" name="classificacaoProcedimento" value="1" required>
                                            <label for="procedimentoPrincipal">Sim
                                            </label>
                                        </div>
                                    </div>

                                    <div class="col-md-2">
                                        <div class="icheck-primary d-inline">
                                            <input class="classificacaoProcedimento" type="radio" id="procedimentoSecundario" name="classificacaoProcedimento" value="0" required>
                                            <label for="procedimentoSecundario">Não
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>

                    <div class="row">
                        <div class="col-md-3">
                            <div class="form-group">
                                <label for="dataInicioProcedimento"> Data/Hora Início: </label>
                                <input type="datetime-local" id="dataInicioProcedimento" name="dataInicio" value="<?php echo date("Y-m-d") ?>" class="form-control" required>
                            </div>
                        </div>

                        <div class="col-md-3">
                            <div class="form-group">
                                <label for="dataEncerramentoProcedimento"> Data/Hora Encerramento: </label>
                                <input type="datetime-local" id="dataEncerramentoProcedimento" name="dataEncerramento" value="<?php echo date("Y-m-d") ?>" class="form-control" required>
                            </div>
                        </div>

                    </div>
                    <div class="row">
                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="filme"> Filme Radiológico(m2):</label>
                                <input type="text" oninput="numberOnly(this.id);" id="filmeRadiologico" name="filme" class="form-control" placeholder="m2 do filme, se usado.">
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group clearfix">
                                <label for="viaAcesso"> Via de acesso:</label>
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="icheck-primary d-inline">
                                            <input class="viaAcesso" type="radio" id="viaAcessoPrincipal" name="viaAcesso" value="1" required>
                                            <label for="viaAcessoPrincipal">Mesma via
                                            </label>
                                        </div>
                                    </div>
                                    <div class="col-md-8">
                                        <div class="icheck-primary d-inline">
                                            <input class="viaAcesso" type="radio" id="viaAcessoSecundario" name="viaAcesso" value="2" required>
                                            <label for="viaAcessoSecundario">Diferente via de acesso
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="codTecnicaAtoCirurgico">Técnica: <span class="text-danger">*</span> </label>
                                <select id="codTecnicaAtoCirurgico" name="codTecnica" class="custom-select" required>
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>

                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="codAcomodacaoAtoCirurgico">Acomodação do Paciente: <span class="text-danger">*</span> </label>
                                <select id="codAcomodacaoAtoCirurgico" name="codAcomodacao" class="custom-select" required>
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="observacao"> Observação: <span class="text-danger">*</span> </label>
                                <textarea cols="40" rows="5" id="observacao" name="observacao" class="form-control" placeholder="Observacao"></textarea>
                            </div>
                        </div>
                    </div>

                    <div class="form-group text-center">
                        <div class="btn-group">
                            <button type="submit" class="btn btn-primary" data-toggle="tooltip" data-placement="top" title="Adicionar" id="atoCirurgicoProcedimentosAddForm-btn">Adicionar</button>
                            <button type="button" class="btn btn-danger" data-toggle="tooltip" data-placement="top" title="Fechar" data-dismiss="modal">Fechar</button>
                        </div>
                    </div>
                </form>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>

<div id="atoCirurgicoMembrosAddModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Adicionar Membros Ato Cirúrgico</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <form id="atoCirurgicoMembrosAddForm" class="pl-3 pr-3">
                    <input type="hidden" id="<?php echo csrf_token() ?>atoCirurgicoMembrosAddForm" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">

                    <div class="row">
                        <input type="hidden" id="codAtoCirurgicoMembro" name="codAtoCirurgicoMembro" class="form-control" placeholder="CodAtoCirurgicoMembro" maxlength="11" required>
                        <input type="hidden" id="codAtoCirurgico" name="codAtoCirurgico" class="form-control" placeholder="codAtoCirurgico" maxlength="11" required>
                    </div>
                    <div class="row">
                        <div class="col-md-3">
                            <div class="form-group">
                                <label for="nomeMembro">Membro: <span class="text-danger">*</span> </label>
                                <input autocomplete="off" type="text" id="nomeMembroAtoCirurgico" name="nomeMembro" class="form-control" placeholder="Nome do Membro" maxlength="100" required>
                            </div>
                        </div>

                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="conselhoMembroAtoCirurgico"> Nome Conselho: <span class="text-danger">*</span> </label>
                                <input type="text" id="conselhoMembroAtoCirurgico" oninput="wordOnly(this.id);" name="conselhoMembro" class="form-control" maxlength="20" required>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="inscricaoMembro"> Nº Conselho: <span class="text-danger">*</span> </label>
                                <input type="text" id="inscricaoMembro"  oninput="numberOnly(this.id);" name="inscricaoMembro" class="form-control" placeholder="inscricaoMembro" maxlength="20" required>
                            </div>
                        </div>

                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="codEstadoFederacaoMembro"> UF: <span class="text-danger">*</span> </label>
                                <select required id="codEstadoFederacaoMembro" name="codEstadoFederacao" class="custom-select">
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="codFuncaoMembro"> Função: <span class="text-danger">*</span> </label>
                                <select required id="codFuncaoMembro" name="codFuncaoMembro" class="custom-select">
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>

                    </div>
                    <div class="form-group text-center">
                        <div class="btn-group">
                            <button type="submit" class="btn btn-primary" data-toggle="tooltip" data-placement="top" title="Adicionar" id="atoCirurgicoMembrosAddForm-btn">Adicionar</button>
                            <button type="button" class="btn btn-danger" data-toggle="tooltip" data-placement="top" title="Fechar" data-dismiss="modal">Fechar</button>
                        </div>
                    </div>
                </form>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>

<div id="atoCirurgicoMatMedAddModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Adicionar Documento Cirurgico MatMed</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <form id="atoCirurgicoMatMedAddForm" class="pl-3 pr-3">
                    <input type="hidden" id="<?php echo csrf_token() ?>atoCirurgicoMatMedAddForm" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">

                    <div class="row">
                        <input type="hidden" id="codAtoCirurgicoMatMed" name="codAtoCirurgicoMatMed" class="form-control" placeholder="CodAtoCirurgicoMatMed" maxlength="11" required>
                        <input type="hidden" id="codAtoCirurgico" name="codAtoCirurgico" class="form-control" maxlength="11" required>

                    </div>
                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="codMatMed">Item: <span class="text-danger">*</span> </label>
                                <select required id="codMatMed" name="codMatMed" class="custom-select">
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>


                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="codUnidade"> Unidade: <span class="text-danger">*</span> </label>
                                <select id="codUnidade" name="codUnidade" class="custom-select" required>
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>


                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="qtde"> Qtde: <span class="text-danger">*</span> </label>
                                <input type="text" id="qtde" name="qtde" class="form-control" placeholder="Qtde" required>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="observacao"> Observação: <span class="text-danger">*</span> </label>
                                <textarea cols="40" rows="5" id="observacao" name="observacao" class="form-control" placeholder="Observacao"></textarea>
                            </div>
                        </div>

                    </div>


                    <div class="form-group text-center">
                        <div class="btn-group">
                            <button type="submit" class="btn btn-primary" data-toggle="tooltip" data-placement="top" title="Adicionar" id="atoCirurgicoMatMedAddForm-btn">Adicionar</button>
                            <button type="button" class="btn btn-danger" data-toggle="tooltip" data-placement="top" title="Fechar" data-dismiss="modal">Fechar</button>
                        </div>
                    </div>
                </form>
            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>


<div id="atoCirurgicoMatMedEditModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Atualizar Documento Cirurgico MatMed</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <form id="atoCirurgicoMatMedEditForm" class="pl-3 pr-3">
                    <input type="hidden" id="<?php echo csrf_token() ?>atoCirurgicoMatMedEditForm" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">

                    <div class="row">
                        <input type="hidden" id="codAtoCirurgicoMatMed" name="codAtoCirurgicoMatMed" class="form-control" placeholder="CodAtoCirurgicoMatMed" maxlength="11" required>
                        <input type="hidden" id="codAtoCirurgico" name="codAtoCirurgico" class="form-control" maxlength="11" required>
                    </div>

                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="codMatMed">Item: <span class="text-danger">*</span> </label>
                                <select required id="codMatMed" name="codMatMed" class="custom-select">
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>


                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="codUnidade"> Unidade: <span class="text-danger">*</span> </label>
                                <select id="codUnidade" name="codUnidade" class="custom-select" required>
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>


                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="qtde"> Qtde: <span class="text-danger">*</span> </label>
                                <input type="text" id="qtde" name="qtde" class="form-control" placeholder="Qtde" required>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="observacao"> Observação: <span class="text-danger">*</span> </label>
                                <textarea cols="40" rows="5" id="observacao" name="observacao" class="form-control" placeholder="Observacao"></textarea>
                            </div>
                        </div>

                    </div>

                    <div class="form-group text-center">
                        <div class="btn-group">
                            <button type="submit" class="btn btn-primary" data-toggle="tooltip" data-placement="top" title="Salvar" id="atoCirurgicoMatMedEditForm-btn">Salvar</button>
                            <button type="button" class="btn btn-danger" data-toggle="tooltip" data-placement="top" title="Fechar" data-dismiss="modal">Fechar</button>
                        </div>
                    </div>
                </form>

            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>


<div id="atoCirurgicoProcedimentosEditModal" class="modal fade" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-xl">
        <div class="modal-content">
            <div class="modal-header bg-primary text-center p-3">
                <h4 class="modal-title text-white" id="info-header-modalLabel">Atualizar Procedimentos Ato Cirúrgico</h4>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">
                <form id="atoCirurgicoProcedimentosEditForm" class="pl-3 pr-3">
                    <input type="hidden" id="<?php echo csrf_token() ?>atoCirurgicoProcedimentosEditForm" name="<?php echo csrf_token() ?>" value="<?php echo csrf_hash() ?>">

                    <div class="row">
                        <input type="hidden" id="codAtoCirurgicoProcedimento" name="codAtoCirurgicoProcedimento" class="form-control" placeholder="CodAtoCirurgicoProcedimento" maxlength="11" required>
                        <input type="hidden" id="codAtoCirurgico" name="codAtoCirurgico" class="form-control" maxlength="11" required>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="codTabelaRefAtoCirurgico">Tabela de Procedimentos: <span class="text-danger">*</span> </label>
                                <select id="codTabelaRefAtoCirurgico" name="codTabelaRef" class="custom-select" required>
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="codProcedimentoAtoCirurgico">Procedimento: <span class="text-danger">*</span> </label>
                                <select id="codProcedimentoAtoCirurgico" name="codProcedimento" class="custom-select" required>
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="qtde"> Qtde: <span class="text-danger">*</span> </label>
                                <input type="text" id="qtde" name="qtde" class="form-control" placeholder="Qtde" required>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group clearfix">
                                <label for="classificacaoProcedimento"> Procedimento Principal?</label>
                                <div class="row">

                                    <div class="col-md-2">
                                        <div class="icheck-primary d-inline">
                                            <input class="classificacaoProcedimento" type="radio" id="procedimentoPrincipalEdit" name="classificacaoProcedimento" value="1" required>
                                            <label for="procedimentoPrincipalEdit">Sim
                                            </label>
                                        </div>
                                    </div>

                                    <div class="col-md-2">
                                        <div class="icheck-primary d-inline">
                                            <input class="classificacaoProcedimento" type="radio" id="procedimentoSecundarioEdit" name="classificacaoProcedimento" value="0" required>
                                            <label for="procedimentoSecundarioEdit">Não
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>

                    <div class="row">
                        <div class="col-md-3">
                            <div class="form-group">
                                <label for="dataInicioProcedimento"> Data/Hora Início: </label>
                                <input type="datetime-local" id="dataInicioProcedimento" name="dataInicio" value="<?php echo date("Y-m-d") ?>" class="form-control" required>
                            </div>
                        </div>

                        <div class="col-md-3">
                            <div class="form-group">
                                <label for="dataEncerramentoProcedimento"> Data/Hora Encerramento: </label>
                                <input type="datetime-local" id="dataEncerramentoProcedimento" name="dataEncerramento" value="<?php echo date("Y-m-d") ?>" class="form-control" required>
                            </div>
                        </div>

                    </div>
                    <div class="row">
                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="filme"> Filme Radiológico(m2):</label>
                                <input type="text" oninput="numberOnly(this.id);" id="filmeRadiologico" name="filme" class="form-control" placeholder="m2 do filme, se usado.">
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group clearfix">
                                <label for="viaAcesso"> Via de acesso:</label>
                                <div class="row">
                                    <div class="col-md-4">
                                        <div class="icheck-primary d-inline">
                                            <input class="viaAcesso" type="radio" id="viaAcessoPrincipalEdit" name="viaAcesso" value="1" required>
                                            <label for="viaAcessoPrincipalEdit">Mesma via
                                            </label>
                                        </div>
                                    </div>
                                    <div class="col-md-8">
                                        <div class="icheck-primary d-inline">
                                            <input class="viaAcesso" type="radio" id="viaAcessoSecundarioEdit" name="viaAcesso" value="2" required>
                                            <label for="viaAcessoSecundarioEdit">Diferente via de acesso
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="codTecnicaAtoCirurgico">Técnica: <span class="text-danger">*</span> </label>
                                <select id="codTecnicaAtoCirurgico" name="codTecnica" class="custom-select" required>
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>

                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="codAcomodacaoAtoCirurgico">Acomodação do Paciente: <span class="text-danger">*</span> </label>
                                <select id="codAcomodacaoAtoCirurgico" name="codAcomodacao" class="custom-select" required>
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group">
                                <label for="observacao"> Observação: <span class="text-danger">*</span> </label>
                                <textarea cols="40" rows="5" id="observacao" name="observacao" class="form-control" placeholder="Observacao"></textarea>
                            </div>
                        </div>
                    </div>

                    <div class="form-group text-center">
                        <div class="btn-group">
                            <button type="submit" class="btn btn-primary" data-toggle="tooltip" data-placement="top" title="Salvar" id="atoCirurgicoProcedimentosEditForm-btn">Salvar</button>
                            <button type="button" class="btn btn-danger" data-toggle="tooltip" data-placement="top" title="Fechar" data-dismiss="modal">Fechar</button>
                        </div>
                    </div>
                </form>

            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal-dialog -->
</div>

<?php
echo view('tema/rodape');



?>
<script src="<?php echo base_url() ?>/assets/adminlte/plugins/summernote/summernote-bs4.min.js"></script>
<script src="<?php echo base_url() ?>/assets/adminlte/plugins/webcamjs/webcam.min.js"></script>


<script>
    var fotoPerfilTmp = 0;
    var codPacienteTmp = "";
    var codStatusTmp = null;
    var nomePacienteTmp = "";
    var nomeCargoTmp = "";
    var nomeTipoBeneficiarioTmp = "";
    var siglaTipoBeneficiarioTmp = "";
    var codPlanoTmp = "";
    var codProntuarioTmp = "";
    var codAtendimentoTmp = "";
    var codLocalAtendimentoTmp = "";
    var nomeLocalAtendimentoTmp = "";
    var codDepartamentoTmp = null;
    var idadePacienteTmp = "";
    var cpfPacienteTmp = "";
    var fotoPerfilPacienteTmp = "";
    var unidadeInternacaoTmp = null;
    var nomeUnidadeInternacaoTmp = null;
    var cidPrincipal = null;
    var nomeStatusCadastroPacienteTmp = null;
    var periodo = "";


    var especialidadeAuxiliar = "<?php echo $especialidadeAuxiliar ?>";
    var codEspecialidade = "<?php echo $codEspecialidade ?>";
    var codEspecialista = "<?php echo $codEspecialista ?>";
    var dataInicio = "<?php echo $dataInicio ?>";
    var dataEncerramento = "<?php echo $dataEncerramento ?>";
    var verMeusPacientes = "<?php echo $verMeusPacientes ?>";
    var verPacientesEmergencia = "<?php echo $verPacientesEmergencia ?>";
    var verPacientesInternados = "<?php echo $verPacientesInternados ?>";





    $.ajax({
        url: '<?php echo base_url('Atendimentos/listaDropDownCid10') ?>',
        type: 'post',
        dataType: 'json',
        data: {
            csrf_sandra: $("#csrf_sandraPrincipal").val(),
        },
        success: function(cidAdd) {

            cidPrincipal = cidAdd;
        }
    })


    if (verMeusPacientes == 1) {
        //agendadosAmbulatorio();
    }


    if (verPacientesEmergencia == 1) {
        //listaUrgenciaEmergencia();
    }

    if (verPacientesInternados == 1) {
        //listaInternados();
    }




    $(document).on('show.bs.modal', '.modal', function() {
        var zIndex = 1040 + (10 * $('.modal:visible').length);
        $(this).css('z-index', zIndex);
        setTimeout(function() {
            $('.modal-backdrop').not('.modal-stack').css('z-index', zIndex - 1).addClass('modal-stack');
        }, 0);
    });



    $("#unidadeInternacao").on("change", function() {



        unidadeInternacaoTmp = document.getElementById("unidadeInternacao").value;


        if (unidadeInternacaoTmp !== null && unidadeInternacaoTmp !== '') {


            $.ajax({
                url: '<?php echo base_url('atendimentos/filtrarUnidadeInternacao') ?>',
                type: 'post',
                dataType: 'json',
                data: {
                    unidadeInternacao: unidadeInternacaoTmp,
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },
                success: function(filtrarUnidadeInternacao) {

                    swal.close();
                    if (filtrarUnidadeInternacao.success === true) {





                        $('#data_situacaoLeitos').DataTable({

                            "bDestroy": true,
                            "paging": true,
                            "pageLength": 50,
                            "deferRender": true,
                            "lengthChange": false,
                            "searching": true,
                            "ordering": true,
                            "info": true,
                            "autoWidth": true,
                            "responsive": true,
                            createdRow: function(row, data, dataIndex) {
                                if (data[4].trim() == 'EM MANUTENÇÃO') {
                                    $(row).css({
                                        "background-color": "#f3a40dc9",
                                        "color": "#fff"
                                    });
                                    $(row).addClass('sub-needed');
                                }
                                if (data[4].trim() == 'LIVRE') {
                                    $(row).css({
                                        "background-color": "#3498db5e",
                                        "color": "#fff"
                                    });
                                    $(row).addClass('sub-needed');
                                }
                                if (data[4].trim() == 'OCUPADO') {
                                    $(row).css({
                                        "background-color": "#ff1800",
                                        "color": "#fff"
                                    });
                                    $(row).addClass('sub-needed');
                                }

                            },
                            "ajax": {
                                "url": '<?php echo base_url('atendimentos/situacaoLeitos') ?>',
                                "type": "POST",
                                "dataType": "json",
                                async: "true",
                                data: {
                                    codAtendimento: codAtendimentoTmp,
                                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                                },
                            }
                        })
                    }


                }
            }).always(
                Swal.fire({
                    title: 'Estamos buscando a situação de ocupação dos Leitos',
                    html: 'Aguarde....',
                    timerProgressBar: true,
                    didOpen: () => {
                        Swal.showLoading()
                    }

                }))





        }
    });



    $("#unidadeInternacaoList").on("change", function() {



        unidadeInternacaoTmp = document.getElementById("unidadeInternacaoList").value;


        if (unidadeInternacaoTmp !== null && unidadeInternacaoTmp !== '') {


            $.ajax({
                url: '<?php echo base_url('atendimentos/filtrarUnidadeInternacao') ?>',
                type: 'post',
                dataType: 'json',
                data: {
                    unidadeInternacao: unidadeInternacaoTmp,
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },
                success: function(filtrarUnidadeInternacaoList) {
                    swal.close();
                    if (filtrarUnidadeInternacaoList.success === true) {
                        $('#data_tableListarInternados').DataTable().ajax.reload(null, false).draw(false);
                    }
                }
            }).always(
                Swal.fire({
                    title: 'Estamos buscando os Internados na unidade selecionada!',
                    html: 'Aguarde....',
                    timerProgressBar: true,
                    didOpen: () => {
                        Swal.showLoading()
                    }

                }))
        }
    });




    $("#codTipoAtendimentoFiltroProntuario").on("change", function() {
        codTipoAtendimentoFiltroProntuario = document.getElementById("codTipoAtendimentoFiltroProntuario").value;
        if (codTipoAtendimentoFiltroProntuario > 0 && codTipoAtendimentoFiltroProntuario !== null && codTipoAtendimentoFiltroProntuario !== '') {

            $.ajax({
                url: '<?php echo base_url('atendimentos/filtrarTipoAtendimentoFiltroProntuario') ?>',
                type: 'post',
                data: {
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    codTipoAtendimentoFiltroProntuario: codTipoAtendimentoFiltroProntuario,
                },

                dataType: 'json',
                success: function(filtrarTipoAtendimentoFiltroProntuario) {

                    if (filtrarTipoAtendimentoFiltroProntuario.success === true) {

                        todosAtendimentos(codPacienteTmp);
						//$('#data_tableAtendimentos').DataTable().ajax.reload(null, false).draw(false);


                    }
                }
            })
        }


        codTipoAtendimentoFiltroProntuario = 0;
    })



    $("#codEspecialidadeFiltroProntuario").on("change", function() {
        codEspecialidadeFiltroProntuario = document.getElementById("codEspecialidadeFiltroProntuario").value;
        if (codEspecialidadeFiltroProntuario > 0 && codEspecialidadeFiltroProntuario !== null && codEspecialidadeFiltroProntuario !== '') {



            $.ajax({
                url: '<?php echo base_url('atendimentos/filtrarEspecialidadeFiltroProntuario') ?>',
                type: 'post',
                data: {
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    codEspecialidadeFiltroProntuario: codEspecialidadeFiltroProntuario,
                },
                dataType: 'json',
                success: function(filtrarEspecialidadeFiltroProntuario) {

                    if (filtrarEspecialidadeFiltroProntuario.success === true) {

                        todosAtendimentos(codPacienteTmp);
						//$('#data_tableAtendimentos').DataTable().ajax.reload(null, false).draw(false);


                    }
                }
            })


        }

        codEspecialidadeFiltroProntuario = 0;
    })



    $('#queixaPrincipalTextarea').summernote({
        height: 150,
        maximumImageFileSize: 1024 * 1024, // 1Mb
        fontSizes: ['8', '9', '10', '11', '12', '14', '18', '20', '36', '72'],
        lineHeights: ['0.2', '0.3', '0.4', '0.5', '0.6', '0.8', '1.0', '1.2', '1.4', '1.5', '2.0', '3.0'],
        toolbar: [
            ['style', ['style']],
            ['fontname', ['fontname']],
            ['font', ['color', 'strikethrough', 'superscript', 'subscript', 'bold', 'underline', 'clear']],
            ['fontsize', ['fontsize']],
            ['height', ['height']],
            ['para', ['ul', 'ol', 'paragraph']],
            ['table', ['table']],
            ['insert', ['link', 'hr']],
            ['view', ['fullscreen', 'codeview', 'help']],
            ['redo'],
            ['undo'],
        ],

        callbacks: {
            onImageUploadError: function(msg) {
                var Toast = Swal.mixin({
                    toast: true,
                    position: 'top-end',
                    showConfirmButton: false,
                    timer: 5000
                });
                Toast.fire({
                    icon: 'error',
                    title: 'Tamanho máximo de imagens é 1Mb'
                })
            }
        }
    })

    $('#hdaTextarea').summernote({
        height: 150,
        maximumImageFileSize: 1024 * 1024, // 1Mb
        fontSizes: ['8', '9', '10', '11', '12', '14', '18', '20', '36', '72'],
        lineHeights: ['0.2', '0.3', '0.4', '0.5', '0.6', '0.8', '1.0', '1.2', '1.4', '1.5', '2.0', '3.0'],
        toolbar: [
            ['style', ['style']],
            ['fontname', ['fontname']],
            ['font', ['color', 'strikethrough', 'superscript', 'subscript', 'bold', 'underline', 'clear']],
            ['fontsize', ['fontsize']],
            ['height', ['height']],
            ['para', ['ul', 'ol', 'paragraph']],
            ['table', ['table']],
            ['insert', ['link', 'hr']],
            ['view', ['fullscreen', 'codeview', 'help']],
            ['redo'],
            ['undo'],
        ],

        callbacks: {
            onImageUploadError: function(msg) {
                var Toast = Swal.mixin({
                    toast: true,
                    position: 'top-end',
                    showConfirmButton: false,
                    timer: 5000
                });
                Toast.fire({
                    icon: 'error',
                    title: 'Tamanho máximo de imagens é 1Mb'
                })
            }
        }
    })

    $('#hmpTextarea').summernote({
        height: 150,
        maximumImageFileSize: 1024 * 1024, // 1Mb
        fontSizes: ['8', '9', '10', '11', '12', '14', '18', '20', '36', '72'],
        lineHeights: ['0.2', '0.3', '0.4', '0.5', '0.6', '0.8', '1.0', '1.2', '1.4', '1.5', '2.0', '3.0'],
        toolbar: [
            ['style', ['style']],
            ['fontname', ['fontname']],
            ['font', ['color', 'strikethrough', 'superscript', 'subscript', 'bold', 'underline', 'clear']],
            ['fontsize', ['fontsize']],
            ['height', ['height']],
            ['para', ['ul', 'ol', 'paragraph']],
            ['table', ['table']],
            ['insert', ['link', 'hr']],
            ['view', ['fullscreen', 'codeview', 'help']],
            ['redo'],
            ['undo'],
        ],

        callbacks: {
            onImageUploadError: function(msg) {
                var Toast = Swal.mixin({
                    toast: true,
                    position: 'top-end',
                    showConfirmButton: false,
                    timer: 5000
                });
                Toast.fire({
                    icon: 'error',
                    title: 'Tamanho máximo de imagens é 1Mb'
                })
            }
        }
    })



    $('#exameFisicoTextarea').summernote({
        height: 150,
        maximumImageFileSize: 1024 * 1024, // 1Mb
        fontSizes: ['8', '9', '10', '11', '12', '14', '18', '20', '36', '72'],
        lineHeights: ['0.2', '0.3', '0.4', '0.5', '0.6', '0.8', '1.0', '1.2', '1.4', '1.5', '2.0', '3.0'],
        toolbar: [
            ['style', ['style']],
            ['fontname', ['fontname']],
            ['font', ['color', 'strikethrough', 'superscript', 'subscript', 'bold', 'underline', 'clear']],
            ['fontsize', ['fontsize']],
            ['height', ['height']],
            ['para', ['ul', 'ol', 'paragraph']],
            ['table', ['table']],
            ['insert', ['link', 'hr']],
            ['view', ['fullscreen', 'codeview', 'help']],
            ['redo'],
            ['undo'],
        ],

        callbacks: {
            onImageUploadError: function(msg) {
                var Toast = Swal.mixin({
                    toast: true,
                    position: 'top-end',
                    showConfirmButton: false,
                    timer: 5000
                });
                Toast.fire({
                    icon: 'error',
                    title: 'Tamanho máximo de imagens é 1Mb'
                })
            }
        }
    })


    $('#outrasInformacoesTextarea').summernote({
        height: 150,
        maximumImageFileSize: 1024 * 1024, // 1Mb
        fontSizes: ['8', '9', '10', '11', '12', '14', '18', '20', '36', '72'],
        lineHeights: ['0.2', '0.3', '0.4', '0.5', '0.6', '0.8', '1.0', '1.2', '1.4', '1.5', '2.0', '3.0'],
        toolbar: [
            ['font', ['bold']],
            ['fontsize', ['fontsize']],
            ['para', ['ul', 'ol', 'paragraph']],
            ['redo'],
            ['undo'],
        ],

        callbacks: {
            onImageUploadError: function(msg) {
                var Toast = Swal.mixin({
                    toast: true,
                    position: 'top-end',
                    showConfirmButton: false,
                    timer: 5000
                });
                Toast.fire({
                    icon: 'error',
                    title: 'Tamanho máximo de imagens é 1Mb'
                })
            }
        }
    })

    $('#historiaMedicamentosContinuoTextarea').summernote({
        height: 150,
        maximumImageFileSize: 1024 * 1024, // 1Mb
        fontSizes: ['8', '9', '10', '11', '12', '14', '18', '20', '36', '72'],
        lineHeights: ['0.2', '0.3', '0.4', '0.5', '0.6', '0.8', '1.0', '1.2', '1.4', '1.5', '2.0', '3.0'],
        toolbar: [
            ['font', ['bold']],
            ['fontsize', ['fontsize']],
            ['para', ['ul', 'ol', 'paragraph']],
            ['redo'],
            ['undo'],
        ],

        callbacks: {
            onImageUploadError: function(msg) {
                var Toast = Swal.mixin({
                    toast: true,
                    position: 'top-end',
                    showConfirmButton: false,
                    timer: 5000
                });
                Toast.fire({
                    icon: 'error',
                    title: 'Tamanho máximo de imagens é 1Mb'
                })
            }
        }
    })

    $('#historiaAlergiasTextarea').summernote({
        height: 150,
        maximumImageFileSize: 1024 * 1024, // 1Mb
        fontSizes: ['8', '9', '10', '11', '12', '14', '18', '20', '36', '72'],
        lineHeights: ['0.2', '0.3', '0.4', '0.5', '0.6', '0.8', '1.0', '1.2', '1.4', '1.5', '2.0', '3.0'],
        toolbar: [
            ['font', ['bold']],
            ['fontsize', ['fontsize']],
            ['para', ['ul', 'ol', 'paragraph']],
            ['redo'],
            ['undo'],
        ],

        callbacks: {
            onImageUploadError: function(msg) {
                var Toast = Swal.mixin({
                    toast: true,
                    position: 'top-end',
                    showConfirmButton: false,
                    timer: 5000
                });
                Toast.fire({
                    icon: 'error',
                    title: 'Tamanho máximo de imagens é 1Mb'
                })
            }
        }
    })


    function addatoCirurgicoMatMed(codAtoCirurgico) {
        // reset the form
        $("#atoCirurgicoMatMedAddForm")[0].reset();
        $(".form-control").removeClass('is-invalid').removeClass('is-valid');
        $('#atoCirurgicoMatMedAddModal').modal('show');
        // submit the add from

        $("#atoCirurgicoMatMedAddModal #codAtoCirurgico").val(codAtoCirurgico);

        $("#atoCirurgicoMatMedAddModal #codMatMed").html('').select2({
            data: [{
                id: null,
                text: ''
            }]
        });

        $("#atoCirurgicoMatMedAddModal #codUnidade").html('').select2({
            data: [{
                id: null,
                text: ''
            }]
        });


        $.ajax({
            url: '<?php echo base_url('prescricaoMedicamentos/listaDropDownUnidades') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(unidade) {

                $("#atoCirurgicoMatMedAddModal #codUnidade").select2({
                    data: unidade,
                })

                $('#atoCirurgicoMatMedAddModal #codUnidade').val(1);
                $('#atoCirurgicoMatMedAddModal #codUnidade').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });

            }
        })


        $.ajax({
            url: '<?php echo base_url('itensFarmacia/listaDropDownTodosItens') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(codMatMed) {

                $("#atoCirurgicoMatMedAddModal #codMatMed").select2({
                    data: codMatMed,
                    minimumInputLength: 3,
                    quietMillis: 1000,
                    dropdownParent: $('#atoCirurgicoMatMedAddModal .modal-content'),
                })

                $("#atoCirurgicoMatMedAddModal #codMatMed").val(null);
                $("#atoCirurgicoMatMedAddModal #codMatMed").trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });

            }
        })

        $.validator.setDefaults({
            highlight: function(element) {
                $(element).addClass('is-invalid').removeClass('is-valid');
            },
            unhighlight: function(element) {
                $(element).removeClass('is-invalid').addClass('is-valid');
            },
            errorElement: 'div ',
            errorClass: 'invalid-feedback',
            errorPlacement: function(error, element) {
                if (element.parent('.input-group').length) {
                    error.insertAfter(element.parent());
                } else if ($(element).is('.select')) {
                    element.next().after(error);
                } else if (element.hasClass('select2')) {
                    //error.insertAfter(element);
                    error.insertAfter(element.next());
                } else if (element.hasClass('selectpicker')) {
                    error.insertAfter(element.next());
                } else {
                    error.insertAfter(element);
                }
            },

            submitHandler: function(form) {

                var form = $('#atoCirurgicoMatMedAddForm');
                // remove the text-danger
                $(".text-danger").remove();

                $.ajax({
                    url: '<?php echo base_url('atoCirurgicoMatMed/add') ?>',
                    type: 'post',
                    data: form.serialize(), // /converting the form data into array and sending it to server
                    dataType: 'json',
                    beforeSend: function() {
                        //$('#atoCirurgicoMatMedAddForm-btn').html('<i class="fa fa-spinner fa-spin"></i>');
                    },
                    success: function(response) {

                        if (response.success === true) {
                            $('#atoCirurgicoMatMedAddModal').modal('hide');

                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {
                                $('#data_tableatoCirurgicoMat').DataTable().ajax.reload(null, false).draw(false);
                                $('#data_tableatoCirurgicoMed').DataTable().ajax.reload(null, false).draw(false);
                                $('#data_tableatoCirurgicoOPME').DataTable().ajax.reload(null, false).draw(false);
                            })

                        } else {

                            if (response.messages instanceof Object) {
                                $.each(response.messages, function(index, value) {
                                    var id = $("#" + index);

                                    id.closest('.form-control')
                                        .removeClass('is-invalid')
                                        .removeClass('is-valid')
                                        .addClass(value.length > 0 ? 'is-invalid' : 'is-valid');

                                    id.after(value);

                                });
                            } else {

                                var Toast = Swal.mixin({
                                    toast: true,
                                    position: 'bottom-end',
                                    showConfirmButton: false,
                                    timer: 2000
                                });
                                Toast.fire({
                                    icon: 'error',
                                    title: response.messages
                                })

                            }
                        }
                        $('#atoCirurgicoMatMedAddForm-btn').html('Adicionar');
                    }
                });

                return false;
            }
        });
        $('#atoCirurgicoMatMedAddForm').validate();
    }

    function editatoCirurgicoMatMed(codAtoCirurgicoMatMed) {
        $.ajax({
            url: '<?php echo base_url('atoCirurgicoMatMed/getOne') ?>',
            type: 'post',
            data: {
                codAtoCirurgicoMatMed: codAtoCirurgicoMatMed,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            dataType: 'json',
            success: function(response) {
                // reset the form
                $("#atoCirurgicoMatMedEditForm")[0].reset();
                $(".form-control").removeClass('is-invalid').removeClass('is-valid');
                $('#atoCirurgicoMatMedEditModal').modal('show');

                $("#atoCirurgicoMatMedEditForm #codAtoCirurgicoMatMed").val(response.codAtoCirurgicoMatMed);
                $("#atoCirurgicoMatMedEditForm #codAtoCirurgico").val(response.codAtoCirurgico);
                $("#atoCirurgicoMatMedEditForm #codMatMed").val(response.codMatMed);
                $("#atoCirurgicoMatMedEditForm #qtde").val(response.qtde);
                $("#atoCirurgicoMatMedEditForm #observacao").val(response.observacao);

                $("#atoCirurgicoMatMedEditForm #codMatMed").html('').select2({
                    data: [{
                        id: null,
                        text: ''
                    }]
                });

                $("#atoCirurgicoMatMedEditForm #codUnidade").html('').select2({
                    data: [{
                        id: null,
                        text: ''
                    }]
                });


                $.ajax({
                    url: '<?php echo base_url('prescricaoMedicamentos/listaDropDownUnidades') ?>',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    success: function(unidade) {

                        $("#atoCirurgicoMatMedEditForm #codUnidade").select2({
                            data: unidade,
                        })

                        $('#atoCirurgicoMatMedEditForm #codUnidade').val(response.codUnidade);
                        $('#atoCirurgicoMatMedEditForm #codUnidade').trigger('change');
                        $(document).on('select2:open', () => {
                            document.querySelector('.select2-search__field').focus();
                        });

                    }
                })


                $.ajax({
                    url: '<?php echo base_url('itensFarmacia/listaDropDownTodosItens') ?>',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    success: function(codMatMed) {

                        $("#atoCirurgicoMatMedEditForm #codMatMed").select2({
                            data: codMatMed,
                            minimumInputLength: 3,
                            quietMillis: 1000,
                            dropdownParent: $('#atoCirurgicoMatMedEditModal .modal-content'),
                        })

                        $("#atoCirurgicoMatMedEditForm #codMatMed").val(response.codMatMed);
                        $("#atoCirurgicoMatMedEditForm #codMatMed").trigger('change');
                        $(document).on('select2:open', () => {
                            document.querySelector('.select2-search__field').focus();
                        });

                    }
                })

                // submit the edit from
                $.validator.setDefaults({
                    highlight: function(element) {
                        $(element).addClass('is-invalid').removeClass('is-valid');
                    },
                    unhighlight: function(element) {
                        $(element).removeClass('is-invalid').addClass('is-valid');
                    },
                    errorElement: 'div ',
                    errorClass: 'invalid-feedback',
                    errorPlacement: function(error, element) {
                        if (element.parent('.input-group').length) {
                            error.insertAfter(element.parent());
                        } else if ($(element).is('.select')) {
                            element.next().after(error);
                        } else if (element.hasClass('select2')) {
                            //error.insertAfter(element);
                            error.insertAfter(element.next());
                        } else if (element.hasClass('selectpicker')) {
                            error.insertAfter(element.next());
                        } else {
                            error.insertAfter(element);
                        }
                    },

                    submitHandler: function(form) {
                        var form = $('#atoCirurgicoMatMedEditForm');
                        $(".text-danger").remove();
                        $.ajax({
                            url: '<?php echo base_url('atoCirurgicoMatMed/edit') ?>',
                            type: 'post',
                            data: form.serialize(),
                            dataType: 'json',
                            beforeSend: function() {
                                //$('#atoCirurgicoMatMedEditForm-btn').html('<i class="fa fa-spinner fa-spin"></i>');
                            },
                            success: function(response) {

                                if (response.success === true) {

                                    $('#atoCirurgicoMatMedEditModal').modal('hide');


                                    var Toast = Swal.mixin({
                                        toast: true,
                                        position: 'bottom-end',
                                        showConfirmButton: false,
                                        timer: 2000
                                    });
                                    Toast.fire({
                                        icon: 'success',
                                        title: response.messages
                                    }).then(function() {
                                        $('#data_tableatoCirurgicoMat').DataTable().ajax.reload(null, false).draw(false);
                                        $('#data_tableatoCirurgicoMed').DataTable().ajax.reload(null, false).draw(false);
                                        $('#data_tableatoCirurgicoOPME').DataTable().ajax.reload(null, false).draw(false);
                                    })

                                } else {

                                    if (response.messages instanceof Object) {
                                        $.each(response.messages, function(index, value) {
                                            var id = $("#" + index);

                                            id.closest('.form-control')
                                                .removeClass('is-invalid')
                                                .removeClass('is-valid')
                                                .addClass(value.length > 0 ? 'is-invalid' : 'is-valid');

                                            id.after(value);

                                        });
                                    } else {
                                        var Toast = Swal.mixin({
                                            toast: true,
                                            position: 'bottom-end',
                                            showConfirmButton: false,
                                            timer: 2000
                                        });
                                        Toast.fire({
                                            icon: 'error',
                                            title: response.messages
                                        })

                                    }
                                }
                                $('#atoCirurgicoMatMedEditForm-btn').html('Salvar');
                            }
                        });

                        return false;
                    }
                });
                $('#atoCirurgicoMatMedEditForm').validate();

            }
        });
    }

    function removeatoCirurgicoMatMed(codAtoCirurgicoMatMed) {
        Swal.fire({
            title: 'Você tem certeza que deseja remover?',
            text: "Você não poderá reverter após a confirmação",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {
                $.ajax({
                    url: '<?php echo base_url('atoCirurgicoMatMed/remove') ?>',
                    type: 'post',
                    data: {
                        codAtoCirurgicoMatMed: codAtoCirurgicoMatMed,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    dataType: 'json',
                    success: function(response) {

                        if (response.success === true) {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {
                                $('#data_tableatoCirurgicoMat').DataTable().ajax.reload(null, false).draw(false);
                                $('#data_tableatoCirurgicoMed').DataTable().ajax.reload(null, false).draw(false);
                                $('#data_tableatoCirurgicoOPME').DataTable().ajax.reload(null, false).draw(false);
                            })
                        } else {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'error',
                                title: response.messages
                            })


                        }
                    }
                });
            }
        })
    }


    function addatoCirurgicoProcedimentos(codAtoCirurgico) {
        // reset the form
        $("#atoCirurgicoProcedimentosAddForm")[0].reset();
        $(".form-control").removeClass('is-invalid').removeClass('is-valid');
        $('#atoCirurgicoProcedimentosAddModal').modal('show');
        $("#atoCirurgicoProcedimentosAddForm #codAtoCirurgico").val(codAtoCirurgico);

        codTabelaRef = 0;

        $('#atoCirurgicoProcedimentosAddForm #codProcedimentoAtoCirurgico').html('').select2({
            data: [{
                id: null,
                text: ''
            }]
        });
        $('#atoCirurgicoProcedimentosAddForm #codTecnicaAtoCirurgico').html('').select2({
            data: [{
                id: null,
                text: ''
            }]
        });
        $('#atoCirurgicoProcedimentosAddForm #codAcomodacaoAtoCirurgico').html('').select2({
            data: [{
                id: null,
                text: ''
            }]
        });

        $('#atoCirurgicoProcedimentosAddForm #codTabelaRefAtoCirurgico').html('').select2({
            data: [{
                id: null,
                text: ''
            }]
        });


        $.ajax({
            url: '<?php echo base_url('atoCirurgicoProcedimentos/listaDropDownTabelaRef') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                codPaciente: codPacienteTmp,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(TabelaRefAtoCirurgico) {

                $("#atoCirurgicoProcedimentosAddForm #codTabelaRefAtoCirurgico").select2({
                    data: TabelaRefAtoCirurgico.lista,

                })

                codTabelaRef = TabelaRefAtoCirurgico.codTabelaRef;


                $('#atoCirurgicoProcedimentosAddForm #codTabelaRefAtoCirurgico').val(TabelaRefAtoCirurgico.codTabelaRef);
                $('#atoCirurgicoProcedimentosAddForm #codTabelaRefAtoCirurgico').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });

            }
        })


        $.ajax({
            url: '<?php echo base_url('atoCirurgicoProcedimentos/listaDropDownTecnica') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(tecnica) {

                $("#atoCirurgicoProcedimentosAddForm #codTecnicaAtoCirurgico").select2({
                    data: tecnica,

                })
                $('#atoCirurgicoProcedimentosAddForm #codTecnicaAtoCirurgico').val(null);
                $('#atoCirurgicoProcedimentosAddForm #codTecnicaAtoCirurgico').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });

            }
        })

        $.ajax({
            url: '<?php echo base_url('atoCirurgicoProcedimentos/listaDropDownAcomodacoes') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(acomodacoes) {

                $("#atoCirurgicoProcedimentosAddForm #codAcomodacaoAtoCirurgico").select2({
                    data: acomodacoes,

                })
                $('#atoCirurgicoProcedimentosAddForm #codAcomodacaoAtoCirurgico').val(null);
                $('#atoCirurgicoProcedimentosAddForm #codAcomodacaoAtoCirurgico').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });

            }
        })


        $("#atoCirurgicoProcedimentosAddForm #codTabelaRefAtoCirurgico").on("change", function() {


            if ($('#atoCirurgicoProcedimentosAddForm #codTabelaRefAtoCirurgico').val() !== null && $('#codTabelaRefAtoCirurgico').val() !== '') {
                $.ajax({
                    url: '<?php echo base_url('atoCirurgicoProcedimentos/listaDropDownProcedimentos') ?>',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        codTabelaRef: $('#atoCirurgicoProcedimentosAddForm #codTabelaRefAtoCirurgico').val(),
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    success: function(ProcedimentoAddAtoCirurgico) {



                        $('#atoCirurgicoProcedimentosAddForm #codProcedimentoAtoCirurgico').html('').select2({
                            data: [{
                                id: null,
                                text: ''
                            }]
                        });


                        $("#atoCirurgicoProcedimentosAddForm #codProcedimentoAtoCirurgico").select2({
                            data: ProcedimentoAddAtoCirurgico,
                            minimumInputLength: 3,
                            quietMillis: 1000,
                            dropdownParent: $('#atoCirurgicoProcedimentosAddModal .modal-content'),
                            allowClear: true,
                            placeholder: 'Procurar Procedimento',

                        })

                    }
                })
            }
        });


        // submit the add from
        $.validator.setDefaults({
            highlight: function(element) {
                $(element).addClass('is-invalid').removeClass('is-valid');
            },
            unhighlight: function(element) {
                $(element).removeClass('is-invalid').addClass('is-valid');
            },
            errorElement: 'div ',
            errorClass: 'invalid-feedback',
            errorPlacement: function(error, element) {
                if (element.parent('.input-group').length) {
                    error.insertAfter(element.parent());
                } else if ($(element).is('.select')) {
                    element.next().after(error);
                } else if (element.hasClass('select2')) {
                    //error.insertAfter(element);
                    error.insertAfter(element.next());
                } else if (element.hasClass('viaAcesso')) {

                    Swal.fire({
                        title: 'Selecione uma via de acesso!',
                        icon: 'warning',
                        showCancelButton: false,
                        confirmButtonText: 'OK',
                    })

                } else if (element.hasClass('classificacaoProcedimento')) {

                    Swal.fire({
                        title: 'Informe se é o procedimento principal ou secundário',
                        icon: 'warning',
                        showCancelButton: false,
                        confirmButtonText: 'OK',
                    })

                } else if (element.hasClass('selectpicker')) {
                    error.insertAfter(element.next());
                } else {
                    error.insertAfter(element);
                }
            },

            submitHandler: function(form) {


                var form = $('#atoCirurgicoProcedimentosAddForm');
                // remove the text-danger
                $(".text-danger").remove();

                $.ajax({
                    url: '<?php echo base_url('atoCirurgicoProcedimentos/add') ?>',
                    type: 'post',
                    data: form.serialize(), // /converting the form data into array and sending it to server
                    dataType: 'json',
                    beforeSend: function() {
                        //$('#atoCirurgicoProcedimentosAddForm-btn').html('<i class="fa fa-spinner fa-spin"></i>');
                    },
                    success: function(response) {

                        if (response.success === true) {

                            $('#atoCirurgicoProcedimentosAddModal').modal('hide');
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {
                                $('#data_tableatoCirurgicoProcedimentos').DataTable().ajax.reload(null, false).draw(false);
                            })

                        } else {

                            if (response.messages instanceof Object) {
                                $.each(response.messages, function(index, value) {
                                    var id = $("#" + index);

                                    id.closest('.form-control')
                                        .removeClass('is-invalid')
                                        .removeClass('is-valid')
                                        .addClass(value.length > 0 ? 'is-invalid' : 'is-valid');

                                    id.after(value);

                                });
                            } else {

                                var Toast = Swal.mixin({
                                    toast: true,
                                    position: 'bottom-end',
                                    showConfirmButton: false,
                                    timer: 2000
                                });
                                Toast.fire({
                                    icon: 'error',
                                    title: response.messages
                                })

                            }
                        }
                        $('#atoCirurgicoProcedimentosAddForm-btn').html('Adicionar');
                    }
                });

                return false;
            }
        });
        $('#atoCirurgicoProcedimentosAddForm').validate();
    }


    function editatoCirurgicoProcedimentos(codAtoCirurgicoProcedimento) {
        $.ajax({
            url: '<?php echo base_url('atoCirurgicoProcedimentos/getOne') ?>',
            type: 'post',
            data: {
                codAtoCirurgicoProcedimento: codAtoCirurgicoProcedimento,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            dataType: 'json',
            success: function(response) {
                // reset the form
                $("#atoCirurgicoProcedimentosEditForm")[0].reset();
                $(".form-control").removeClass('is-invalid').removeClass('is-valid');
                $('#atoCirurgicoProcedimentosEditModal').modal('show');

                $("#atoCirurgicoProcedimentosEditForm #codAtoCirurgicoProcedimento").val(response.codAtoCirurgicoProcedimento);
                $("#atoCirurgicoProcedimentosEditForm #codAtoCirurgico").val(response.codAtoCirurgico);
                $("#atoCirurgicoProcedimentosEditForm #qtde").val(response.qtde);
                $("#atoCirurgicoProcedimentosEditForm #observacao").val(response.observacao);
                $("#atoCirurgicoProcedimentosEditForm #dataInicioProcedimento").val(response.dataInicio);
                $("#atoCirurgicoProcedimentosEditForm #dataEncerramentoProcedimento").val(response.dataEncerramento);
                $("#atoCirurgicoProcedimentosEditForm #filmeRadiologico").val(response.filme);


                if (response.viaAcesso == 1) {
                    $("#atoCirurgicoProcedimentosEditForm #viaAcessoPrincipalEdit").attr("checked", "checked");
                } else {

                    $("#atoCirurgicoProcedimentosEditForm #viaAcessoSecundarioEdit").attr("checked", "checked");
                }

                if (response.classificacaoProcedimento == 1) {
                    $("#atoCirurgicoProcedimentosEditForm #procedimentoPrincipalEdit").attr("checked", "checked");
                } else {
                    $("#atoCirurgicoProcedimentosEditForm #procedimentoSecundarioEdit").attr("checked", "checked");
                }


                $.ajax({
                    url: '<?php echo base_url('atoCirurgicoProcedimentos/listaDropDownTabelaRef') ?>',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        codPaciente: codPacienteTmp,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    success: function(TabelaRefAtoCirurgico) {

                        $("#atoCirurgicoProcedimentosEditForm #codTabelaRefAtoCirurgico").select2({
                            data: TabelaRefAtoCirurgico.lista,

                        })

                        $('#atoCirurgicoProcedimentosEditForm #codTabelaRefAtoCirurgico').val(response.codTabelaRef);
                        $('#atoCirurgicoProcedimentosEditForm #codTabelaRefAtoCirurgico').trigger('change');
                        $(document).on('select2:open', () => {
                            document.querySelector('.select2-search__field').focus();
                        });

                    }
                })


                $.ajax({
                    url: '<?php echo base_url('atoCirurgicoProcedimentos/listaDropDownTecnica') ?>',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    success: function(tecnica) {

                        $("#atoCirurgicoProcedimentosEditForm #codTecnicaAtoCirurgico").select2({
                            data: tecnica,

                        })
                        $('#atoCirurgicoProcedimentosEditForm #codTecnicaAtoCirurgico').val(response.codTecnica);
                        $('#atoCirurgicoProcedimentosEditForm #codTecnicaAtoCirurgico').trigger('change');
                        $(document).on('select2:open', () => {
                            document.querySelector('.select2-search__field').focus();
                        });

                    }
                })

                $.ajax({
                    url: '<?php echo base_url('atoCirurgicoProcedimentos/listaDropDownAcomodacoes') ?>',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    success: function(acomodacoes) {

                        $("#atoCirurgicoProcedimentosEditForm #codAcomodacaoAtoCirurgico").select2({
                            data: acomodacoes,

                        })
                        $('#atoCirurgicoProcedimentosEditForm #codAcomodacaoAtoCirurgico').val(response.codAcomodacao);
                        $('#atoCirurgicoProcedimentosEditForm #codAcomodacaoAtoCirurgico').trigger('change');
                        $(document).on('select2:open', () => {
                            document.querySelector('.select2-search__field').focus();
                        });

                    }
                })



                $.ajax({
                    url: '<?php echo base_url('atoCirurgicoProcedimentos/listaDropDownProcedimentos') ?>',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        codTabelaRef: response.codTabelaRef,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    success: function(listaProcedimentos) {

                        $('#atoCirurgicoProcedimentosEditForm #codProcedimentoAtoCirurgico').html('').select2({
                            data: [{
                                id: null,
                                text: ''
                            }]
                        });

                        $("#atoCirurgicoProcedimentosEditForm #codProcedimentoAtoCirurgico").select2({
                            data: listaProcedimentos,
                            minimumInputLength: 3,
                            quietMillis: 1000,
                            dropdownParent: $('#atoCirurgicoProcedimentosEditModal .modal-content'),
                            allowClear: true,
                            placeholder: 'Procurar Procedimento',

                        });
                        $('#atoCirurgicoProcedimentosEditForm #codProcedimentoAtoCirurgico').val(response.codProcedimento);
                        $('#atoCirurgicoProcedimentosEditForm #codProcedimentoAtoCirurgico').trigger('change');
                        $(document).on('select2:open', () => {
                            document.querySelector('.select2-search__field').focus();
                        });

                    }
                })



                $("#atoCirurgicoProcedimentosEditForm #codTabelaRefAtoCirurgico").on("change", function() {


                    if ($('#atoCirurgicoProcedimentosEditForm #codTabelaRefAtoCirurgico').val() !== response.codTabelaRef && $('#atoCirurgicoProcedimentosEditForm #codTabelaRefAtoCirurgico').val() !== null && $('#atoCirurgicoProcedimentosEditForm #codTabelaRefAtoCirurgico').val() !== '') {
                        $.ajax({
                            url: '<?php echo base_url('atoCirurgicoProcedimentos/listaDropDownProcedimentos') ?>',
                            type: 'post',
                            dataType: 'json',
                            data: {
                                codTabelaRef: $('#atoCirurgicoProcedimentosEditForm #codTabelaRefAtoCirurgico').val(),
                                csrf_sandra: $("#atoCirurgicoProcedimentosEditForm #csrf_sandraPrincipal").val(),
                            },
                            success: function(ProcedimentoAddAtoCirurgico) {



                                $('#atoCirurgicoProcedimentosEditForm #codProcedimentoAtoCirurgico').html('').select2({
                                    data: [{
                                        id: null,
                                        text: ''
                                    }]
                                });


                                $("#atoCirurgicoProcedimentosEditForm #codProcedimentoAtoCirurgico").select2({
                                    data: ProcedimentoAddAtoCirurgico,
                                    minimumInputLength: 3,
                                    quietMillis: 1000,
                                    dropdownParent: $('#atoCirurgicoProcedimentosEditModal .modal-content'),
                                    allowClear: true,
                                    placeholder: 'Procurar Procedimento',

                                });
                                $('#atoCirurgicoProcedimentosEditForm #codProcedimentoAtoCirurgico').val(response.codProcedimento);
                                $('#atoCirurgicoProcedimentosEditForm #codProcedimentoAtoCirurgico').trigger('change');
                                $(document).on('select2:open', () => {
                                    document.querySelector('.select2-search__field').focus();
                                });

                            }
                        })
                    }
                });

                // submit the edit from
                $.validator.setDefaults({
                    highlight: function(element) {
                        $(element).addClass('is-invalid').removeClass('is-valid');
                    },
                    unhighlight: function(element) {
                        $(element).removeClass('is-invalid').addClass('is-valid');
                    },
                    errorElement: 'div ',
                    errorClass: 'invalid-feedback',
                    errorPlacement: function(error, element) {
                        if (element.parent('.input-group').length) {
                            error.insertAfter(element.parent());
                        } else if ($(element).is('.select')) {
                            element.next().after(error);
                        } else if (element.hasClass('select2')) {
                            //error.insertAfter(element);
                            error.insertAfter(element.next());
                        } else if (element.hasClass('viaAcesso')) {

                            Swal.fire({
                                title: 'Selecione uma via de acesso!',
                                icon: 'warning',
                                showCancelButton: false,
                                confirmButtonText: 'OK',
                            })

                        } else if (element.hasClass('classificacaoProcedimento')) {

                            Swal.fire({
                                title: 'Informe se é o procedimento principal ou secundário',
                                icon: 'warning',
                                showCancelButton: false,
                                confirmButtonText: 'OK',
                            })

                        } else if (element.hasClass('selectpicker')) {
                            error.insertAfter(element.next());
                        } else {
                            error.insertAfter(element);
                        }
                    },

                    submitHandler: function(form) {
                        var form = $('#atoCirurgicoProcedimentosEditForm');
                        $(".text-danger").remove();
                        $.ajax({
                            url: '<?php echo base_url('atoCirurgicoProcedimentos/edit') ?>',
                            type: 'post',
                            data: form.serialize(),
                            dataType: 'json',
                            beforeSend: function() {
                                //$('#atoCirurgicoProcedimentosEditForm-btn').html('<i class="fa fa-spinner fa-spin"></i>');
                            },
                            success: function(response) {

                                if (response.success === true) {

                                    $('#atoCirurgicoProcedimentosEditModal').modal('hide');


                                    var Toast = Swal.mixin({
                                        toast: true,
                                        position: 'bottom-end',
                                        showConfirmButton: false,
                                        timer: 2000
                                    });
                                    Toast.fire({
                                        icon: 'success',
                                        title: response.messages
                                    }).then(function() {
                                        $('#data_tableatoCirurgicoProcedimentos').DataTable().ajax.reload(null, false).draw(false);
                                    })

                                } else {

                                    if (response.messages instanceof Object) {
                                        $.each(response.messages, function(index, value) {
                                            var id = $("#" + index);

                                            id.closest('.form-control')
                                                .removeClass('is-invalid')
                                                .removeClass('is-valid')
                                                .addClass(value.length > 0 ? 'is-invalid' : 'is-valid');

                                            id.after(value);

                                        });
                                    } else {
                                        var Toast = Swal.mixin({
                                            toast: true,
                                            position: 'bottom-end',
                                            showConfirmButton: false,
                                            timer: 2000
                                        });
                                        Toast.fire({
                                            icon: 'error',
                                            title: response.messages
                                        })

                                    }
                                }
                                $('#atoCirurgicoProcedimentosEditForm-btn').html('Salvar');
                            }
                        });

                        return false;
                    }
                });
                $('#atoCirurgicoProcedimentosEditForm').validate();

            }
        });
    }

    function removeatoCirurgicoProcedimentos(codAtoCirurgicoProcedimento) {
        Swal.fire({
            title: 'Você tem certeza que deseja remover?',
            text: "Você não poderá reverter após a confirmação",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {
                $.ajax({
                    url: '<?php echo base_url('atoCirurgicoProcedimentos/remove') ?>',
                    type: 'post',
                    data: {
                        codAtoCirurgicoProcedimento: codAtoCirurgicoProcedimento,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    dataType: 'json',
                    success: function(response) {

                        if (response.success === true) {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {
                                $('#data_tableatoCirurgicoProcedimentos').DataTable().ajax.reload(null, false).draw(false);
                            })
                        } else {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'error',
                                title: response.messages
                            })


                        }
                    }
                });
            }
        })
    }

    function addatoCirurgicoMembros(codAtoCirurgico) {
        // reset the form
        $("#atoCirurgicoMembrosAddForm")[0].reset();
        $(".form-control").removeClass('is-invalid').removeClass('is-valid');
        $('#atoCirurgicoMembrosAddModal').modal('show');
        $("#atoCirurgicoMembrosAddForm #codAtoCirurgico").val(codAtoCirurgico);


        var membros = "";

        $.ajax({
            url: '<?php echo base_url('atoCirurgicoMembros/pegaMembros') ?>',
            type: 'post',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            dataType: 'json',
            success: function(response) {
                membros = response.membros;
                autocomplete(document.getElementById("nomeMembroAtoCirurgico"), JSON.parse(membros));
            }

        })



        var conselhos = "";

        $.ajax({
            url: '<?php echo base_url('atoCirurgicoMembros/pegaConselhos') ?>',
            type: 'post',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            dataType: 'json',
            success: function(response) {
                conselhos = response.conselhos;
                autocomplete(document.getElementById("conselhoMembroAtoCirurgico"), JSON.parse(conselhos));
            }

        })


        $.ajax({
            url: '<?php echo base_url('atoCirurgicoMembros/listaDropDownFuncoes') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(codFuncaoMembro) {

                $("#codFuncaoMembro").select2({
                    data: codFuncaoMembro,
                })

                $('#codFuncaoMembro').val(null);
                $('#codFuncaoMembro').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });



            }
        })


        $.ajax({
            url: '<?php echo base_url('especialidades/listaDropDownEstadosFederacao') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(codEstadoFederacaoMembro) {

                $("#codEstadoFederacaoMembro").select2({
                    data: codEstadoFederacaoMembro,
                })

                $('#codEstadoFederacaoMembro').val(null);
                $('#codEstadoFederacaoMembro').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });



            }
        })



        $('#conselhoMembroAtoCirurgico').on('click', function() {

            $.ajax({
                url: '<?php echo base_url('atoCirurgicoMembros/pegaDadosMembro') ?>',
                type: 'post',
                data: {
                    nomeMembroAtoCirurgico: $('#nomeMembroAtoCirurgico').val(),
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },
                dataType: 'json',
                success: function(response) {

                    $('#codEstadoFederacaoMembro').val(response.codEstadoFederacao);
                    $('#codEstadoFederacaoMembro').trigger('change');

                    $('#conselhoMembroAtoCirurgico').val(response.conselhoMembro);
                    $('#inscricaoMembro').val(response.inscricaoMembro);




                }

            })
        });


        // submit the add from
        $.validator.setDefaults({
            highlight: function(element) {
                $(element).addClass('is-invalid').removeClass('is-valid');
            },
            unhighlight: function(element) {
                $(element).removeClass('is-invalid').addClass('is-valid');
            },
            errorElement: 'div ',
            errorClass: 'invalid-feedback',
            errorPlacement: function(error, element) {
                if (element.parent('.input-group').length) {
                    error.insertAfter(element.parent());
                } else if ($(element).is('.select')) {
                    element.next().after(error);
                } else if (element.hasClass('select2')) {
                    //error.insertAfter(element);
                    error.insertAfter(element.next());
                } else if (element.hasClass('selectpicker')) {
                    error.insertAfter(element.next());
                } else {
                    error.insertAfter(element);
                }
            },

            submitHandler: function(form) {

                var form = $('#atoCirurgicoMembrosAddForm');
                // remove the text-danger
                $(".text-danger").remove();

                $.ajax({
                    url: '<?php echo base_url('atoCirurgicoMembros/add') ?>',
                    type: 'post',
                    data: form.serialize(), // /converting the form data into array and sending it to server
                    dataType: 'json',
                    beforeSend: function() {
                        //$('#atoCirurgicoMembrosAddForm-btn').html('<i class="fa fa-spinner fa-spin"></i>');
                    },
                    success: function(response) {

                        if (response.success === true) {
                            $('#atoCirurgicoMembrosAddModal').modal('hide');

                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {
                                $('#data_tableatoCirurgicoMembros').DataTable().ajax.reload(null, false).draw(false);
                            })

                        } else {

                            if (response.messages instanceof Object) {
                                $.each(response.messages, function(index, value) {
                                    var id = $("#" + index);

                                    id.closest('.form-control')
                                        .removeClass('is-invalid')
                                        .removeClass('is-valid')
                                        .addClass(value.length > 0 ? 'is-invalid' : 'is-valid');

                                    id.after(value);

                                });
                            } else {

                                var Toast = Swal.mixin({
                                    toast: true,
                                    position: 'bottom-end',
                                    showConfirmButton: false,
                                    timer: 2000
                                });
                                Toast.fire({
                                    icon: 'error',
                                    title: response.messages
                                })

                            }
                        }
                        $('#atoCirurgicoMembrosAddForm-btn').html('Adicionar');
                    }
                });

                return false;
            }
        });
        $('#atoCirurgicoMembrosAddForm').validate();
    }


    function removeatoCirurgicoMembros(codAtoCirurgicoMembro) {
        Swal.fire({
            title: 'Você tem certeza que deseja remover?',
            text: "Você não poderá reverter após a confirmação",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {
                $.ajax({
                    url: '<?php echo base_url('atoCirurgicoMembros/remove') ?>',
                    type: 'post',
                    data: {
                        codAtoCirurgicoMembro: codAtoCirurgicoMembro,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    dataType: 'json',
                    success: function(response) {

                        if (response.success === true) {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {
                                $('#data_tableatoCirurgicoMembros').DataTable().ajax.reload(null, false).draw(false);
                            })
                        } else {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'error',
                                title: response.messages
                            })


                        }
                    }
                });
            }
        })
    }

    function addatoCirurgico(codAtendimento) {
        // reset the form
        $("#atoCirurgicoAddForm")[0].reset();
        $(".form-control").removeClass('is-invalid').removeClass('is-valid');
        $('#atoCirurgicoAddModal').modal('show');
        // submit the add from
        $.validator.setDefaults({
            highlight: function(element) {
                $(element).addClass('is-invalid').removeClass('is-valid');
            },
            unhighlight: function(element) {
                $(element).removeClass('is-invalid').addClass('is-valid');
            },
            errorElement: 'div ',
            errorClass: 'invalid-feedback',
            errorPlacement: function(error, element) {
                if (element.parent('.input-group').length) {
                    error.insertAfter(element.parent());
                } else if ($(element).is('.select')) {
                    element.next().after(error);
                } else if (element.hasClass('select2')) {
                    //error.insertAfter(element);
                    error.insertAfter(element.next());
                } else if (element.hasClass('selectpicker')) {
                    error.insertAfter(element.next());
                } else {
                    error.insertAfter(element);
                }
            },

            submitHandler: function(form) {

                var form = $('#atoCirurgicoAddForm');
                // remove the text-danger
                $(".text-danger").remove();


                $('#atoCirurgicoAddForm #codAtendimento').val(codAtendimento);

                $.ajax({
                    url: '<?php echo base_url('atoCirurgico/add') ?>',
                    type: 'post',
                    data: form.serialize(), // /converting the form data into array and sending it to server
                    dataType: 'json',
                    beforeSend: function() {
                        //$('#atoCirurgicoAddForm-btn').html('<i class="fa fa-spinner fa-spin"></i>');
                    },
                    success: function(response) {

                        if (response.success === true) {
                            $('#atoCirurgicoAddModal').modal('hide');

                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {
                                $('#data_tableatoCirurgico').DataTable().ajax.reload(null, false).draw(false);
                            })

                            editatoCirurgico(response.codAtoCirurgico);


                        } else {

                            if (response.messages instanceof Object) {
                                $.each(response.messages, function(index, value) {
                                    var id = $("#" + index);

                                    id.closest('.form-control')
                                        .removeClass('is-invalid')
                                        .removeClass('is-valid')
                                        .addClass(value.length > 0 ? 'is-invalid' : 'is-valid');

                                    id.after(value);

                                });
                            } else {

                                var Toast = Swal.mixin({
                                    toast: true,
                                    position: 'bottom-end',
                                    showConfirmButton: false,
                                    timer: 2000
                                });
                                Toast.fire({
                                    icon: 'error',
                                    title: response.messages
                                })

                            }
                        }
                        $('#atoCirurgicoAddForm-btn').html('Adicionar');
                    }
                });

                return false;
            }
        });
        $('#atoCirurgicoAddForm').validate();
    }



    function assinaratoCirurgico(codAtoCirurgico) {
        Swal.fire({
            title: 'Você tem certeza que deseja assinar este ato cirúrgico?',
            text: "Você não poderá mais alterar nenhuma informação do ato cirúrgico",
            icon: 'info',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {
                $.ajax({
                    url: '<?php echo base_url('atoCirurgico/assinaratoCirurgico') ?>',
                    type: 'post',
                    data: {
                        codAtoCirurgico: codAtoCirurgico,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    dataType: 'json',
                    success: function(response) {

                        if (response.success === true) {

                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {
                                $('#data_tableatoCirurgico').DataTable().ajax.reload(null, false).draw(false);
                            })
                        } else {

                            Swal.fire({
                                icon: 'error',
                                title: response.messages,
                                showConfirmButton: true,
                                confirmButtonText: 'Ok',
                            })


                        }
                    }
                });
            }
        })
    }



    function imprimiratoCirurgico(codAtoCirurgico) {


        //VERIFICA SE JÁ ASSINADO


        $.ajax({
            url: '<?php echo base_url('atoCirurgico/imprimiratoCirurgico') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                codAtoCirurgico: codAtoCirurgico,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(imprimiratoCirurgico) {

                if (imprimiratoCirurgico.codStatus == 1) {

                    Swal.fire({
                        icon: 'warning',
                        title: 'Só é possível imprimir o ato cirúrgico assinado.',
                        showConfirmButton: true,
                        confirmButtonText: 'Ciente',
                    })


                } else {
                    document.getElementById("atoCirurgicoImpressao").innerHTML = '';
                    document.getElementById("atoCirurgicoImpressao").innerHTML = imprimiratoCirurgico.html;


                    document.getElementById("setEstilo").innerHTML = '<style>@media screen {' +
                        '#printSection {' +
                        'display: none;' +

                        '}' +
                        '}' +

                        '@media print {' +
                        '@page {' +
                        'size: A4;' +
                        'margin-top: 5mm;' +
                        'margin-left: 0mm;' +
                        'margin-bottom: 5mm;' +
                        'margin-right: 0mm;' +
                        '}' +

                        'body>*:not(#printSection) {' +
                        'display: none;' +
                        '}' +

                        '#printSection,' +
                        '#printSection * {' +
                        'visibility: visible;' +

                        '}' +
                        '#printSection {' +
                        'position: absolute;' +
                        'left: 0;' +
                        'top: 0;' +
                        'width: 210mm;' +
                        'height: 297mm;' +

                        '}' +
                        '}</style>';

                    printElement(document.getElementById("areaImpressaoAtoCirurgico"));


                    window.print();

                }


            }
        })



    }

    function editatoCirurgico(codAtoCirurgico) {


        $('#atoCirurgicoEditModal').modal('show');
        document.getElementById("atoCicurgicoEditModalHeader").innerHTML = 'Ato Cirúrgico de ' + nomeCargoTmp + ' ' + nomePacienteTmp + ' | ' + siglaTipoBeneficiarioTmp + ' | ' + idadePacienteTmp + ' | PRONT: ' + codProntuarioTmp + ' | PREC: ' + codPlanoTmp;


        document.getElementById("addbtnatoCirurgicoMembros").innerHTML = '<div class="col-md-2">' +
            '<button type="button" class="btn btn-block btn-primary" data-toggle="tooltip" data-placement="top" title="Adicionar" onclick="addatoCirurgicoMembros(' + codAtoCirurgico + ')" title="Adicionar">Incluir</button>' +
            '</div>';

        document.getElementById("addbtnatoCirurgicoProcedimentos").innerHTML = '<div class="col-md-2">' +
            '<button type="button" class="btn btn-block btn-primary" data-toggle="tooltip" data-placement="top" title="Adicionar" onclick="addatoCirurgicoProcedimentos(' + codAtoCirurgico + ')" title="Adicionar">Incluir</button>' +
            '</div>';

        document.getElementById("addbtnatoCirurgicoMatMed").innerHTML = '<div class="col-md-2">' +
            '<button type="button" class="btn btn-block btn-primary" data-toggle="tooltip" data-placement="top" title="Adicionar" onclick="addatoCirurgicoMatMed(' + codAtoCirurgico + ')" title="Adicionar">Incluir</button>' +
            '</div>';



        $.ajax({
            url: '<?php echo base_url('atoCirurgico/dadosPacienteAtoCirurgico') ?>',
            type: 'post',
            data: {
                codAtoCirurgico: codAtoCirurgico,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            dataType: 'json',
            beforeSend: function() {
                //$('#atoCirurgicoAddForm-btn').html('<i class="fa fa-spinner fa-spin"></i>');
            },
            success: function(response) {


                if (response.success === true) {
                    document.getElementById("dadosPacienteAtoCirurgico").innerHTML = response.html;
                }
            }
        });



        $.ajax({
            url: '<?php echo base_url('atoCirurgico/getOne') ?>',
            type: 'post',
            data: {
                codAtoCirurgico: codAtoCirurgico,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            dataType: 'json',
            success: function(response) {
                // reset the form
                $("#atoCirurgicoRelatorioEditForm")[0].reset();
                $("#atoCirurgicoRelatorioEditForm #descricaoAtoCirurgico").summernote('destroy');

                $(".form-control").removeClass('is-invalid').removeClass('is-valid');

                $("#atoCirurgicoRelatorioEditForm #codAtoCirurgico").val(codAtoCirurgico);
                $("#atoCirurgicoRelatorioEditForm #preOperatorio").val(response.preOperatorio);
                $("#atoCirurgicoRelatorioEditForm #resumoProcedimento").val(response.resumoProcedimento);
                $("#atoCirurgicoRelatorioEditForm #posOperatorio").val(response.posOperatorio);
                $("#atoCirurgicoRelatorioEditForm #intercorrencias").val(response.intercorrencias);

                $.ajax({
                    url: '<?php echo base_url('atoCirurgico/listaDropDownTiposAnestesia') ?>',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    success: function(TipoAnestesia) {

                        $("#atoCirurgicoRelatorioEditForm #codTipoAnestesia").select2({
                            data: TipoAnestesia,

                        })

                        $('#atoCirurgicoRelatorioEditForm #codTipoAnestesia').val(response.codTipoAnestesia);
                        $('#atoCirurgicoRelatorioEditForm #codTipoAnestesia').trigger('change');
                        $(document).on('select2:open', () => {
                            document.querySelector('.select2-search__field').focus();
                        });

                    }
                });



                if (response.descricao == null) {


                    $("#atoCirurgicoRelatorioEditForm #descricaoAtoCirurgico").summernote('code', '<p>1. Paciente com sedação xxxx</p><p>2. Paciente na posição xxxxxxx;</p><p>3. Assepsia + antissepsia com xxxxxxxxxx;</p><p>4. Realizado xxxxxxxxxxxxxxxx;</p><p>5. Revisão exaustiva da hemostasia?????;</p><p>6. Lavagem exaustiva com SF xx,xx%;</p><p>7. Curativo compressivo??????; e</p><p>8. Encaminhado material para cultura com antibiograma e anátomo patológico??????</p>');


                } else {
                    $("#atoCirurgicoRelatorioEditForm #descricaoAtoCirurgico").val(response.descricao);

                }


                $('#descricaoAtoCirurgico').summernote({
                    height: 200,
                    maximumImageFileSize: 1024 * 1024, // 1Mb
                    fontSizes: ['8', '9', '10', '11', '12', '14', '18', '20', '36', '72'],
                    lineHeights: ['0.2', '0.3', '0.4', '0.5', '0.6', '0.8', '1.0', '1.2', '1.4', '1.5', '2.0', '3.0'],
                    toolbar: [
                        ['style', ['style']],
                        ['fontname', ['fontname']],
                        ['font', ['color', 'strikethrough', 'superscript', 'subscript', 'bold', 'underline', 'clear']],
                        ['fontsize', ['fontsize']],
                        ['height', ['height']],
                        ['para', ['ul', 'ol', 'paragraph']],
                        ['table', ['table']],
                        ['insert', ['link', 'hr']],
                        ['view', ['fullscreen', 'codeview', 'help']],
                        ['redo'],
                        ['undo'],
                    ],
                    callbacks: {
                        onImageUploadError: function(msg) {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'top-end',
                                showConfirmButton: false,
                                timer: 5000
                            });
                            Toast.fire({
                                icon: 'error',
                                title: 'Tamanho máximo de imagens é 1Mb'
                            })
                        }
                    }
                });


                $.validator.setDefaults({
                    highlight: function(element) {
                        $(element).addClass('is-invalid').removeClass('is-valid');
                    },
                    unhighlight: function(element) {
                        $(element).removeClass('is-invalid').addClass('is-valid');
                    },
                    errorElement: 'div ',
                    errorClass: 'invalid-feedback',
                    errorPlacement: function(error, element) {
                        if (element.parent('.input-group').length) {
                            error.insertAfter(element.parent());
                        } else if ($(element).is('.select')) {
                            element.next().after(error);
                        } else if (element.hasClass('select2')) {
                            //error.insertAfter(element);
                            error.insertAfter(element.next());
                        } else if (element.hasClass('selectpicker')) {
                            error.insertAfter(element.next());
                        } else {
                            error.insertAfter(element);
                        }
                    },

                    submitHandler: function(form) {
                        var form = $('#atoCirurgicoRelatorioEditForm');
                        $(".text-danger").remove();
                        $.ajax({
                            url: '<?php echo base_url('atoCirurgico/edit') ?>',
                            type: 'post',
                            data: form.serialize(),
                            dataType: 'json',
                            beforeSend: function() {
                                //$('#atoCirurgicoEditForm-btn').html('<i class="fa fa-spinner fa-spin"></i>');
                            },
                            success: function(response) {

                                if (response.success === true) {

                                    var Toast = Swal.mixin({
                                        toast: true,
                                        position: 'bottom-end',
                                        showConfirmButton: false,
                                        timer: 2000
                                    });
                                    Toast.fire({
                                        icon: 'success',
                                        title: response.messages
                                    }).then(function() {})

                                } else {

                                    if (response.messages instanceof Object) {
                                        $.each(response.messages, function(index, value) {
                                            var id = $("#" + index);

                                            id.closest('.form-control')
                                                .removeClass('is-invalid')
                                                .removeClass('is-valid')
                                                .addClass(value.length > 0 ? 'is-invalid' : 'is-valid');

                                            id.after(value);

                                        });
                                    } else {
                                        var Toast = Swal.mixin({
                                            toast: true,
                                            position: 'bottom-end',
                                            showConfirmButton: false,
                                            timer: 2000
                                        });
                                        Toast.fire({
                                            icon: 'error',
                                            title: response.messages
                                        })

                                    }
                                }
                            }
                        });

                        return false;
                    }
                });
                $('#atoCirurgicoRelatorioEditForm').validate();


            }
        })





        $('#data_tableatoCirurgicoMembros').DataTable({
            "bDestroy": true,
            "paging": true,
            "deferRender": true,
            "lengthChange": false,
            "searching": true,
            "ordering": true,
            "info": true,
            "autoWidth": false,
            "responsive": true,
            "ajax": {
                "url": '<?php echo base_url('atoCirurgicoMembros/getAllMembrosAtoCirurgico') ?>',
                "type": "POST",
                "dataType": "json",
                async: "true",
                data: {
                    codAtoCirurgico: codAtoCirurgico,
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },
            }
        });

        $('#data_tableatoCirurgicoProcedimentos').DataTable({
            "bDestroy": true,
            "paging": true,
            "deferRender": true,
            "lengthChange": false,
            "searching": true,
            "ordering": true,
            "info": true,
            "autoWidth": false,
            "responsive": true,
            "ajax": {
                "url": '<?php echo base_url('atoCirurgicoProcedimentos/getAllProcedimentosAtoCirurgico') ?>',
                "type": "POST",
                "dataType": "json",
                async: "true",
                data: {
                    codAtoCirurgico: codAtoCirurgico,
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },
            }
        });


        $('#data_tableatoCirurgicoMat').DataTable({
            "bDestroy": true,
            "paging": true,
            "deferRender": true,
            "lengthChange": false,
            "searching": true,
            "ordering": true,
            "info": true,
            "autoWidth": false,
            "responsive": true,
            "ajax": {
                "url": '<?php echo base_url('atoCirurgicoMatMed/getAllMatMedAtoCirurgico') ?>',
                "type": "POST",
                "dataType": "json",
                async: "true",
                data: {
                    codAtoCirurgico: codAtoCirurgico,
                    tipoItem: 'Mat',
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },
            },
            "drawCallback": function(settings, json) {
                var api = this.api();
                qtdMateriais = api.rows().count();

                document.getElementById("qtdMateriais").innerHTML = qtdMateriais
            }
        });

        $('#data_tableatoCirurgicoMed').DataTable({
            "bDestroy": true,
            "paging": true,
            "deferRender": true,
            "lengthChange": false,
            "searching": true,
            "ordering": true,
            "info": true,
            "autoWidth": false,
            "responsive": true,
            "ajax": {
                "url": '<?php echo base_url('atoCirurgicoMatMed/getAllMatMedAtoCirurgico') ?>',
                "type": "POST",
                "dataType": "json",
                async: "true",
                data: {
                    codAtoCirurgico: codAtoCirurgico,
                    tipoItem: 'Med',
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },
            },
            "drawCallback": function(settings, json) {
                var api = this.api();
                qtdMedicamentos = api.rows().count();

                document.getElementById("qtdMedicamentos").innerHTML = qtdMedicamentos
            }
        });


        $('#data_tableatoCirurgicoOPME').DataTable({
            "bDestroy": true,
            "paging": true,
            "deferRender": true,
            "lengthChange": false,
            "searching": true,
            "ordering": true,
            "info": true,
            "autoWidth": false,
            "responsive": true,
            "ajax": {
                "url": '<?php echo base_url('atoCirurgicoMatMed/getAllMatMedAtoCirurgico') ?>',
                "type": "POST",
                "dataType": "json",
                async: "true",
                data: {
                    codAtoCirurgico: codAtoCirurgico,
                    tipoItem: 'OPME',
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },
            },
            "drawCallback": function(settings, json) {
                var api = this.api();
                qtdOPME = api.rows().count();

                document.getElementById("qtdOPME").innerHTML = qtdOPME
            }
        });

    }



    function removeatoCirurgico(codAtoCirurgico) {
        Swal.fire({
            title: 'Você tem certeza que deseja remover?',
            text: "Você não poderá reverter após a confirmação",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {
                $.ajax({
                    url: '<?php echo base_url('atoCirurgico/remove') ?>',
                    type: 'post',
                    data: {
                        codAtoCirurgico: codAtoCirurgico,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    dataType: 'json',
                    success: function(response) {

                        if (response.success === true) {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {
                                $('#data_tableatoCirurgico').DataTable().ajax.reload(null, false).draw(false);
                            })
                        } else {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'error',
                                title: response.messages
                            })


                        }
                    }
                });
            }
        })
    }

    function showDefinirSala() {




        $('#salaAtendimentoModel').modal('show');





        $.ajax({
            url: '<?php echo base_url('departamentos/listaDropDownDepartamentosAtendimento') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(codSalaAtendimentoAdd) {

                $("#codSalaAtendimentoAdd").select2({
                    data: codSalaAtendimentoAdd,
                })



                if ($('#listaUrgenciaEmergenciaModal').is(':visible') == true) {

                    $('#codSalaAtendimentoAdd').val(13); // PAMO

                } else {

                    $('#codSalaAtendimentoAdd').val('<?php echo session()->codDepartamento ?>');
                }


                $('#codSalaAtendimentoAdd').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });



            }
        })


        $("#codSalaAtendimentoAdd").on("change", function() {



            $('#codLocalAtendimentoAdd').html('').select2({
                data: [{
                    id: null,
                    text: ''
                }]
            });

            if ($(this).val() !== '') {
                codDepartamento = $(this).val();
            } else {
                codDepartamento = 0;
            }

            $.ajax({
                url: '<?php echo base_url('atendimentosLocais/listaDropDownAtivos') ?>',
                type: 'post',
                dataType: 'json',
                data: {
                    codDepartamento: codDepartamento,
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },

                success: function(codLocalAtendimentoAdd) {

                    $("#codLocalAtendimentoAdd").select2({
                        data: codLocalAtendimentoAdd,
                    })



                }
            })


        });




    }

    function printElement(elem) {
        var domClone = elem.cloneNode(true);

        var $printSection = document.getElementById("printSection");

        if (!$printSection) {
            var $printSection = document.createElement("div");
            $printSection.id = "printSection";
            document.body.appendChild($printSection);
        }

        $printSection.innerHTML = "";

        $printSection.appendChild(domClone);
    }



    function trocarFoto() {
        $('#tiraFotoModal').modal('show');

        Webcam.set({
            width: 320,
            height: 240,
            image_format: 'jpeg',
            jpeg_quality: 90
        });
        Webcam.attach('#minhaFoto');


    }

    function agendadosAmbulatorio() {
        $('#agendadosAmbulatorioModal').modal('show');


        avisoPesquisa('Agendamento', 5);

        $('#data_tableagendamentos').DataTable({

            "bDestroy": true,
            "paging": true,
            "deferRender": true,
            "lengthChange": false,
            "searching": true,
            "ordering": false,
            "info": true,
            "autoWidth": false,
            "responsive": true,
            "ajax": {
                "url": '<?php echo base_url('agendamentos/marcados') ?>',
                "type": "POST",
                "dataType": "json",
                async: "true",
                data: {
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },
            }
        })


        $.ajax({
            url: '<?php echo base_url('especialidades/listaDropDownEspecialidadesDisponivelMarcacao') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(especialidadesAdm) {

                $("#codEspecialidadeAgendadosAdd").select2({
                    data: especialidadesAdm,
                })

                $('#codEspecialidadeAgendadosAdd').val(codEspecialidade);
                $('#codEspecialidadeAgendadosAdd').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });



            }
        });



        $.ajax({
            url: '<?php echo base_url('especialidades/listaDropDownEspecialistasDisponivelMarcacao') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(EspecialistasAdd) {

                $("#codEspecialistaAgendadosAdd").select2({
                    data: EspecialistasAdd,
                })

                $('#codEspecialistaAgendadosAdd').val(codEspecialista);
                $('#codEspecialistaAgendadosAdd').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });


            }
        })






        $.ajax({
            url: '<?php echo base_url('agendamentos/verificaSala') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(verificacaoSala) {

                if (verificacaoSala.success === true) {
                    document.getElementById("botaoSala").innerHTML = verificacaoSala.botao;
                    document.getElementById("nomeLocalAtendimento").innerHTML = 'LOCAL DE ATENDIMENTO: ' + verificacaoSala.nomeLocalAtendimento;

                }
            }
        })




        setInterval(function() {

            if ($('#agendadosAmbulatorioModal').is(':visible') == true) {
                $('#data_tableagendamentos').DataTable().ajax.reload(null, false).draw(false);

            }
        }, 30000);


    }


    function listaInternados() {
        $('#listaInternadosModal').modal('show');

        avisoPesquisa('Internação', 3);

        unidadeInternacaoTmp = 0;

        $.ajax({
            url: '<?php echo base_url('departamentos/listaDropDownUnidadesInternacao') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(listaunidadeInternacao) {

                $("#unidadeInternacaoList").select2({
                    data: listaunidadeInternacao,
                })

                $('#unidadeInternacaoList').val(0);
                $('#unidadeInternacaoList').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });



            }
        })




        $('#data_tableListarInternados').DataTable({

            "bDestroy": true,
            "pageLength": 20,
            "paging": true,
            "deferRender": true,
            "lengthChange": false,
            "searching": true,
            "ordering": false,
            "info": true,
            "autoWidth": false,
            "responsive": true,
            "ajax": {
                "url": '<?php echo base_url('atendimentos/pacientesInternados') ?>',
                "type": "POST",
                "dataType": "json",
                async: "true",
                data: {
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },

            }
        })


        setInterval(function() {
            $('#data_tableListarInternados').DataTable().ajax.reload(null, false).draw(false);

            //chama o painel de chamada


        }, 60000);



    }



    function verificarDisponibilidadeLeitos() {


        $('#data_situacaoLeitos').DataTable({

            "bDestroy": true,
            "paging": true,
            "pageLength": 50,
            "deferRender": true,
            "lengthChange": false,
            "searching": true,
            "ordering": true,
            "info": true,
            "autoWidth": true,
            "responsive": true,
            createdRow: function(row, data, dataIndex) {
                if (data[4].trim() == 'EM MANUTENÇÃO') {
                    $(row).css({
                        "background-color": "#f3a40dc9",
                        "color": "#fff"
                    });
                    $(row).addClass('sub-needed');
                }
                if (data[4].trim() == 'LIVRE') {
                    $(row).css({
                        "background-color": "#3498db5e",
                        "color": "#fff"
                    });
                    $(row).addClass('sub-needed');
                }
                if (data[4].trim() == 'OCUPADO') {
                    $(row).css({
                        "background-color": "#ff1800",
                        "color": "#fff"
                    });
                    $(row).addClass('sub-needed');
                }

            },
            "ajax": {
                "url": '<?php echo base_url('atendimentos/situacaoLeitos') ?>',
                "type": "POST",
                "dataType": "json",
                async: "true",
                data: {
                    codAtendimento: codAtendimentoTmp,
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },
            }
        })


    }

    function verificarInternados() {

        $('#data_tableListarInternados').DataTable({

            "bDestroy": true,
            "pageLength": 20,
            "paging": true,
            "deferRender": true,
            "lengthChange": false,
            "searching": true,
            "ordering": false,
            "info": true,
            "autoWidth": false,
            "responsive": true,
            "ajax": {
                "url": '<?php echo base_url('atendimentos/pacientesInternados') ?>',
                "type": "POST",
                "dataType": "json",
                async: "true",
                data: {
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },

            }
        })
    }


    function listaUrgenciaEmergencia() {
        $('#listaUrgenciaEmergenciaModal').modal('show');

        avisoPesquisa('Prontuário Eletrônico', 6);

        $.ajax({
            url: '<?php echo base_url('atendimentos/verificaSala') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(verificacaoSala) {

                if (verificacaoSala.success === true) {
                    document.getElementById("botaoSalaUrgenciaEmergencia").innerHTML = verificacaoSala.botao;
                    if (verificacaoSala.nomeLocalAtendimento.length > 1) {
                        document.getElementById("nomeLocalAtendimentoUrgenciaEmergencia").innerHTML = 'URGÊNCIA/EMERGÊNCIA (' + verificacaoSala.nomeLocalAtendimento + ')';
                    } else {
                        document.getElementById("nomeLocalAtendimentoUrgenciaEmergencia").innerHTML = 'URGÊNCIA/EMERGÊNCIA';
                    }

                }
            }
        })





        $('#data_tableListarUrgenciaEmergenciaAcolhimento').DataTable({

            "bDestroy": true,
            "pageLength": 20,
            "paging": true,
            "deferRender": true,
            "lengthChange": false,
            "searching": true,
            "ordering": false,
            "info": true,
            "autoWidth": false,
            "responsive": true,
            createdRow: function(row, data, dataIndex) {
                //NÃO URGENCIA

                if (data[1].trim() == 1) {
                    $(row).css({
                        "background-color": "#3498db5e",
                        "color": "#fff"
                    });
                    $(row).addClass('sub-needed');
                }

                //POUCO URGENCIA
                if (data[1].trim() == 2) {
                    $(row).css({
                        "background-color": "#c9ffad",
                        "color": "#000"
                    });
                    $(row).addClass('sub-needed');
                }
                //URGENCIA
                if (data[1].trim() == 3) {
                    $(row).css({
                        "background-color": "#ffc1079e",
                        "color": "#000"
                    });
                    $(row).addClass('sub-needed');
                }
                //EMERGÊNCIA
                if (data[1].trim() == 4) {
                    $(row).css({
                        "background-color": "#fd7e14",
                        "color": "#fff"
                    });
                    $(row).addClass('sub-needed');
                }
                //EMERGÊNCIA
                if (data[1].trim() == 5) {
                    $(row).css({
                        "background-color": "#ff1800",
                        "color": "#fff"
                    });
                    $(row).addClass('sub-needed');
                }

            },
            "ajax": {
                "url": '<?php echo base_url('atendimentos/pacientesUrgenciaEmergenciaAcolhimento') ?>',
                "type": "POST",
                "dataType": "json",
                async: "true",
                data: {
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },

            },
            "drawCallback": function(settings, json) {
                var api = this.api();
                var qtdPendente = api.rows().count();
                document.getElementById("qtdAcolhimento").innerHTML = qtdPendente
            }
        })





        $('#data_tableListarUrgenciaEmergenciaEmAtendimento').DataTable({

            "bDestroy": true,
            "pageLength": 100,
            "paging": true,
            "deferRender": true,
            "lengthChange": false,
            "searching": true,
            "ordering": false,
            "info": true,
            "autoWidth": false,
            "responsive": true,
            createdRow: function(row, data, dataIndex) {
                //NÃO URGENCIA

                if (data[1].trim() == 1) {
                    $(row).css({
                        "background-color": "#3498db5e",
                        "color": "#fff"
                    });
                    $(row).addClass('sub-needed');
                }

                //POUCO URGENCIA
                if (data[1].trim() == 2) {
                    $(row).css({
                        "background-color": "#c9ffad",
                        "color": "#000"
                    });
                    $(row).addClass('sub-needed');
                }
                //URGENCIA
                if (data[1].trim() == 3) {
                    $(row).css({
                        "background-color": "#ffc1079e",
                        "color": "#000"
                    });
                    $(row).addClass('sub-needed');
                }
                //EMERGÊNCIA
                if (data[1].trim() == 4) {
                    $(row).css({
                        "background-color": "#fd7e14",
                        "color": "#fff"
                    });
                    $(row).addClass('sub-needed');
                }
                //EMERGÊNCIA
                if (data[1].trim() == 5) {
                    $(row).css({
                        "background-color": "#ff1800",
                        "color": "#fff"
                    });
                    $(row).addClass('sub-needed');
                }

            },
            "ajax": {
                "url": '<?php echo base_url('atendimentos/pacientesUrgenciaEmergenciaEmAtendimento') ?>',
                "type": "POST",
                "dataType": "json",
                async: "true",
                data: {
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },

            },
            "drawCallback": function(settings, json) {
                var api = this.api();
                var qtdPendente = api.rows().count();
                document.getElementById("qtdEmAtendimento").innerHTML = qtdPendente
            }
        })


        $('#data_tableListarUrgenciaEmergenciaMeusPacientes').DataTable({

            "bDestroy": true,
            "pageLength": 20,
            "paging": true,
            "deferRender": true,
            "lengthChange": false,
            "searching": true,
            "ordering": false,
            "info": true,
            "autoWidth": false,
            "responsive": true,
            createdRow: function(row, data, dataIndex) {
                //NÃO URGENCIA

                if (data[1].trim() == 1) {
                    $(row).css({
                        "background-color": "#3498db5e",
                        "color": "#fff"
                    });
                    $(row).addClass('sub-needed');
                }

                //POUCO URGENCIA
                if (data[1].trim() == 2) {
                    $(row).css({
                        "background-color": "#c9ffad",
                        "color": "#000"
                    });
                    $(row).addClass('sub-needed');
                }
                //URGENCIA
                if (data[1].trim() == 3) {
                    $(row).css({
                        "background-color": "#ffc1079e",
                        "color": "#000"
                    });
                    $(row).addClass('sub-needed');
                }
                //EMERGÊNCIA
                if (data[1].trim() == 4) {
                    $(row).css({
                        "background-color": "#fd7e14",
                        "color": "#fff"
                    });
                    $(row).addClass('sub-needed');
                }
                //EMERGÊNCIA
                if (data[1].trim() == 5) {
                    $(row).css({
                        "background-color": "#ff1800",
                        "color": "#fff"
                    });
                    $(row).addClass('sub-needed');
                }

            },
            "ajax": {
                "url": '<?php echo base_url('atendimentos/pacientesUrgenciaEmergenciaMeusPacientes') ?>',
                "type": "POST",
                "dataType": "json",
                async: "true",
                data: {
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },

            },
            "drawCallback": function(settings, json) {
                var api = this.api();
                var qtdPendente = api.rows().count();
                document.getElementById("qtdMeusPacientes").innerHTML = qtdPendente
            }
        })


        $('#data_tableListarUrgenciaEmergenciaAguardandoLeito').DataTable({

            "bDestroy": true,
            "pageLength": 20,
            "paging": true,
            "deferRender": true,
            "lengthChange": false,
            "searching": true,
            "ordering": false,
            "info": true,
            "autoWidth": false,
            "responsive": true,
            createdRow: function(row, data, dataIndex) {
                //NÃO URGENCIA

                if (data[1].trim() == 1) {
                    $(row).css({
                        "background-color": "#3498db5e",
                        "color": "#fff"
                    });
                    $(row).addClass('sub-needed');
                }

                //POUCO URGENCIA
                if (data[1].trim() == 2) {
                    $(row).css({
                        "background-color": "#c9ffad",
                        "color": "#000"
                    });
                    $(row).addClass('sub-needed');
                }
                //URGENCIA
                if (data[1].trim() == 3) {
                    $(row).css({
                        "background-color": "#ffc1079e",
                        "color": "#000"
                    });
                    $(row).addClass('sub-needed');
                }
                //EMERGÊNCIA
                if (data[1].trim() == 4) {
                    $(row).css({
                        "background-color": "#fd7e14",
                        "color": "#fff"
                    });
                    $(row).addClass('sub-needed');
                }
                //EMERGÊNCIA
                if (data[1].trim() == 5) {
                    $(row).css({
                        "background-color": "#ff1800",
                        "color": "#fff"
                    });
                    $(row).addClass('sub-needed');
                }

            },
            "ajax": {
                "url": '<?php echo base_url('atendimentos/pacientesUrgenciaEmergenciaAguardandoLeito') ?>',
                "type": "POST",
                "dataType": "json",
                async: "true",
                data: {
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },

            },
            "drawCallback": function(settings, json) {
                var api = this.api();
                var qtdPendente = api.rows().count();
                document.getElementById("qtdAguardandoLeito").innerHTML = qtdPendente
            }
        })


        $('#data_tableListarUrgenciaEmergenciaBaixados').DataTable({

            "bDestroy": true,
            "pageLength": 20,
            "paging": true,
            "deferRender": true,
            "lengthChange": false,
            "searching": true,
            "ordering": false,
            "info": true,
            "autoWidth": false,
            "responsive": true,
            createdRow: function(row, data, dataIndex) {
                //NÃO URGENCIA

                if (data[1].trim() == 1) {
                    $(row).css({
                        "background-color": "#3498db5e",
                        "color": "#fff"
                    });
                    $(row).addClass('sub-needed');
                }

                //POUCO URGENCIA
                if (data[1].trim() == 2) {
                    $(row).css({
                        "background-color": "#c9ffad",
                        "color": "#000"
                    });
                    $(row).addClass('sub-needed');
                }
                //URGENCIA
                if (data[1].trim() == 3) {
                    $(row).css({
                        "background-color": "#ffc1079e",
                        "color": "#000"
                    });
                    $(row).addClass('sub-needed');
                }
                //EMERGÊNCIA
                if (data[1].trim() == 4) {
                    $(row).css({
                        "background-color": "#fd7e14",
                        "color": "#fff"
                    });
                    $(row).addClass('sub-needed');
                }
                //EMERGÊNCIA
                if (data[1].trim() == 5) {
                    $(row).css({
                        "background-color": "#ff1800",
                        "color": "#fff"
                    });
                    $(row).addClass('sub-needed');
                }

            },
            "ajax": {
                "url": '<?php echo base_url('atendimentos/pacientesUrgenciaEmergenciaBaixados') ?>',
                "type": "POST",
                "dataType": "json",
                async: "true",
                data: {
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },

            },
            "drawCallback": function(settings, json) {
                var api = this.api();
                var qtdPendente = api.rows().count();
                document.getElementById("qtdBaixados").innerHTML = qtdPendente
            }
        })
        setInterval(function() {
            $('#data_tableListarUrgenciaEmergenciaAcolhimento').DataTable().ajax.reload(null, false).draw(false);
            $('#data_tableListarUrgenciaEmergenciaEmAtendimento').DataTable().ajax.reload(null, false).draw(false);
            $('#data_tableListarUrgenciaEmergenciaMeusPacientes').DataTable().ajax.reload(null, false).draw(false);
            $('#data_tableListarUrgenciaEmergenciaBaixados').DataTable().ajax.reload(null, false).draw(false);
            $('#data_tableListarUrgenciaEmergenciaAguardandoLeito').DataTable().ajax.reload(null, false).draw(false);

            //chama o painel de chamada


        }, 40000);

        statusMinhasEspecialidades = '<?php echo $statusMinhasEspecialidades ?>';


    }



    function buscaAvancadaPacienteUrgenciaEmergencia() {

        var paciente = document.getElementById("buscaAvancadaPacienteUrgenciaEmergenciaAdd").value;

        if (paciente !== null && paciente !== '' && paciente !== ' ') {


            $('#data_tableListarUrgenciaEmergenciabuscaAvancada').DataTable({

                "bDestroy": true,
                "pageLength": 20,
                "paging": true,
                "deferRender": true,
                "processing": true,
                "language": {
                    "processing": '<?php echo '<img style="width:150px; height:150px;"  src="' .   base_url('/imagens/loading2.gif') . '" >' ?>',
                },
                "deferRender": true,
                "lengthChange": false,
                "searching": true,
                "ordering": false,
                "info": true,
                "autoWidth": false,
                "responsive": false,
                createdRow: function(row, data, dataIndex) {
                    //NÃO URGENCIA

                    if (data[1].trim() == 1) {
                        $(row).css({
                            "background-color": "#3498db5e",
                            "color": "#fff"
                        });
                        $(row).addClass('sub-needed');
                    }

                    //POUCO URGENCIA
                    if (data[1].trim() == 2) {
                        $(row).css({
                            "background-color": "#c9ffad",
                            "color": "#000"
                        });
                        $(row).addClass('sub-needed');
                    }
                    //URGENCIA
                    if (data[1].trim() == 3) {
                        $(row).css({
                            "background-color": "#ffc1079e",
                            "color": "#000"
                        });
                        $(row).addClass('sub-needed');
                    }
                    //EMERGÊNCIA
                    if (data[1].trim() == 4) {
                        $(row).css({
                            "background-color": "#fd7e14",
                            "color": "#fff"
                        });
                        $(row).addClass('sub-needed');
                    }
                    //EMERGÊNCIA
                    if (data[1].trim() == 5) {
                        $(row).css({
                            "background-color": "#ff1800",
                            "color": "#fff"
                        });
                        $(row).addClass('sub-needed');
                    }

                },
                "ajax": {
                    "url": '<?php echo base_url('atendimentos/pacientesUrgenciaEmergenciaBuscaAvancada') ?>',
                    "type": "POST",
                    "dataType": "json",
                    async: "true",
                    data: {
                        paciente: paciente,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },

                }
            })

        }

    }


    function agendadosAgendamentosExames() {
        $('#agendadosAgendamentosExamesModal').modal('show');


        avisoPesquisa('Agendamento', 4);

        $('#data_tableagendamentosExames').DataTable({

            "bDestroy": true,
            "paging": true,
            "deferRender": true,
            "lengthChange": false,
            "searching": true,
            "ordering": false,
            "info": true,
            "autoWidth": false,
            "responsive": true,
            "ajax": {
                "url": '<?php echo base_url('agendamentosExames/marcados') ?>',
                "type": "POST",
                "dataType": "json",
                async: "true",
                data: {
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },
            }
        })


        $.ajax({
            url: '<?php echo base_url('agendamentosExamesLista/listaDropDownAgendamentosExamesLista') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(agendamentosExamesLista) {

                $("#codAgendamentosExamesAgendadosAdd").select2({
                    data: agendamentosExamesLista,
                })

                $('#codAgendamentosExamesAgendadosAdd').val(null);
                $('#codAgendamentosExamesAgendadosAdd').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });



            }
        });


        $.ajax({
            url: '<?php echo base_url('agendamentosExamesLista/listaDropDownEspecialistasDisponivelMarcacao') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(agendamentosExamesAdd) {

                $("#codEspecialistaExameAgendadosAdd").select2({
                    data: agendamentosExamesAdd,
                })

                $('#codEspecialistaExameAgendadosAdd').val(codEspecialista);
                $('#codEspecialistaExameAgendadosAdd').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });


            }
        })

        $.ajax({
            url: '<?php echo base_url('agendamentosExames/verificaSala') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(verificacaoSala) {

                if (verificacaoSala.success === true) {
                    document.getElementById("botaoSalaAgendamentosExames").innerHTML = verificacaoSala.botao;
                    document.getElementById("nomeLocalAtendimentoAgendamentosExames").innerHTML = 'LOCAL DE ATENDIMENTO: ' + verificacaoSala.nomeLocalAtendimento;

                }
            }
        })


        setInterval(function() {

            if ($('#agendadosAgendamentosExamesModal').is(':visible') == true) {
                $('#data_tableagendamentosExames').DataTable().ajax.reload(null, false).draw(false);

            }
        }, 30000);



    }

    function agendarConsulta() {


        if (nomeStatusCadastroPacienteTmp === "BLOQUEADO") {

            var Toast = Swal.mixin({
                toast: true,
                showConfirmButton: false,
                timer: 3000
            });
            Toast.fire({
                icon: 'error',
                title: "Paciente com status de Bloqueado!",
            })

            throw new Error('Paciente com status de Bloqueado!');


        }


        $('#agendarConsultaModal').modal('show');
        document.getElementById('slotsLivres').innerHTML = '';

        $.ajax({
            url: '<?php echo base_url('especialidades/listaDropDownEspecialidadesDisponivelMarcacao') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(especialidadesAdm) {

                $("#codEspecialidadeAdd").select2({
                    data: especialidadesAdm,
                    dropdownParent: $('#agendarConsultaModal .modal-content'),
                })

                $('#codEspecialidadeAdd').val(null);
                $('#codEspecialidadeAdd').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });



            }
        })


        $("#codEspecialidadeAdd").on("change", function() {



            $('#codEspecialistaAdd').html('').select2({
                data: [{
                    id: null,
                    text: ''
                }]
            });

            if ($(this).val() !== '') {
                codEspecialidade = $(this).val();
            } else {
                codEspecialidade = 0;
            }

            $.ajax({
                url: '<?php echo base_url('especialidades/listaDropDownEspecialistasDisponivelMarcacao') ?>',
                type: 'post',
                dataType: 'json',
                data: {
                    codEspecialidade: codEspecialidade,
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },

                success: function(EspecialistasAdd) {

                    $("#codEspecialistaAdd").select2({
                        data: EspecialistasAdd,
                    })

                    $('#codEspecialistaAdd').val(null);
                    $('#codEspecialistaAdd').trigger('change');
                    $(document).on('select2:open', () => {
                        document.querySelector('.select2-search__field').focus();
                    });


                }
            })


        });




    }



    function agendarExame() {



        if (nomeStatusCadastroPacienteTmp === "BLOQUEADO") {

            var Toast = Swal.mixin({
                toast: true,
                showConfirmButton: false,
                timer: 3000
            });
            Toast.fire({
                icon: 'error',
                title: "Paciente com status de Bloqueado!",
            })

            throw new Error('Paciente com status de Bloqueado!');


        }


        $('#agendarExameModal').modal('show');
        document.getElementById('slotsLivresAgendamentosExames').innerHTML = '';

        $.ajax({
            url: '<?php echo base_url('agendamentosExamesLista/listaDropDownAgendamentosExamesLista') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(ExameListaAdd) {

                $("#codExameListaAdd").select2({
                    data: ExameListaAdd,
                    dropdownParent: $('#agendarExameModal .modal-content'),
                })

                $('#codExameListaAdd').val(null);
                $('#codExameListaAdd').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });



            }
        })


        $("#codExameListaAdd").on("change", function() {



            $('#codExameEspecialistaAdd').html('').select2({
                data: [{
                    id: null,
                    text: ''
                }]
            });

            if ($(this).val() !== '') {
                codExameLista = $(this).val();
            } else {
                codExameLista = 0;
            }

            $.ajax({
                url: '<?php echo base_url('agendamentosExamesLista/listaDropDownEspecialistasDisponivelMarcacao') ?>',
                type: 'post',
                dataType: 'json',
                data: {
                    codExameLista: codExameLista,
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },

                success: function(EspecialistasExameAdd) {

                    $("#codExameEspecialistaAdd").select2({
                        data: EspecialistasExameAdd,
                    })

                    $('#codExameEspecialistaAdd').val(null);
                    $('#codExameEspecialistaAdd').trigger('change');
                    $(document).on('select2:open', () => {
                        document.querySelector('.select2-search__field').focus();
                    });


                }
            })


        });




    }


    function comprovante(codAgendamento) {
        $('#tipoImpressoraModal').modal('show');



        document.getElementById("botoesImprimirComprovante").innerHTML =

            '<div class="col-md-3"><button style="margin-left:0px" type="button" onclick="comprovanteA4(' + codAgendamento + ')" class="btn btn-primary" data-toggle="tooltip" data-placement="top" id="add-formatalhos-btn">Impressora A4</button></div>' +
            '<div class="col-md-3"><button style="margin-left:5px" type="button" onclick="comprovanteEtiqueta80(' + codAgendamento + ')" class="btn btn-primary" data-toggle="tooltip" data-placement="top" id="add-formatalhos-btn">Etiqueta 80mm</button></div>' +
            '<div class="col-md-3"><button style="margin-left:5px" type="button" onclick="comprovanteEtiqueta58(' + codAgendamento + ')" class="btn btn-primary" data-toggle="tooltip" data-placement="top" id="add-formatalhos-btn">Etiqueta 58mm</button></div>';

    }



    function comprovanteExame(codExame) {
        $('#tipoImpressoraExameModal').modal('show');



        document.getElementById("botoesImprimirComprovanteExame").innerHTML =

            '<div class="col-md-3"><button style="margin-left:0px" type="button" onclick="comprovanteA4Exame(' + codExame + ')" class="btn btn-primary" data-toggle="tooltip" data-placement="top" id="add-formatalhos-btn">Impressora A4</button></div>' +
            '<div class="col-md-3"><button style="margin-left:5px" type="button" onclick="comprovanteEtiqueta80Exame(' + codExame + ')" class="btn btn-primary" data-toggle="tooltip" data-placement="top" id="add-formatalhos-btn">Etiqueta 80mm</button></div>' +
            '<div class="col-md-3"><button style="margin-left:5px" type="button" onclick="comprovanteEtiqueta58Exame(' + codExame + ')" class="btn btn-primary" data-toggle="tooltip" data-placement="top" id="add-formatalhos-btn">Etiqueta 58mm</button></div>' +
            '<div class="col-md-3"><button style="margin-left:5px" type="button" onclick="comprovanteExamePorEmail(' + codExame + ')" class="btn btn-primary" data-toggle="tooltip" data-placement="top" id="add-formatalhos-btn">Por E-mail</button></div>';

    }



    function comprovanteEtiqueta58(codAgendamento) {

        $('#comprovanteEtiqueta58Modal').modal('show');
        $('#tipoImpressoraModal').modal('hide');

        document.getElementById("botaoImprimirComprovanteEtiqueta58").onclick = function() {
            printElement(document.getElementById("areaImpressaoComprovanteEtiqueta58"));

            window.print();
        }

        $.ajax({
            url: '<?php echo base_url('agendamentos/comprovante') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                codAgendamento: codAgendamento,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(agendamentoComprovante) {
                document.getElementById("nomeCompletoComprovanteEtiqueta58").innerHTML = agendamentoComprovante.nomePaciente;
                document.getElementById("CODPLANOComprovanteEtiqueta58").innerHTML = agendamentoComprovante.codPlano;
                document.getElementById("nomeEspecialistaComprovanteEtiqueta58").innerHTML = agendamentoComprovante.nomeEspecialista;
                document.getElementById("protocoloComprovanteEtiqueta58").innerHTML = agendamentoComprovante.protocolo;
                document.getElementById("codProntuarioComprovanteEtiqueta58").innerHTML = agendamentoComprovante.codProntuario;



                document.getElementById("localComprovanteEtiqueta58").innerHTML = agendamentoComprovante.local;
                document.getElementById("dataInicioComprovanteEtiqueta58").innerHTML = agendamentoComprovante.dataInicio;
                var URLComprovante = '<?php echo base_url() . "/atendimentos/?codagendamento=" ?>' + agendamentoComprovante.codAgendamento + '&chechsum=' + agendamentoComprovante.valorChecksum;

                document.getElementById("qrcodeComprovanteEtiqueta58").innerHTML = "";
                qrcode = new QRCode("qrcodeComprovanteEtiqueta58", {
                    text: URLComprovante,
                    width: 160,
                    height: 160,
                    colorDark: "#000000",
                    colorLight: "#ffffff",
                    correctLevel: QRCode.CorrectLevel.H
                });


                document.getElementById("setEstilo").innerHTML = '<style>@media screen {' +
                    '#printSection {' +
                    'display: none;' +

                    '}' +
                    '}' +

                    '@media print {' +
                    '@page {' +
                    'size: 58mm 150mm;' +
                    'margin: 5px;' +
                    '}' +

                    'body>*:not(#printSection) {' +
                    'display: none;' +
                    '}' +

                    '#printSection,' +
                    '#printSection * {' +
                    'visibility: visible;' +

                    '}' +
                    '#printSection {' +
                    'position: absolute;' +
                    'left: 0;' +
                    'top: 0;' +
                    'width: 58mm;' +
                    'height: 75mm;' +

                    '}' +
                    '}</style>';


            }

        })


    }



    function comprovanteEtiqueta58Exame(codExame) {

        $('#comprovanteExameEtiqueta58Modal').modal('show');
        //$('#tipoImpressoraExameModal').modal('hide');

        document.getElementById("botaoImprimirComprovanteExameEtiqueta58").onclick = function() {
            printElement(document.getElementById("areaImpressaoComprovanteExameEtiqueta58"));

            window.print();
        }

        $.ajax({
            url: '<?php echo base_url('agendamentosExames/comprovante') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                codExame: codExame,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(exameComprovante) {
                document.getElementById("nomeCompletoComprovanteExameEtiqueta58").innerHTML = exameComprovante.nomePaciente;
                document.getElementById("CODPLANOComprovanteExameEtiqueta58").innerHTML = exameComprovante.codPlano;
                document.getElementById("nomeExameComprovanteEtiqueta58").innerHTML = exameComprovante.nomeExame;
                document.getElementById("protocoloComprovanteExameEtiqueta58").innerHTML = exameComprovante.protocolo;
                document.getElementById("codProntuarioComprovanteExameEtiqueta58").innerHTML = exameComprovante.codProntuario;



                document.getElementById("localComprovanteExameEtiqueta58").innerHTML = exameComprovante.local;
                document.getElementById("dataInicioComprovanteExameEtiqueta58").innerHTML = exameComprovante.dataInicio;
                var URLComprovante = '<?php echo base_url() . "/agendamentosExames/?codExame=" ?>' + exameComprovante.codExame + '&chechsum=' + exameComprovante.valorChecksum;

                document.getElementById("qrcodeComprovanteExameEtiqueta58").innerHTML = "";
                qrcode = new QRCode("qrcodeComprovanteExameEtiqueta58", {
                    text: URLComprovante,
                    width: 160,
                    height: 160,
                    colorDark: "#000000",
                    colorLight: "#ffffff",
                    correctLevel: QRCode.CorrectLevel.H
                });


                document.getElementById("setEstilo").innerHTML = '<style>@media screen {' +
                    '#printSection {' +
                    'display: none;' +

                    '}' +
                    '}' +

                    '@media print {' +
                    '@page {' +
                    'size: 58mm 150mm;' +
                    'margin: 5px;' +
                    '}' +

                    'body>*:not(#printSection) {' +
                    'display: none;' +
                    '}' +

                    '#printSection,' +
                    '#printSection * {' +
                    'visibility: visible;' +

                    '}' +
                    '#printSection {' +
                    'position: absolute;' +
                    'left: 0;' +
                    'top: 0;' +
                    'width: 58mm;' +
                    'height: 75mm;' +

                    '}' +
                    '}</style>';


            }

        })


    }



    function comprovanteA4(codAgendamento) {

        $('#comprovanteA4Modal').modal('show');
        $('#tipoImpressoraModal').modal('hide');

        document.getElementById("botaoImprimirComprovanteA4").onclick = function() {
            printElement(document.getElementById("areaImpressaoComprovanteA4"));

            window.print();
        }

        $.ajax({
            url: '<?php echo base_url('agendamentos/comprovante') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                codAgendamento: codAgendamento,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(agendamentoComprovante) {
                document.getElementById("nomeCompletoComprovanteA4").innerHTML = agendamentoComprovante.nomePaciente;
                document.getElementById("CODPLANOComprovanteA4").innerHTML = agendamentoComprovante.codPlano;
                document.getElementById("nomeEspecialistaComprovanteA4").innerHTML = agendamentoComprovante.nomeEspecialista;
                document.getElementById("nomeLocalComprovanteA4").innerHTML = agendamentoComprovante.descricaoDepartamento;
                document.getElementById("protocoloComprovanteA4").innerHTML = agendamentoComprovante.protocolo;
                document.getElementById("autorMarcacaoComprovanteA4").innerHTML = agendamentoComprovante.autorMarcacao;
                document.getElementById("codProntuarioComprovanteA4").innerHTML = agendamentoComprovante.codProntuario;



                document.getElementById("localComprovanteA4").innerHTML = agendamentoComprovante.local;
                document.getElementById("dataInicioComprovanteA4").innerHTML = agendamentoComprovante.dataInicio;
                var URLComprovante = '<?php echo base_url() . "/atendimentos/?codagendamento=" ?>' + agendamentoComprovante.codAgendamento + '&chechsum=' + agendamentoComprovante.valorChecksum;

                document.getElementById("qrcodeComprovanteA4").innerHTML = "";

                qrcode = new QRCode("qrcodeComprovanteA4", {
                    text: URLComprovante,
                    width: 160,
                    height: 160,
                    colorDark: "#000000",
                    colorLight: "#ffffff",
                    correctLevel: QRCode.CorrectLevel.H
                });


                document.getElementById("setEstilo").innerHTML = '<style>@media screen {' +
                    '#printSection {' +
                    'display: none;' +

                    '}' +
                    '}' +

                    '@media print {' +
                    '@page {' +
                    'size: A4;' +
                    'margin: 5px;' +
                    '}' +

                    'body>*:not(#printSection) {' +
                    'display: none;' +
                    '}' +

                    '#printSection,' +
                    '#printSection * {' +
                    'visibility: visible;' +

                    '}' +
                    '#printSection {' +
                    'position: absolute;' +
                    'left: 0;' +
                    'top: 0;' +
                    'width: 210mm;' +
                    'height: 297mm;' +

                    '}' +
                    '}</style>';


            }

        })


    }



    function comprovanteA4Exame(codExame) {

        $('#comprovanteA4ExameModal').modal('show');
        //$('#tipoImpressoraExameModal').modal('hide');

        document.getElementById("botaoImprimirComprovanteExameA4").onclick = function() {
            printElement(document.getElementById("areaImpressaoComprovanteExameA4"));

            window.print();
        }

        $.ajax({
            url: '<?php echo base_url('agendamentosExames/comprovante') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                codExame: codExame,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(exameComprovante) {
                document.getElementById("nomeCompletoComprovanteExameA4").innerHTML = exameComprovante.nomePaciente;
                document.getElementById("CODPLANOComprovanteExameA4").innerHTML = exameComprovante.codPlano;
                document.getElementById("nomeExameComprovanteExameA4").innerHTML = exameComprovante.nomeExame;
                document.getElementById("nomeLocalComprovanteExameA4").innerHTML = exameComprovante.descricaoDepartamento;
                document.getElementById("protocoloComprovanteExameA4").innerHTML = exameComprovante.protocolo;
                document.getElementById("codProntuarioComprovanteExameA4").innerHTML = exameComprovante.codProntuario;
                document.getElementById("autorMarcacaoComprovanteExameA4").innerHTML = exameComprovante.autorMarcacao;



                document.getElementById("localComprovanteExameA4").innerHTML = exameComprovante.local;
                document.getElementById("dataInicioComprovanteExameA4").innerHTML = exameComprovante.dataInicio;
                var URLComprovante = '<?php echo base_url() . "/agendamentosExames/?codExame=" ?>' + exameComprovante.codAgendamento + '&chechsum=' + exameComprovante.valorChecksum;

                document.getElementById("qrcodeComprovanteExameA4").innerHTML = "";

                qrcode = new QRCode("qrcodeComprovanteExameA4", {
                    text: URLComprovante,
                    width: 160,
                    height: 160,
                    colorDark: "#000000",
                    colorLight: "#ffffff",
                    correctLevel: QRCode.CorrectLevel.H
                });


                document.getElementById("setEstilo").innerHTML = '<style>@media screen {' +
                    '#printSection {' +
                    'display: none;' +

                    '}' +
                    '}' +

                    '@media print {' +
                    '@page {' +
                    'size: A4;' +
                    'margin: 5px;' +
                    '}' +

                    'body>*:not(#printSection) {' +
                    'display: none;' +
                    '}' +

                    '#printSection,' +
                    '#printSection * {' +
                    'visibility: visible;' +

                    '}' +
                    '#printSection {' +
                    'position: absolute;' +
                    'left: 0;' +
                    'top: 0;' +
                    'width: 210mm;' +
                    'height: 297mm;' +

                    '}' +
                    '}</style>';


            }

        })


    }


    function comprovanteExamePorEmail(codExame) {

        $('#comprovanteExamePorEmailModal').modal('show');
        //$('#tipoImpressoraExameModal').modal('hide');







        document.getElementById("botaoImprimirComprovanteExamePorEmail").onclick = function() {
            $.ajax({
                url: '<?php echo base_url('agendamentosExames/comprovantePorEmailAgora') ?>',
                type: 'post',
                dataType: 'json',
                data: {
                    codExame: codExame,
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },
                success: function(exameComprovantePorEmail) {

                    if (exameComprovantePorEmail.success === true) {
                        Swal.fire({
                            position: 'bottom-end',
                            icon: 'success',
                            html: exameComprovantePorEmail.messages,
                            showConfirmButton: false,
                            timer: 4000
                        })
                    } else {

                    }



                }

            }).always(
                Swal.fire({
                    title: 'Estamos processando seu ingresso na lista de espera',
                    html: 'Aguarde....',
                    timerProgressBar: true,
                    didOpen: () => {
                        Swal.showLoading()
                    }

                }))
        }




        $.ajax({
            url: '<?php echo base_url('agendamentosExames/enviarPorEmailDados') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                codExame: codExame,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(exameComprovante) {
                document.getElementById("nomeCompletoComprovanteExamePorEmail").innerHTML = exameComprovante.nomePaciente;
                document.getElementById("CODPLANOComprovanteExamePorEmail").innerHTML = exameComprovante.codPlano;
                document.getElementById("nomeExameComprovanteExamePorEmail").innerHTML = exameComprovante.nomeExame;
                document.getElementById("nomeLocalComprovanteExamePorEmail").innerHTML = exameComprovante.descricaoDepartamento;
                document.getElementById("protocoloComprovanteExamePorEmail").innerHTML = exameComprovante.protocolo;
                document.getElementById("codProntuarioComprovanteExamePorEmail").innerHTML = exameComprovante.codProntuario;
                //document.getElementById("emailPessoalEnviarExame").innerHTML = exameComprovante.emailPessoal;
                document.getElementById("infoEmailPessoalEnviarExame").innerHTML = exameComprovante.emailPessoalInfo;
                document.getElementById("autorMarcacaoExamePorEmail").innerHTML = exameComprovante.autorMarcacao;



                document.getElementById("localComprovanteExamePorEmail").innerHTML = exameComprovante.local;
                document.getElementById("dataInicioComprovanteExamePorEmail").innerHTML = exameComprovante.dataInicio;
                var URLComprovante = '<?php echo base_url() . "/agendamentosExames/?codExame=" ?>' + exameComprovante.codAgendamento + '&chechsum=' + exameComprovante.valorChecksum;

                document.getElementById("qrcodeComprovanteExamePorEmail").innerHTML = "";

                qrcode = new QRCode("qrcodeComprovanteExamePorEmail", {
                    text: URLComprovante,
                    width: 160,
                    height: 160,
                    colorDark: "#000000",
                    colorLight: "#ffffff",
                    correctLevel: QRCode.CorrectLevel.H
                });


                document.getElementById("setEstilo").innerHTML = '<style>@media screen {' +
                    '#printSection {' +
                    'display: none;' +

                    '}' +
                    '}' +

                    '@media print {' +
                    '@page {' +
                    'size: A4;' +
                    'margin: 5px;' +
                    '}' +

                    'body>*:not(#printSection) {' +
                    'display: none;' +
                    '}' +

                    '#printSection,' +
                    '#printSection * {' +
                    'visibility: visible;' +

                    '}' +
                    '#printSection {' +
                    'position: absolute;' +
                    'left: 0;' +
                    'top: 0;' +
                    'width: 210mm;' +
                    'height: 297mm;' +

                    '}' +
                    '}</style>';


            }

        })


    }






    function comprovanteEtiqueta80(codAgendamento) {

        $('#comprovanteEtiqueta80Modal').modal('show');
        $('#tipoImpressoraModal').modal('hide');

        document.getElementById("botaoImprimirComprovanteEtiqueta80").onclick = function() {
            printElement(document.getElementById("areaImpressaoComprovanteEtiqueta80"));

            window.print();
        }

        $.ajax({
            url: '<?php echo base_url('agendamentos/comprovante') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                codAgendamento: codAgendamento,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(agendamentoComprovante) {
                document.getElementById("nomeCompletoComprovanteEtiqueta80").innerHTML = agendamentoComprovante.nomePaciente;
                document.getElementById("CODPLANOComprovanteEtiqueta80").innerHTML = agendamentoComprovante.codPlano;
                document.getElementById("nomeEspecialistaComprovanteEtiqueta80").innerHTML = agendamentoComprovante.nomeEspecialista;
                document.getElementById("protocoloComprovanteEtiqueta80").innerHTML = agendamentoComprovante.protocolo;
                document.getElementById("codProntuarioComprovanteEtiqueta80").innerHTML = agendamentoComprovante.codProntuario;



                document.getElementById("localComprovanteEtiqueta80").innerHTML = agendamentoComprovante.local;
                document.getElementById("dataInicioComprovanteEtiqueta80").innerHTML = agendamentoComprovante.dataInicio;
                var URLComprovante = '<?php echo base_url() . "/atendimentos/?codagendamento=" ?>' + agendamentoComprovante.codAgendamento + '&chechsum=' + agendamentoComprovante.valorChecksum;

                document.getElementById("qrcodeComprovanteEtiqueta80").innerHTML = "";
                qrcode = new QRCode("qrcodeComprovanteEtiqueta80", {
                    text: URLComprovante,
                    width: 160,
                    height: 160,
                    colorDark: "#000000",
                    colorLight: "#ffffff",
                    correctLevel: QRCode.CorrectLevel.H
                });


                document.getElementById("setEstilo").innerHTML = '<style>@media screen {' +
                    '#printSection {' +
                    'display: none;' +

                    '}' +
                    '}' +

                    '@media print {' +
                    '@page {' +
                    'size: 80mm 150mm;' +
                    'margin: 5px;' +
                    '}' +

                    'body>*:not(#printSection) {' +
                    'display: none;' +
                    '}' +

                    '#printSection,' +
                    '#printSection * {' +
                    'visibility: visible;' +

                    '}' +
                    '#printSection {' +
                    'position: absolute;' +
                    'left: 0;' +
                    'top: 0;' +
                    'width: 80mm;' +
                    'height: 75mm;' +

                    '}' +
                    '}</style>';


            }

        })


    }




    function comprovanteEtiqueta80Exame(codExame) {

        $('#comprovanteExameEtiqueta80Modal').modal('show');
        //$('#tipoImpressoraExameModal').modal('hide');

        document.getElementById("botaoImprimirComprovanteExameEtiqueta80").onclick = function() {
            printElement(document.getElementById("areaImpressaoComprovanteExameEtiqueta80"));

            window.print();
        }

        $.ajax({
            url: '<?php echo base_url('agendamentosExames/comprovante') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                codExame: codExame,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(exameComprovante) {
                document.getElementById("nomeCompletoComprovanteExameEtiqueta80").innerHTML = exameComprovante.nomePaciente;
                document.getElementById("CODPLANOComprovanteExameEtiqueta80").innerHTML = exameComprovante.codPlano;
                document.getElementById("nomeExameComprovanteEtiqueta80").innerHTML = exameComprovante.nomeExame;
                document.getElementById("protocoloComprovanteExameEtiqueta80").innerHTML = exameComprovante.protocolo;
                document.getElementById("codProntuarioComprovanteExameEtiqueta80").innerHTML = exameComprovante.codProntuario;

                document.getElementById("localComprovanteExameEtiqueta80").innerHTML = exameComprovante.local;
                document.getElementById("dataInicioComprovanteExameEtiqueta80").innerHTML = exameComprovante.dataInicio;
                var URLComprovante = '<?php echo base_url() . "/agendamentosExames/?codExame=" ?>' + exameComprovante.codAgendamento + '&chechsum=' + exameComprovante.valorChecksum;

                document.getElementById("qrcodeComprovanteExameEtiqueta80").innerHTML = "";
                qrcode = new QRCode("qrcodeComprovanteExameEtiqueta80", {
                    text: URLComprovante,
                    width: 160,
                    height: 160,
                    colorDark: "#000000",
                    colorLight: "#ffffff",
                    correctLevel: QRCode.CorrectLevel.H
                });


                document.getElementById("setEstilo").innerHTML = '<style>@media screen {' +
                    '#printSection {' +
                    'display: none;' +

                    '}' +
                    '}' +

                    '@media print {' +
                    '@page {' +
                    'size: 80mm 150mm;' +
                    'margin: 5px;' +
                    '}' +

                    'body>*:not(#printSection) {' +
                    'display: none;' +
                    '}' +

                    '#printSection,' +
                    '#printSection * {' +
                    'visibility: visible;' +

                    '}' +
                    '#printSection {' +
                    'position: absolute;' +
                    'left: 0;' +
                    'top: 0;' +
                    'width: 80mm;' +
                    'height: 75mm;' +

                    '}' +
                    '}</style>';


            }

        })


    }

    function gravarSala() {




        $('#salaAtendimentoModel').modal('hide');



        $.ajax({
            url: '<?php echo base_url('agendamentos/gravarSala') ?>',
            type: 'post',
            data: {
                codDepartamento: $("#salaAtendimentoForm #codSalaAtendimentoAdd").val(),
                codLocalAtendimento: $("#salaAtendimentoForm #codLocalAtendimentoAdd").val(),
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            dataType: 'json',
            success: function(setaSala) {

                if (setaSala.success === true) {

                    $.ajax({
                        url: '<?php echo base_url('agendamentos/verificaSala') ?>',
                        type: 'post',
                        dataType: 'json',
                        data: {
                            csrf_sandra: $("#csrf_sandraPrincipal").val(),
                        },
                        success: function(verificacaoSala) {

                            if (verificacaoSala.success === true) {
                                document.getElementById("nomeLocalAtendimento").innerHTML = 'LOCAL DE ATENDIMENTO: ' + verificacaoSala.nomeLocalAtendimento;
                                document.getElementById("nomeLocalAtendimentoAgendamentosExames").innerHTML = 'LOCAL DE ATENDIMENTO: ' + verificacaoSala.nomeLocalAtendimento;
                                if (verificacaoSala.nomeLocalAtendimento.length > 1) {
                                    document.getElementById("nomeLocalAtendimentoUrgenciaEmergencia").innerHTML = 'URGÊNCIA/EMERGÊNCIA (' + verificacaoSala.nomeLocalAtendimento + ')';
                                } else {
                                    document.getElementById("nomeLocalAtendimentoUrgenciaEmergencia").innerHTML = 'URGÊNCIA/EMERGÊNCIA';
                                }


                                document.getElementById("botaoSala").innerHTML = verificacaoSala.botao;
                                //document.getElementById("nomeLocalAtendimento").innerHTML = verificacaoSala.nomeLocalAtendimento;


                            }
                        }
                    })

                }
            }
        })

    }

    function salvarReservaAgendamentosExames() {



        var form = $('#agendamentosReservasAgendamentosExamesAddForm');

        $.ajax({
            url: '<?php echo base_url('AgendamentosExamesReservas/add') ?>',
            type: 'post',
            data: form.serialize(), // /converting the form data into array and sending it to server
            dataType: 'json',
            success: function(procuraPaciente) {
                if (procuraPaciente.success === true) {
                    $('#agendamentosReservasAgendamentosExamesAddModal').modal('hide');
                    $('#agendarExameModal').modal('hide');
                    var Toast = Swal.mixin({
                        toast: true,
                        position: 'bottom-end',
                        showConfirmButton: false,
                        timer: 5000
                    });
                    Toast.fire({
                        icon: 'success',
                        title: procuraPaciente.messages
                    })


                } else {

                    $('#agendamentosReservasAgendamentosExamesAddModal').modal('hide');
                    Swal.fire({
                        position: 'bottom-end',
                        icon: 'error',
                        title: procuraPaciente.messages,
                        showConfirmButton: false,
                        timer: 5000

                    })
                }
            }

        }).always(
            Swal.fire({
                title: 'Estamos processando seu ingresso na lista de espera',
                html: 'Aguarde....',
                timerProgressBar: true,
                didOpen: () => {
                    Swal.showLoading()
                }

            }))
    }

    function salvarReserva() {



        var form = $('#agendamentosReservasAddForm');

        $.ajax({
            url: '<?php echo base_url('AgendamentosReservas/add') ?>',
            type: 'post',
            data: form.serialize(), // /converting the form data into array and sending it to server
            dataType: 'json',
            success: function(procuraPaciente) {
                if (procuraPaciente.success === true) {
                    $('#agendamentosReservasAddModal').modal('hide');
                    $('#agendarConsultaModal').modal('hide');




                    Swal.fire({
                        icon: 'success',
                        title: procuraPaciente.messages,
                        showConfirmButton: false,
                        timer: 4000
                    })



                } else {

                    $('#agendamentosReservasAddModal').modal('hide');
                    Swal.fire({
                        position: 'bottom-end',
                        icon: 'error',
                        title: procuraPaciente.messages,
                        showConfirmButton: false,
                        timer: 5000

                    })
                }
            }

        }).always(
            Swal.fire({
                title: 'Estamos processando seu ingresso na lista de espera',
                html: 'Aguarde....',
                timerProgressBar: true,
                didOpen: () => {
                    Swal.showLoading()
                }

            }))
    }

    function profissionaisSaude() {
        $('#profissionaisSaudeModal').modal('show');

        $.ajax({
            url: '<?php echo base_url('login/profissionaisSaude') ?>',
            type: 'post',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            dataType: 'json',
            success: function(profissionaisSaude) {


                document.getElementById("listaProfissionaisSaude").innerHTML = profissionaisSaude.html;



            }
        })



    }

    function entrarListaReserva(codEspecialidadeReserva, especialista) {

        $("#agendamentosReservasAddForm")[0].reset();

        $('#agendamentosReservasAddModal').modal('show');
        document.getElementById("codEspecialistaReserva").innerHTML = '';

        document.getElementById('codEspecialidadeReserva').value = codEspecialidadeReserva;
        document.getElementById('codPacienteReserva').value = codPacienteTmp;


        $.ajax({
            url: '<?php echo base_url('especialidades/listaDropDownEspecialistasDisponivelMarcacaoManual') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                codEspecialidade: codEspecialidadeReserva,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },

            success: function(EspecialistasReserva) {

                document.getElementById("codEspecialistaReserva").innerHTML = EspecialistasReserva.html;



            }
        })





    }



    function entrarListaReservaAgendamentosExames(codEspecialidadeReserva, especialista) {

        $("#agendamentosReservasAgendamentosExamesAddForm")[0].reset();

        $('#agendamentosReservasAgendamentosExamesAddModal').modal('show');
        document.getElementById("codEspecialistaReservaAgendamentosExames").innerHTML = '';

        document.getElementById('codEspecialidadeReservaAgendamentosExames').value = codEspecialidadeReserva;
        document.getElementById('codPacienteReservaAgendamentosExames').value = codPacienteTmp;


        $.ajax({
            url: '<?php echo base_url('especialidades/listaDropDownEspecialistasDisponivelMarcacaoManual') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                codEspecialidade: codEspecialidadeReserva,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },

            success: function(EspecialistasReserva) {

                document.getElementById("codEspecialistaReservaAgendamentosExames").innerHTML = EspecialistasReserva.html;



            }
        })





    }


    function marcarPaciente() {

        var form = $('#escolhaPacienteForm');
        var codPacienteMarcacao = document.getElementById('codPacienteMarcacao').value;
        var codAgendamento = document.getElementById('codAgendamentoMarcacao').value;


        $.ajax({
            url: '<?php echo base_url('agendamentos/marcarPaciente') ?>',
            type: 'post',
            data: {
                codPacienteMarcacao: codPacienteMarcacao,
                codAgendamento: codAgendamento,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            dataType: 'json',
            success: function(marcacaoPaciente) {

                $('#showPacientesModal').modal('hide');

                if (marcacaoPaciente.success === true) {



                    if ($('#perfilPacienteModal').is(':visible') == true) {
                        $('#data_tableProximasConsultas').DataTable().ajax.reload(null, false).draw(false);

                    }

                    document.getElementById("slotsLivres").innerHTML = '';
                    comprovante(marcacaoPaciente.codAgendamento);

                    var Toast = Swal.mixin({
                        toast: true,
                        position: 'bottom-end',
                        showConfirmButton: false,
                        timer: 3000
                    });
                    Toast.fire({
                        icon: 'success',
                        title: marcacaoPaciente.messages
                    })
                } else {

                    var htmlMarcacao = "";
                    if (marcacaoPaciente.html !== null) {
                        htmlMarcacao = marcacaoPaciente.html;
                    }


                    Swal.fire({
                        position: 'bottom-end',
                        icon: 'error',
                        title: marcacaoPaciente.messages,
                        html: htmlMarcacao,
                        showConfirmButton: true,
                        confirmButtonText: 'Ok',
                    })

                    //document.getElementById("slotsLivres").innerHTML = '';


                    var Toast = Swal.mixin({
                        toast: true,
                        position: 'bottom-end',
                        showConfirmButton: false,
                        timer: 5000
                    });


                }
            }
        }).always(
            Swal.fire({
                title: 'Estamos processando sua requisição',
                html: 'Aguarde....',
                timerProgressBar: true,
                didOpen: () => {
                    Swal.showLoading()


                }

            }))
    }


    function marcarPacienteExame() {

        var form = $('#escolhaPacienteExameForm');
        var codPacienteMarcacao = document.getElementById('codPacienteMarcacaoExame').value;
        var codExame = document.getElementById('codExameMarcacao').value;
        var observacoes = document.getElementById('observacoesMarcacaoExame').value;


        $.ajax({
            url: '<?php echo base_url('agendamentosExames/marcarPaciente') ?>',
            type: 'post',
            data: {
                codPacienteMarcacao: codPacienteMarcacao,
                observacoes: observacoes,
                codExame: codExame,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            dataType: 'json',
            success: function(marcacaoPacienteAgendamentosExames) {

                $('#showPacientesExameModal').modal('hide');

                if (marcacaoPacienteAgendamentosExames.success === true) {


                    if ($('#perfilPacienteModal').is(':visible') == true) {
                        $('#data_tableProximosAgendamentosExames').DataTable().ajax.reload(null, false).draw(false);

                    }

                    document.getElementById("slotsLivresAgendamentosExames").innerHTML = '';
                    comprovanteExame(marcacaoPacienteAgendamentosExames.codExame);

                    var Toast = Swal.mixin({
                        toast: true,
                        position: 'bottom-end',
                        showConfirmButton: false,
                        timer: 3000
                    });
                    Toast.fire({
                        icon: 'success',
                        title: marcacaoPacienteAgendamentosExames.messages
                    })
                } else {
                    var Toast = Swal.mixin({
                        toast: true,
                        position: 'bottom-end',
                        showConfirmButton: false,
                        timer: 5000
                    });
                    Toast.fire({
                        icon: 'error',
                        title: marcacaoPacienteAgendamentosExames.messages
                    }).then(function() {
                        $('#data_tableagendamentosExames').DataTable().ajax.reload(null, false).draw(false);
                        document.getElementById("slotsLivresAgendamentosExames").innerHTML = '';


                    })
                }
            }
        }).always(
            Swal.fire({
                title: 'Estamos processando sua requisição',
                html: 'Aguarde....',
                timerProgressBar: true,
                didOpen: () => {
                    Swal.showLoading()


                }

            }))
    }

    function desmarcar(codAgendamento) {
        Swal.fire({
            title: 'Você tem certeza que deseja desmarcar este agendamento?',
            html: '<span class="right badge badge-info">A vaga retornará para lista de vagas abertas!</span>',
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {
                $.ajax({
                    url: '<?php echo base_url('agendamentos/desmarcar') ?>',
                    type: 'post',
                    data: {
                        codAgendamento: codAgendamento,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    dataType: 'json',
                    success: function(response) {

                        if (response.success === true) {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {



                                if ($('#agendadosAmbulatorioModal').is(':visible') == true) {
                                    $('#data_tableagendamentos').DataTable().ajax.reload(null, false).draw(false);
                                    //filtrar();

                                }

                                if ($('#perfilPacienteModal').is(':visible') == true) {
                                    $('#data_tableProximasConsultas').DataTable().ajax.reload(null, false).draw(false);

                                }


                            })
                        } else {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'error',
                                title: response.messages
                            })


                        }
                    }
                }).always(
                    Swal.fire({
                        title: 'Estamos realizando a desmarcação da consulta',
                        html: 'Aguarde....',
                        timerProgressBar: true,
                        didOpen: () => {
                            Swal.showLoading()


                        }

                    }))
            }
        })
    }




    function addprescricoesKit() {
        // reset the form
        $("#prescricoesKitAddForm")[0].reset();
        $(".form-control").removeClass('is-invalid').removeClass('is-valid');
        $('#prescricoesKitAddModal').modal('show');




        document.getElementById("codAtendimentoPrescricaoKitAdd").value = document.getElementById("codAtendimentoPrescricaoEdit").value;



        $.ajax({
            url: '<?php echo base_url('prescricoesKit/listaDropDownKits') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(listaKitsAdd) {

                $("#codKitAdd").select2({
                    data: listaKitsAdd,
                    dropdownParent: $('#prescricoesKitAddModal .modal-content'),
                })

                $('#codKitAdd').val(null);
                $('#codKitAdd').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });

            }
        })


        // submit the add from
        $.validator.setDefaults({
            highlight: function(element) {
                $(element).addClass('is-invalid').removeClass('is-valid');
            },
            unhighlight: function(element) {
                $(element).removeClass('is-invalid').addClass('is-valid');
            },
            errorElement: 'div ',
            errorClass: 'invalid-feedback',
            errorPlacement: function(error, element) {
                if (element.parent('.input-group').length) {
                    error.insertAfter(element.parent());
                } else if ($(element).is('.select')) {
                    element.next().after(error);
                } else if (element.hasClass('select2')) {
                    //error.insertAfter(element);
                    error.insertAfter(element.next());
                } else if (element.hasClass('selectpicker')) {
                    error.insertAfter(element.next());
                } else {
                    error.insertAfter(element);
                }
            },

            submitHandler: function(form) {

                var form = $('#prescricoesKitAddForm');
                // remove the text-danger
                $(".text-danger").remove();

                $.ajax({
                    url: '<?php echo base_url('prescricoesKit/add') ?>',
                    type: 'post',
                    data: form.serialize(), // /converting the form data into array and sending it to server
                    dataType: 'json',
                    beforeSend: function() {
                        //$('#prescricoesKitAddForm-btn').html('<i class="fa fa-spinner fa-spin"></i>');
                    },
                    success: function(response) {

                        if (response.success === true) {
                            $('#prescricoesKitAddModal').modal('hide');

                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {
                                $('#data_tableprescricoesKit').DataTable().ajax.reload(null, false).draw(false);
                                $('#data_tableprescricoesMaterial').DataTable().ajax.reload(null, false).draw(false);
                                $('#data_tableprescricaoMedicamentos').DataTable().ajax.reload(null, false).draw(false);
                            })

                        } else {

                            if (response.messages instanceof Object) {
                                $.each(response.messages, function(index, value) {
                                    var id = $("#" + index);

                                    id.closest('.form-control')
                                        .removeClass('is-invalid')
                                        .removeClass('is-valid')
                                        .addClass(value.length > 0 ? 'is-invalid' : 'is-valid');

                                    id.after(value);

                                });
                            } else {

                                var Toast = Swal.mixin({
                                    toast: true,
                                    position: 'bottom-end',
                                    showConfirmButton: false,
                                    timer: 2000
                                });
                                Toast.fire({
                                    icon: 'error',
                                    title: response.messages
                                })

                            }
                        }
                        $('#prescricoesKitAddForm-btn').html('Adicionar');
                    }
                });

                return false;
            }
        });
        $('#prescricoesKitAddForm').validate();
    }



    function addindicacoesClinicas() {
        // reset the form
        $("#indicacoesClinicasAddForm")[0].reset();
        $(".form-control").removeClass('is-invalid').removeClass('is-valid');
        $('#indicacoesClinicasAddModal').modal('show');
        // submit the add from

        $.ajax({
            url: '<?php echo base_url('especialidades/listaDropDownEspecialidadesDisponivelIndicacao') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(especialidadeIndicacao) {

                $("#codEspecialidadeIndicacao").select2({
                    data: especialidadeIndicacao,
                })

                $('#codEspecialidadeIndicacao').val(null);
                $('#codEspecialidadeIndicacao').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });



            }
        });


        $.validator.setDefaults({
            highlight: function(element) {
                $(element).addClass('is-invalid').removeClass('is-valid');
            },
            unhighlight: function(element) {
                $(element).removeClass('is-invalid').addClass('is-valid');
            },
            errorElement: 'div ',
            errorClass: 'invalid-feedback',
            errorPlacement: function(error, element) {
                if (element.parent('.input-group').length) {
                    error.insertAfter(element.parent());
                } else if ($(element).is('.select')) {
                    element.next().after(error);
                } else if (element.hasClass('select2')) {
                    //error.insertAfter(element);
                    error.insertAfter(element.next());
                } else if (element.hasClass('selectpicker')) {
                    error.insertAfter(element.next());
                } else {
                    error.insertAfter(element);
                }
            },

            submitHandler: function(form) {

                var form = $('#indicacoesClinicasAddForm');
                // remove the text-danger
                $(".text-danger").remove();




                $.ajax({
                    url: '<?php echo base_url('indicacoesClinicas/add') ?>',
                    type: 'post',
                    data: form.serialize() + "&codPaciente=" + codPacienteTmp,
                    dataType: 'json',
                    beforeSend: function() {
                        //$('#indicacoesClinicasAddForm-btn').html('<i class="fa fa-spinner fa-spin"></i>');
                    },
                    success: function(response) {

                        if (response.success === true) {
                            $('#indicacoesClinicasAddModal').modal('hide');

                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {


                                if ($('#editarAtendimentoModal').is(':visible') == true) {
                                    $('#data_tableindicacoesClinicas').DataTable().ajax.reload(null, false).draw(false);

                                }

                                if ($('#prontuarioModal').is(':visible') == true) {
                                    $('#data_tableindicacoesClinicasGeral').DataTable().ajax.reload(null, false).draw(false);

                                }

                            })

                        } else {

                            if (response.messages instanceof Object) {
                                $.each(response.messages, function(index, value) {
                                    var id = $("#" + index);

                                    id.closest('.form-control')
                                        .removeClass('is-invalid')
                                        .removeClass('is-valid')
                                        .addClass(value.length > 0 ? 'is-invalid' : 'is-valid');

                                    id.after(value);

                                });
                            } else {


                                Swal.fire({
                                    icon: 'error',
                                    title: response.messages,
                                    showConfirmButton: true,
                                    confirmButtonText: 'Ok',
                                });

                            }
                        }
                        $('#indicacoesClinicasAddForm-btn').html('Adicionar');
                    }
                });

                return false;
            }
        });
        $('#indicacoesClinicasAddForm').validate();
    }


    function removeindicacoesClinicas(codIndicacaoClinica) {
        Swal.fire({
            title: 'Você tem certeza que deseja remover essa indicação clínica?',
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {
                $.ajax({
                    url: '<?php echo base_url('indicacoesClinicas/remove') ?>',
                    type: 'post',
                    data: {
                        codIndicacaoClinica: codIndicacaoClinica,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    dataType: 'json',
                    success: function(response) {

                        if (response.success === true) {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {


                                if ($('#editarAtendimentoModal').is(':visible') == true) {
                                    $('#data_tableindicacoesClinicas').DataTable().ajax.reload(null, false).draw(false);

                                }

                                if ($('#prontuarioModal').is(':visible') == true) {
                                    $('#data_tableindicacoesClinicasGeral').DataTable().ajax.reload(null, false).draw(false);

                                }
                            })
                        } else {

                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'error',
                                title: response.messages
                            })


                        }
                    }
                });
            }
        })
    }

    function acompanhamentoPermanente(codIndicacaoClinica) {
        Swal.fire({
            title: 'Você tem certeza que deseja marcar este paciente para acompanhamento contínuo?',
            html: 'O paciente poderá marcar consultas indefinidamente para esta especialidade',
            icon: 'info',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {
                $.ajax({
                    url: '<?php echo base_url('indicacoesClinicas/acompanhamentoPermanente') ?>',
                    type: 'post',
                    data: {
                        codIndicacaoClinica: codIndicacaoClinica,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    dataType: 'json',
                    success: function(response) {

                        if (response.success === true) {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {

                                if ($('#editarAtendimentoModal').is(':visible') == true) {
                                    $('#data_tableindicacoesClinicas').DataTable().ajax.reload(null, false).draw(false);

                                }

                                if ($('#prontuarioModal').is(':visible') == true) {
                                    $('#data_tableindicacoesClinicasGeral').DataTable().ajax.reload(null, false).draw(false);

                                }

                            })
                        } else {

                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'error',
                                title: response.messages
                            })


                        }
                    }
                });
            }
        })
    }


    function addprescricoesMaterial() {
        // reset the form
        $("#prescricoesMaterialAddForm")[0].reset();
        $(".form-control").removeClass('is-invalid').removeClass('is-valid');
        $('#prescricoesMaterialAddModal').modal('show');




        document.getElementById("codAtendimentoPrescricaoMaterialAdd").value = document.getElementById("codAtendimentoPrescricaoEdit").value;



        $.ajax({
            url: '<?php echo base_url('prescricoesMaterial/listaDropDownMaterials') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(listaMaterialsAdd) {

                $("#codMaterialAdd").select2({
                    data: listaMaterialsAdd,
                    minimumInputLength: 3,
                    quietMillis: 1000,
                    dropdownParent: $('#prescricoesMaterialAddModal .modal-content'),
                })

                $('#codMaterialAdd').val(null);
                $('#codMaterialAdd').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });

            }
        })


        // submit the add from
        $.validator.setDefaults({
            highlight: function(element) {
                $(element).addClass('is-invalid').removeClass('is-valid');
            },
            unhighlight: function(element) {
                $(element).removeClass('is-invalid').addClass('is-valid');
            },
            errorElement: 'div ',
            errorClass: 'invalid-feedback',
            errorPlacement: function(error, element) {
                if (element.parent('.input-group').length) {
                    error.insertAfter(element.parent());
                } else if ($(element).is('.select')) {
                    element.next().after(error);
                } else if (element.hasClass('select2')) {
                    //error.insertAfter(element);
                    error.insertAfter(element.next());
                } else if (element.hasClass('selectpicker')) {
                    error.insertAfter(element.next());
                } else {
                    error.insertAfter(element);
                }
            },

            submitHandler: function(form) {

                var form = $('#prescricoesMaterialAddForm');
                // remove the text-danger
                $(".text-danger").remove();

                $.ajax({
                    url: '<?php echo base_url('prescricoesMaterial/add') ?>',
                    type: 'post',
                    data: form.serialize(), // /converting the form data into array and sending it to server
                    dataType: 'json',
                    beforeSend: function() {
                        //$('#prescricoesMaterialAddForm-btn').html('<i class="fa fa-spinner fa-spin"></i>');
                    },
                    success: function(response) {

                        if (response.success === true) {
                            $('#prescricoesMaterialAddModal').modal('hide');

                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {
                                $('#data_tableprescricoesMaterial').DataTable().ajax.reload(null, false).draw(false);
                            })

                        } else {

                            if (response.messages instanceof Object) {
                                $.each(response.messages, function(index, value) {
                                    var id = $("#" + index);

                                    id.closest('.form-control')
                                        .removeClass('is-invalid')
                                        .removeClass('is-valid')
                                        .addClass(value.length > 0 ? 'is-invalid' : 'is-valid');

                                    id.after(value);

                                });
                            } else {

                                var Toast = Swal.mixin({
                                    toast: true,
                                    position: 'bottom-end',
                                    showConfirmButton: false,
                                    timer: 2000
                                });
                                Toast.fire({
                                    icon: 'error',
                                    title: response.messages
                                })

                            }
                        }
                        $('#prescricoesMaterialAddForm-btn').html('Adicionar');
                    }
                });

                return false;
            }
        });
        $('#prescricoesMaterialAddForm').validate();
    }



    function addprescricoesOutras() {
        // reset the form
        $("#prescricoesOutrasAddForm")[0].reset();
        $(".form-control").removeClass('is-invalid').removeClass('is-valid');
        $('#prescricoesOutrasAddModal').modal('show');




        document.getElementById("codAtendimentoPrescricaoOutrasAdd").value = document.getElementById("codAtendimentoPrescricaoEdit").value;



        $.ajax({
            url: '<?php echo base_url('prescricoesOutras/listaDropDownOutras') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(listaOutrasAdd) {

                $("#codOutrasAdd").select2({
                    data: listaOutrasAdd,
                })

                $('#codOutrasAdd').val(null);
                $('#codOutrasAdd').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });

            }
        })




        $("#descricaoOutrasAdd").summernote('destroy');
        $("#aprazaOutrasAdd").summernote('destroy');


        $('#descricaoOutrasAdd').summernote({
            height: 200,
            maximumImageFileSize: 1024 * 1024, // 1Mb
            fontSizes: ['8', '9', '10', '11', '12', '14', '18', '20', '36', '72'],
            lineHeights: ['0.2', '0.3', '0.4', '0.5', '0.6', '0.8', '1.0', '1.2', '1.4', '1.5', '2.0', '3.0'],
            toolbar: [
                ['style', ['style']],
                ['fontname', ['fontname']],
                ['font', ['color', 'strikethrough', 'superscript', 'subscript', 'bold', 'underline', 'clear']],
                ['fontsize', ['fontsize']],
                ['height', ['height']],
                ['para', ['ul', 'ol', 'paragraph']],
                ['table', ['table']],
                ['insert', ['link', 'hr']],
                ['view', ['fullscreen', 'codeview', 'help']],
                ['redo'],
                ['undo'],
            ],
            callbacks: {
                onImageUploadError: function(msg) {
                    var Toast = Swal.mixin({
                        toast: true,
                        position: 'top-end',
                        showConfirmButton: false,
                        timer: 5000
                    });
                    Toast.fire({
                        icon: 'error',
                        title: 'Tamanho máximo de imagens é 1Mb'
                    })
                }
            }
        })


        $('#aprazaOutrasAdd').summernote({
            height: 200,
            maximumImageFileSize: 1024 * 1024, // 1Mb
            fontSizes: ['8', '9', '10', '11', '12', '14', '18', '20', '36', '72'],
            lineHeights: ['0.2', '0.3', '0.4', '0.5', '0.6', '0.8', '1.0', '1.2', '1.4', '1.5', '2.0', '3.0'],
            toolbar: [
                ['style', ['style']],
                ['fontname', ['fontname']],
                ['font', ['color', 'strikethrough', 'superscript', 'subscript', 'bold', 'underline', 'clear']],
                ['fontsize', ['fontsize']],
                ['height', ['height']],
                ['para', ['ul', 'ol', 'paragraph']],
                ['table', ['table']],
                ['insert', ['link', 'hr']],
                ['view', ['fullscreen', 'codeview', 'help']],
                ['redo'],
                ['undo'],
            ],
            callbacks: {
                onImageUploadError: function(msg) {
                    var Toast = Swal.mixin({
                        toast: true,
                        position: 'top-end',
                        showConfirmButton: false,
                        timer: 5000
                    });
                    Toast.fire({
                        icon: 'error',
                        title: 'Tamanho máximo de imagens é 1Mb'
                    })
                }
            }
        })









        // submit the add from
        $.validator.setDefaults({
            highlight: function(element) {
                $(element).addClass('is-invalid').removeClass('is-valid');
            },
            unhighlight: function(element) {
                $(element).removeClass('is-invalid').addClass('is-valid');
            },
            errorElement: 'div ',
            errorClass: 'invalid-feedback',
            errorPlacement: function(error, element) {
                if (element.parent('.input-group').length) {
                    error.insertAfter(element.parent());
                } else if ($(element).is('.select')) {
                    element.next().after(error);
                } else if (element.hasClass('select2')) {
                    //error.insertAfter(element);
                    error.insertAfter(element.next());
                } else if (element.hasClass('selectpicker')) {
                    error.insertAfter(element.next());
                } else {
                    error.insertAfter(element);
                }
            },

            submitHandler: function(form) {

                var form = $('#prescricoesOutrasAddForm');
                // remove the text-danger
                $(".text-danger").remove();

                $.ajax({
                    url: '<?php echo base_url('prescricoesOutras/add') ?>',
                    type: 'post',
                    data: form.serialize(), // /converting the form data into array and sending it to server
                    dataType: 'json',
                    beforeSend: function() {
                        //$('#prescricoesOutrasAddForm-btn').html('<i class="fa fa-spinner fa-spin"></i>');
                    },
                    success: function(response) {

                        if (response.success === true) {
                            $('#prescricoesOutrasAddModal').modal('hide');

                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {
                                $('#data_tableprescricoesOutras').DataTable().ajax.reload(null, false).draw(false);
                            })

                        } else {

                            if (response.messages instanceof Object) {
                                $.each(response.messages, function(index, value) {
                                    var id = $("#" + index);

                                    id.closest('.form-control')
                                        .removeClass('is-invalid')
                                        .removeClass('is-valid')
                                        .addClass(value.length > 0 ? 'is-invalid' : 'is-valid');

                                    id.after(value);

                                });
                            } else {

                                var Toast = Swal.mixin({
                                    toast: true,
                                    position: 'bottom-end',
                                    showConfirmButton: false,
                                    timer: 2000
                                });
                                Toast.fire({
                                    icon: 'error',
                                    title: response.messages
                                })

                            }
                        }
                        $('#prescricoesOutrasAddForm-btn').html('Adicionar');
                    }
                });

                return false;
            }
        });
        $('#prescricoesOutrasAddForm').validate();
    }




    function addprescricoesCuidados() {
        // reset the form
        $("#prescricoesCuidadosAddForm")[0].reset();
        $(".form-control").removeClass('is-invalid').removeClass('is-valid');
        $('#prescricoesCuidadosAddModal').modal('show');




        document.getElementById("codAtendimentoPrescricaoCuidadosAdd").value = document.getElementById("codAtendimentoPrescricaoEdit").value;



        $.ajax({
            url: '<?php echo base_url('prescricoesCuidados/listaDropDownCuidados') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(listaCuidadosAdd) {

                $("#codTipoCuidadoPrescricaosAdd").select2({
                    data: listaCuidadosAdd,
                    dropdownParent: $('#prescricoesCuidadosAddModal .modal-content'),
                })

                $('#codTipoCuidadoPrescricaosAdd').val(null);
                $('#codTipoCuidadoPrescricaosAdd').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });

            }
        })


        // submit the add from
        $.validator.setDefaults({
            highlight: function(element) {
                $(element).addClass('is-invalid').removeClass('is-valid');
            },
            unhighlight: function(element) {
                $(element).removeClass('is-invalid').addClass('is-valid');
            },
            errorElement: 'div ',
            errorClass: 'invalid-feedback',
            errorPlacement: function(error, element) {
                if (element.parent('.input-group').length) {
                    error.insertAfter(element.parent());
                } else if ($(element).is('.select')) {
                    element.next().after(error);
                } else if (element.hasClass('select2')) {
                    //error.insertAfter(element);
                    error.insertAfter(element.next());
                } else if (element.hasClass('selectpicker')) {
                    error.insertAfter(element.next());
                } else {
                    error.insertAfter(element);
                }
            },

            submitHandler: function(form) {

                var form = $('#prescricoesCuidadosAddForm');
                // remove the text-danger
                $(".text-danger").remove();

                $.ajax({
                    url: '<?php echo base_url('prescricoesCuidados/add') ?>',
                    type: 'post',
                    data: form.serialize(), // /converting the form data into array and sending it to server
                    dataType: 'json',
                    beforeSend: function() {
                        //$('#prescricoesCuidadosAddForm-btn').html('<i class="fa fa-spinner fa-spin"></i>');
                    },
                    success: function(response) {

                        if (response.success === true) {
                            $('#prescricoesCuidadosAddModal').modal('hide');

                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {
                                $('#data_tableprescricoesCuidados').DataTable().ajax.reload(null, false).draw(false);
                            })

                        } else {

                            if (response.messages instanceof Object) {
                                $.each(response.messages, function(index, value) {
                                    var id = $("#" + index);

                                    id.closest('.form-control')
                                        .removeClass('is-invalid')
                                        .removeClass('is-valid')
                                        .addClass(value.length > 0 ? 'is-invalid' : 'is-valid');

                                    id.after(value);

                                });
                            } else {

                                var Toast = Swal.mixin({
                                    toast: true,
                                    position: 'bottom-end',
                                    showConfirmButton: false,
                                    timer: 2000
                                });
                                Toast.fire({
                                    icon: 'error',
                                    title: response.messages
                                })

                            }
                        }
                        $('#prescricoesCuidadosAddForm-btn').html('Adicionar');
                    }
                });

                return false;
            }
        });
        $('#prescricoesCuidadosAddForm').validate();
    }



    function editprescricoesOutras(codPrescricaoOutra) {

        $.ajax({
            url: '<?php echo base_url('prescricoesOutras/getOne') ?>',
            type: 'post',
            data: {
                codPrescricaoOutra: codPrescricaoOutra,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            dataType: 'json',
            success: function(responseOutrasEdit) {


                // reset the form
                $("#prescricoesOutrasEditForm")[0].reset();
                $(".form-control").removeClass('is-invalid').removeClass('is-valid');
                $('#prescricoesOutrasEditModal').modal('show');

                $("#prescricoesOutrasEditForm #codAtendimentoPrescricaoOutrasEdit").val(responseOutrasEdit.codAtendimentoPrescricao);
                $("#prescricoesOutrasEditForm #codPrescricaoOutrasEdit").val(responseOutrasEdit.codPrescricaoOutra);
                //$("#prescricoesOutrasEditForm #descricaoOutrasEdit").val(responseOutrasEdit.descricao);
                //$("#prescricoesOutrasEditForm #aprazaOutrasEdit").val(responseOutrasEdit.apraza);


                $.ajax({
                    url: '<?php echo base_url('prescricoesOutras/listaDropDownOutras') ?>',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    success: function(listaOutrasEdit) {

                        $("#codOutrasEdit").select2({
                            data: listaOutrasEdit,
                        })

                        $('#codOutrasEdit').val(responseOutrasEdit.codTipoOutraPrescricao);
                        $('#codOutrasEdit').trigger('change');
                        $(document).on('select2:open', () => {
                            document.querySelector('.select2-search__field').focus();
                        });

                    }
                })




                $("#descricaoOutrasEdit").summernote('destroy');
                $("#aprazaOutrasEdit").summernote('destroy');


                $("#descricaoOutrasEdit").val(responseOutrasEdit.descricao);

                $("#aprazaOutrasEdit").val(responseOutrasEdit.apraza);


                $('#descricaoOutrasEdit').summernote({
                    height: 200,
                    maximumImageFileSize: 1024 * 1024, // 1Mb
                    fontSizes: ['8', '9', '10', '11', '12', '14', '18', '20', '36', '72'],
                    lineHeights: ['0.2', '0.3', '0.4', '0.5', '0.6', '0.8', '1.0', '1.2', '1.4', '1.5', '2.0', '3.0'],
                    toolbar: [
                        ['style', ['style']],
                        ['fontname', ['fontname']],
                        ['font', ['color', 'strikethrough', 'superscript', 'subscript', 'bold', 'underline', 'clear']],
                        ['fontsize', ['fontsize']],
                        ['height', ['height']],
                        ['para', ['ul', 'ol', 'paragraph']],
                        ['table', ['table']],
                        ['insert', ['link', 'hr']],
                        ['view', ['fullscreen', 'codeview', 'help']],
                        ['redo'],
                        ['undo'],
                    ],
                    callbacks: {
                        onImageUploadError: function(msg) {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'top-end',
                                showConfirmButton: false,
                                timer: 5000
                            });
                            Toast.fire({
                                icon: 'error',
                                title: 'Tamanho máximo de imagens é 1Mb'
                            })
                        }
                    }
                })


                $('#aprazaOutrasEdit').summernote({
                    height: 200,
                    maximumImageFileSize: 1024 * 1024, // 1Mb
                    fontSizes: ['8', '9', '10', '11', '12', '14', '18', '20', '36', '72'],
                    lineHeights: ['0.2', '0.3', '0.4', '0.5', '0.6', '0.8', '1.0', '1.2', '1.4', '1.5', '2.0', '3.0'],
                    toolbar: [
                        ['style', ['style']],
                        ['fontname', ['fontname']],
                        ['font', ['color', 'strikethrough', 'superscript', 'subscript', 'bold', 'underline', 'clear']],
                        ['fontsize', ['fontsize']],
                        ['height', ['height']],
                        ['para', ['ul', 'ol', 'paragraph']],
                        ['table', ['table']],
                        ['insert', ['link', 'hr']],
                        ['view', ['fullscreen', 'codeview', 'help']],
                        ['redo'],
                        ['undo'],
                    ],
                    callbacks: {
                        onImageUploadError: function(msg) {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'top-end',
                                showConfirmButton: false,
                                timer: 5000
                            });
                            Toast.fire({
                                icon: 'error',
                                title: 'Tamanho máximo de imagens é 1Mb'
                            })
                        }
                    }
                })





                // submit the edit from
                $.validator.setDefaults({
                    highlight: function(element) {
                        $(element).addClass('is-invalid').removeClass('is-valid');
                    },
                    unhighlight: function(element) {
                        $(element).removeClass('is-invalid').addClass('is-valid');
                    },
                    errorElement: 'div ',
                    errorClass: 'invalid-feedback',
                    errorPlacement: function(error, element) {
                        if (element.parent('.input-group').length) {
                            error.insertAfter(element.parent());
                        } else if ($(element).is('.select')) {
                            element.next().after(error);
                        } else if (element.hasClass('select2')) {
                            //error.insertAfter(element);
                            error.insertAfter(element.next());
                        } else if (element.hasClass('selectpicker')) {
                            error.insertAfter(element.next());
                        } else {
                            error.insertAfter(element);
                        }
                    },

                    submitHandler: function(form) {
                        var form = $('#prescricoesOutrasEditForm');
                        $(".text-danger").remove();
                        $.ajax({
                            url: '<?php echo base_url('prescricoesOutras/edit') ?>',
                            type: 'post',
                            data: form.serialize(),
                            dataType: 'json',
                            beforeSend: function() {
                                //$('#prescricoesOutrasEditForm-btn').html('<i class="fa fa-spinner fa-spin"></i>');
                            },
                            success: function(response) {

                                if (response.success === true) {

                                    $('#prescricoesOutrasEditModal').modal('hide');


                                    var Toast = Swal.mixin({
                                        toast: true,
                                        position: 'bottom-end',
                                        showConfirmButton: false,
                                        timer: 2000
                                    });
                                    Toast.fire({
                                        icon: 'success',
                                        title: response.messages
                                    }).then(function() {
                                        $('#data_tableprescricoesOutras').DataTable().ajax.reload(null, false).draw(false);
                                    })

                                } else {

                                    if (response.messages instanceof Object) {
                                        $.each(response.messages, function(index, value) {
                                            var id = $("#" + index);

                                            id.closest('.form-control')
                                                .removeClass('is-invalid')
                                                .removeClass('is-valid')
                                                .addClass(value.length > 0 ? 'is-invalid' : 'is-valid');

                                            id.after(value);

                                        });
                                    } else {
                                        var Toast = Swal.mixin({
                                            toast: true,
                                            position: 'bottom-end',
                                            showConfirmButton: false,
                                            timer: 2000
                                        });
                                        Toast.fire({
                                            icon: 'error',
                                            title: response.messages
                                        })

                                    }
                                }
                                $('#prescricoesOutrasEditForm-btn').html('Salvar');
                            }
                        });

                        return false;
                    }
                });
                $('#prescricoesOutrasEditForm').validate();

            }
        });
    }




    function editprescricoesCuidados(codPrescricaoCuidado) {

        $.ajax({
            url: '<?php echo base_url('prescricoesCuidados/getOne') ?>',
            type: 'post',
            data: {
                codPrescricaoCuidado: codPrescricaoCuidado,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            dataType: 'json',
            success: function(responseCuidadoslEdit) {


                // reset the form
                $("#prescricoesCuidadosEditForm")[0].reset();
                $(".form-control").removeClass('is-invalid').removeClass('is-valid');
                $('#prescricoesCuidadosEditModal').modal('show');

                $("#prescricoesCuidadosEditForm #codAtendimentoPrescricaoCuidadosEdit").val(responseCuidadoslEdit.codAtendimentoPrescricao);
                $("#prescricoesCuidadosEditForm #codPrescricaoCuidadosEdit").val(responseCuidadoslEdit.codPrescricaoCuidado);
                $("#prescricoesCuidadosEditForm #descricaoCuidadosEdit").val(responseCuidadoslEdit.descricao);
                $("#prescricoesCuidadosEditForm #aprazaCuidadosEdit").val(responseCuidadoslEdit.apraza);


                $.ajax({
                    url: '<?php echo base_url('prescricoesCuidados/listaDropDownCuidados') ?>',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    success: function(listaCuidadosEdit) {

                        $("#codCuidadosEdit").select2({
                            data: listaCuidadosEdit,
                            dropdownParent: $('#prescricoesCuidadosEditModal .modal-content'),
                        })

                        $('#codCuidadosEdit').val(responseCuidadoslEdit.codTipoCuidadoPrescricao);
                        $('#codCuidadosEdit').trigger('change');
                        $(document).on('select2:open', () => {
                            document.querySelector('.select2-search__field').focus();
                        });

                    }
                })


                // submit the edit from
                $.validator.setDefaults({
                    highlight: function(element) {
                        $(element).addClass('is-invalid').removeClass('is-valid');
                    },
                    unhighlight: function(element) {
                        $(element).removeClass('is-invalid').addClass('is-valid');
                    },
                    errorElement: 'div ',
                    errorClass: 'invalid-feedback',
                    errorPlacement: function(error, element) {
                        if (element.parent('.input-group').length) {
                            error.insertAfter(element.parent());
                        } else if ($(element).is('.select')) {
                            element.next().after(error);
                        } else if (element.hasClass('select2')) {
                            //error.insertAfter(element);
                            error.insertAfter(element.next());
                        } else if (element.hasClass('selectpicker')) {
                            error.insertAfter(element.next());
                        } else {
                            error.insertAfter(element);
                        }
                    },

                    submitHandler: function(form) {
                        var form = $('#prescricoesCuidadosEditForm');
                        $(".text-danger").remove();
                        $.ajax({
                            url: '<?php echo base_url('prescricoesCuidados/edit') ?>',
                            type: 'post',
                            data: form.serialize(),
                            dataType: 'json',
                            beforeSend: function() {
                                //$('#prescricoesCuidadosEditForm-btn').html('<i class="fa fa-spinner fa-spin"></i>');
                            },
                            success: function(response) {

                                if (response.success === true) {

                                    $('#prescricoesCuidadosEditModal').modal('hide');


                                    var Toast = Swal.mixin({
                                        toast: true,
                                        position: 'bottom-end',
                                        showConfirmButton: false,
                                        timer: 2000
                                    });
                                    Toast.fire({
                                        icon: 'success',
                                        title: response.messages
                                    }).then(function() {
                                        $('#data_tableprescricoesCuidados').DataTable().ajax.reload(null, false).draw(false);
                                    })

                                } else {

                                    if (response.messages instanceof Object) {
                                        $.each(response.messages, function(index, value) {
                                            var id = $("#" + index);

                                            id.closest('.form-control')
                                                .removeClass('is-invalid')
                                                .removeClass('is-valid')
                                                .addClass(value.length > 0 ? 'is-invalid' : 'is-valid');

                                            id.after(value);

                                        });
                                    } else {
                                        var Toast = Swal.mixin({
                                            toast: true,
                                            position: 'bottom-end',
                                            showConfirmButton: false,
                                            timer: 2000
                                        });
                                        Toast.fire({
                                            icon: 'error',
                                            title: response.messages
                                        })

                                    }
                                }
                                $('#prescricoesCuidadosEditForm-btn').html('Salvar');
                            }
                        });

                        return false;
                    }
                });
                $('#prescricoesCuidadosEditForm').validate();

            }
        });
    }




    function removeprescricaoMedicamentos(codPrescricaoMedicamento) {
        Swal.fire({
            title: 'Você tem certeza que deseja remover?',
            text: "Você não poderá reverter após a confirmação",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {
                $.ajax({
                    url: '<?php echo base_url('prescricaoMedicamentos/remove') ?>',
                    type: 'post',
                    data: {
                        codPrescricaoMedicamento: codPrescricaoMedicamento,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    dataType: 'json',
                    success: function(response) {

                        if (response.success === true) {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {
                                $('#data_tableprescricaoMedicamentos').DataTable().ajax.reload(null, false).draw(false);
                                $('#data_tableprescricaoDietas').DataTable().ajax.reload(null, false).draw(false);
                            })
                        } else {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'error',
                                title: response.messages
                            })


                        }
                    }
                });
            }
        })
    }

    function removeprescricoesMaterial(codPrescricaoMaterial) {
        Swal.fire({
            title: 'Você tem certeza que deseja remover?',
            text: "Você não poderá reverter após a confirmação",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {
                $.ajax({
                    url: '<?php echo base_url('prescricoesMaterial/remove') ?>',
                    type: 'post',
                    data: {
                        codPrescricaoMaterial: codPrescricaoMaterial,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    dataType: 'json',
                    success: function(response) {

                        if (response.success === true) {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {
                                $('#data_tableprescricoesMaterial').DataTable().ajax.reload(null, false).draw(false);
                            })
                        } else {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'error',
                                title: response.messages
                            })


                        }
                    }
                });
            }
        })
    }

    function removeprescricoesOutras(codPrescricaoOutra) {
        Swal.fire({
            title: 'Você tem certeza que deseja remover?',
            text: "Você não poderá reverter após a confirmação",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {
                $.ajax({
                    url: '<?php echo base_url('prescricoesOutras/remove') ?>',
                    type: 'post',
                    data: {
                        codPrescricaoOutra: codPrescricaoOutra,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    dataType: 'json',
                    success: function(response) {

                        if (response.success === true) {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {
                                $('#data_tableprescricoesOutras').DataTable().ajax.reload(null, false).draw(false);
                            })
                        } else {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'error',
                                title: response.messages
                            })


                        }
                    }
                });
            }
        })
    }


    function removeprescricoesCuidados(codPrescricaoCuidado) {
        Swal.fire({
            title: 'Você tem certeza que deseja remover?',
            text: "Você não poderá reverter após a confirmação",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {
                $.ajax({
                    url: '<?php echo base_url('prescricoesCuidados/remove') ?>',
                    type: 'post',
                    data: {
                        codPrescricaoCuidado: codPrescricaoCuidado,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    dataType: 'json',
                    success: function(response) {

                        if (response.success === true) {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {
                                $('#data_tableprescricoesCuidados').DataTable().ajax.reload(null, false).draw(false);
                            })
                        } else {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'error',
                                title: response.messages
                            })


                        }
                    }
                });
            }
        })
    }


    function editprescricaoMedicamentos(codPrescricaoMedicamento) {

        $.ajax({
            url: '<?php echo base_url('prescricaoMedicamentos/getOne') ?>',
            type: 'post',
            data: {
                codPrescricaoMedicamento: codPrescricaoMedicamento,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            dataType: 'json',
            success: function(response) {


                // reset the form
                $("#prescricaoMedicamentosEditForm")[0].reset();
                $(".form-control").removeClass('is-invalid').removeClass('is-valid');
                $('#prescricaoMedicamentosEditModal').modal('show');

                $("#prescricaoMedicamentosEditForm #codPrescricaoMedicamentoEdit").val(response.codPrescricaoMedicamento);
                $("#prescricaoMedicamentosEditForm #codAtendimentoPrescricaoMedicamentoEdit").val(response.codAtendimentoPrescricao);
                $("#prescricaoMedicamentosEditForm #qtdeEdit").val(response.qtde);
                $("#prescricaoMedicamentosEditForm #freqPrescricaoEdit").val(response.freq);
                $("#prescricaoMedicamentosEditForm #diasPrescricaoEdit").val(response.dias);
                $("#prescricaoMedicamentosEditForm #horaIniPrescricaoEdit").val(response.horaIni);
                $("#prescricaoMedicamentosEditForm #obsPrescricaoEdit").val(response.obs);
                $("#prescricaoMedicamentosEditForm #totalEdit").val(response.total);






                $.ajax({
                    url: '<?php echo base_url('itensFarmacia/listaDropDownMedicamentos') ?>',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    success: function(listaMedicamentosEdit) {

                        $("#codMedicamentoPrescritoEdit").select2({
                            data: listaMedicamentosEdit,
                            minimumInputLength: 3,
                            quietMillis: 1000,
                            dropdownParent: $('#prescricaoMedicamentosEditModal .modal-content'),
                        })

                        $('#codMedicamentoPrescritoEdit').val(response.codMedicamento);
                        $('#codMedicamentoPrescritoEdit').trigger('change');
                        $(document).on('select2:open', () => {
                            document.querySelector('.select2-search__field').focus();
                        });

                    }
                })



                $.ajax({
                    url: '<?php echo base_url('prescricaoMedicamentos/listaDropDownUnidades') ?>',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    success: function(listaUnidadePrescricaoEdit) {

                        $("#undPrescricaoEdit").select2({
                            data: listaUnidadePrescricaoEdit,
                        })

                        $('#undPrescricaoEdit').val(response.und);
                        $('#undPrescricaoEdit').trigger('change');
                        $(document).on('select2:open', () => {
                            document.querySelector('.select2-search__field').focus();
                        });

                    }
                })




                $.ajax({
                    url: '<?php echo base_url('prescricaoMedicamentos/listaDropDownVias') ?>',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    success: function(listaViasPrescricaoEdit) {

                        $("#viaPrescricaoEdit").select2({
                            data: listaViasPrescricaoEdit,
                        })

                        $('#viaPrescricaoEdit').val(response.via);
                        $('#viaPrescricaoEdit').trigger('change');
                        $(document).on('select2:open', () => {
                            document.querySelector('.select2-search__field').focus();
                        });

                    }
                })


                $.ajax({
                    url: '<?php echo base_url('prescricaoMedicamentos/listaDropDownPeriodo') ?>',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    success: function(listaPeriodoPrescricaoEdit) {

                        $("#perPrescricaoEdit").select2({
                            data: listaPeriodoPrescricaoEdit,
                        })

                        $('#perPrescricaoEdit').val(response.per);
                        $('#perPrescricaoEdit').trigger('change');
                        $(document).on('select2:open', () => {
                            document.querySelector('.select2-search__field').focus();
                        });

                    }
                })


                $.ajax({
                    url: '<?php echo base_url('prescricaoMedicamentos/listaDropDownAgora') ?>',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    success: function(listaApicarAgoraPrescricaoEdit) {

                        $("#aplicarAgoraPrescricaoEdit").select2({
                            data: listaApicarAgoraPrescricaoEdit,
                        })

                        $('#aplicarAgoraPrescricaoEdit').val(response.agora);
                        $('#aplicarAgoraPrescricaoEdit').trigger('change');
                        $(document).on('select2:open', () => {
                            document.querySelector('.select2-search__field').focus();
                        });

                    }
                })



                $.ajax({
                    url: '<?php echo base_url('prescricaoMedicamentos/listaDropDownRiscoPrescricao') ?>',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    success: function(listaRiscoPrescricaoEdit) {

                        $("#riscoPrescricaoEdit").select2({
                            data: listaRiscoPrescricaoEdit,
                        })

                        $('#riscoPrescricaoEdit').val(response.risco);
                        $('#riscoPrescricaoEdit').trigger('change');
                        $(document).on('select2:open', () => {
                            document.querySelector('.select2-search__field').focus();
                        });

                    }
                })





                // submit the edit from
                $.validator.setDefaults({
                    highlight: function(element) {
                        $(element).addClass('is-invalid').removeClass('is-valid');
                    },
                    unhighlight: function(element) {
                        $(element).removeClass('is-invalid').addClass('is-valid');
                    },
                    errorElement: 'div ',
                    errorClass: 'invalid-feedback',
                    errorPlacement: function(error, element) {
                        if (element.parent('.input-group').length) {
                            error.insertAfter(element.parent());
                        } else if ($(element).is('.select')) {
                            element.next().after(error);
                        } else if (element.hasClass('select2')) {
                            //error.insertAfter(element);
                            error.insertAfter(element.next());
                        } else if (element.hasClass('selectpicker')) {
                            error.insertAfter(element.next());
                        } else {
                            error.insertAfter(element);
                        }
                    },

                    submitHandler: function(form) {
                        var form = $('#prescricaoMedicamentosEditForm');
                        $(".text-danger").remove();
                        $.ajax({
                            url: '<?php echo base_url('prescricaoMedicamentos/edit') ?>',
                            type: 'post',
                            data: form.serialize(),
                            dataType: 'json',
                            beforeSend: function() {
                                //$('#prescricaoMedicamentosEditForm-btn').html('<i class="fa fa-spinner fa-spin"></i>');
                            },
                            success: function(response) {

                                if (response.success === true) {

                                    $('#prescricaoMedicamentosEditModal').modal('hide');


                                    var Toast = Swal.mixin({
                                        toast: true,
                                        position: 'bottom-end',
                                        showConfirmButton: false,
                                        timer: 2000
                                    });
                                    Toast.fire({
                                        icon: 'success',
                                        title: response.messages
                                    }).then(function() {
                                        $('#data_tableprescricaoMedicamentos').DataTable().ajax.reload(null, false).draw(false);
                                        $('#data_tableprescricaoDietas').DataTable().ajax.reload(null, false).draw(false);
                                    })

                                } else {

                                    if (response.messages instanceof Object) {
                                        $.each(response.messages, function(index, value) {
                                            var id = $("#" + index);

                                            id.closest('.form-control')
                                                .removeClass('is-invalid')
                                                .removeClass('is-valid')
                                                .addClass(value.length > 0 ? 'is-invalid' : 'is-valid');

                                            id.after(value);

                                        });
                                    } else {
                                        var Toast = Swal.mixin({
                                            toast: true,
                                            position: 'bottom-end',
                                            showConfirmButton: false,
                                            timer: 2000
                                        });
                                        Toast.fire({
                                            icon: 'error',
                                            title: response.messages
                                        })

                                    }
                                }
                                $('#prescricaoMedicamentosEditForm-btn').html('Salvar');
                            }
                        });

                        return false;
                    }
                });
                $('#prescricaoMedicamentosEditForm').validate();

            }
        });
    }



    function editprescricoesMaterial(codPrescricaoMaterial) {

        $.ajax({
            url: '<?php echo base_url('prescricoesMaterial/getOne') ?>',
            type: 'post',
            data: {
                codPrescricaoMaterial: codPrescricaoMaterial,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            dataType: 'json',
            success: function(responseMaterialEdit) {


                // reset the form
                $("#prescricoesMaterialEditForm")[0].reset();
                $(".form-control").removeClass('is-invalid').removeClass('is-valid');
                $('#prescricoesMaterialEditModal').modal('show');

                $("#prescricoesMaterialEditForm #codAtendimentoPrescricaoMaterialEdit").val(responseMaterialEdit.codAtendimentoPrescricao);
                $("#prescricoesMaterialEditForm #codPrescricaoMaterialEdit").val(responseMaterialEdit.codPrescricaoMaterial);
                $("#prescricoesMaterialEditForm #qtdeEdit").val(responseMaterialEdit.qtde);
                $("#prescricoesMaterialEditForm #observacaoMaterialEdit").val(responseMaterialEdit.observacao);







                $.ajax({
                    url: '<?php echo base_url('prescricoesMaterial/listaDropDownMaterials') ?>',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    success: function(listaMaterialsEdit) {

                        $("#codMaterialEdit").select2({
                            data: listaMaterialsEdit,
                            minimumInputLength: 3,
                            quietMillis: 1000,
                            dropdownParent: $('#prescricoesMaterialEditModal .modal-content'),
                        })

                        $('#codMaterialEdit').val(responseMaterialEdit.codMaterial);
                        $('#codMaterialEdit').trigger('change');
                        $(document).on('select2:open', () => {
                            document.querySelector('.select2-search__field').focus();
                        });

                    }
                })




                // submit the edit from
                $.validator.setDefaults({
                    highlight: function(element) {
                        $(element).addClass('is-invalid').removeClass('is-valid');
                    },
                    unhighlight: function(element) {
                        $(element).removeClass('is-invalid').addClass('is-valid');
                    },
                    errorElement: 'div ',
                    errorClass: 'invalid-feedback',
                    errorPlacement: function(error, element) {
                        if (element.parent('.input-group').length) {
                            error.insertAfter(element.parent());
                        } else if ($(element).is('.select')) {
                            element.next().after(error);
                        } else if (element.hasClass('select2')) {
                            //error.insertAfter(element);
                            error.insertAfter(element.next());
                        } else if (element.hasClass('selectpicker')) {
                            error.insertAfter(element.next());
                        } else {
                            error.insertAfter(element);
                        }
                    },

                    submitHandler: function(form) {
                        var form = $('#prescricoesMaterialEditForm');
                        $(".text-danger").remove();
                        $.ajax({
                            url: '<?php echo base_url('prescricoesMaterial/edit') ?>',
                            type: 'post',
                            data: form.serialize(),
                            dataType: 'json',
                            beforeSend: function() {
                                //$('#prescricoesMaterialEditForm-btn').html('<i class="fa fa-spinner fa-spin"></i>');
                            },
                            success: function(response) {

                                if (response.success === true) {

                                    $('#prescricoesMaterialEditModal').modal('hide');


                                    var Toast = Swal.mixin({
                                        toast: true,
                                        position: 'bottom-end',
                                        showConfirmButton: false,
                                        timer: 2000
                                    });
                                    Toast.fire({
                                        icon: 'success',
                                        title: response.messages
                                    }).then(function() {
                                        $('#data_tableprescricoesMaterial').DataTable().ajax.reload(null, false).draw(false);
                                    })

                                } else {

                                    if (response.messages instanceof Object) {
                                        $.each(response.messages, function(index, value) {
                                            var id = $("#" + index);

                                            id.closest('.form-control')
                                                .removeClass('is-invalid')
                                                .removeClass('is-valid')
                                                .addClass(value.length > 0 ? 'is-invalid' : 'is-valid');

                                            id.after(value);

                                        });
                                    } else {
                                        var Toast = Swal.mixin({
                                            toast: true,
                                            position: 'bottom-end',
                                            showConfirmButton: false,
                                            timer: 2000
                                        });
                                        Toast.fire({
                                            icon: 'error',
                                            title: response.messages
                                        })

                                    }
                                }
                                $('#prescricoesMaterialEditForm-btn').html('Salvar');
                            }
                        });

                        return false;
                    }
                });
                $('#prescricoesMaterialEditForm').validate();

            }
        });
    }




    function addprescricaoMedicamentos() {


        // reset the form
        $("#prescricaoMedicamentosAddForm")[0].reset();
        $(".form-control").removeClass('is-invalid').removeClass('is-valid');
        $('#prescricaoMedicamentosAddModal').modal('show');

        document.getElementById("codAtendimentoPrescricaoMedicamentoAdd").value = document.getElementById("codAtendimentoPrescricaoEdit").value;

        document.getElementById('codAtendimentoMedicamentoAdd').value = document.getElementById('codAtendimentoAnamnese').value;






        $.ajax({
            url: '<?php echo base_url('itensFarmacia/listaDropDownMedicamentos') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(listaMedicamentosAdd) {

                $("#codMedicamentoPrescritoAdd").select2({
                    data: listaMedicamentosAdd,
                    minimumInputLength: 3,
                    quietMillis: 1000,
                    dropdownParent: $('#prescricaoMedicamentosAddModal .modal-content'),
                })

                $('#codMedicamentoPrescritoAdd').val(null);
                $('#codMedicamentoPrescritoAdd').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });

            }
        })



        $.ajax({
            url: '<?php echo base_url('prescricaoMedicamentos/listaDropDownUnidades') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(listaUnidadePrescricaoAdd) {

                $("#undPrescricaoAdd").select2({
                    data: listaUnidadePrescricaoAdd,
                })

                $('#undPrescricaoAdd').val(null);
                $('#undPrescricaoAdd').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });

            }
        })




        $.ajax({
            url: '<?php echo base_url('prescricaoMedicamentos/listaDropDownVias') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(listaViasPrescricaoAdd) {

                $("#viaPrescricaoAdd").select2({
                    data: listaViasPrescricaoAdd,
                })

                $('#viaPrescricaoAdd').val(null);
                $('#viaPrescricaoAdd').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });

            }
        })


        $.ajax({
            url: '<?php echo base_url('prescricaoMedicamentos/listaDropDownPeriodo') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(listaPeriodoPrescricaoAdd) {

                $("#perPrescricaoAdd").select2({
                    data: listaPeriodoPrescricaoAdd,
                })

                $('#perPrescricaoAdd').val(null);
                $('#perPrescricaoAdd').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });

            }
        })


        $.ajax({
            url: '<?php echo base_url('prescricaoMedicamentos/listaDropDownAgora') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(listaApicarAgoraPrescricaoAdd) {

                $("#aplicarAgoraPrescricaoAdd").select2({
                    data: listaApicarAgoraPrescricaoAdd,
                })

                $('#aplicarAgoraPrescricaoAdd').val(null);
                $('#aplicarAgoraPrescricaoAdd').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });

            }
        })



        $.ajax({
            url: '<?php echo base_url('prescricaoMedicamentos/listaDropDownRiscoPrescricao') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(listaRiscoPrescricaoAdd) {

                $("#riscoPrescricaoAdd").select2({
                    data: listaRiscoPrescricaoAdd,
                })

                $('#riscoPrescricaoAdd').val(null);
                $('#riscoPrescricaoAdd').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });

            }
        })









        // submit the add from
        $.validator.setDefaults({
            highlight: function(element) {
                $(element).addClass('is-invalid').removeClass('is-valid');
            },
            unhighlight: function(element) {
                $(element).removeClass('is-invalid').addClass('is-valid');
            },
            errorElement: 'div ',
            errorClass: 'invalid-feedback',
            errorPlacement: function(error, element) {
                if (element.parent('.input-group').length) {
                    error.insertAfter(element.parent());
                } else if ($(element).is('.select')) {
                    element.next().after(error);
                } else if (element.hasClass('select2')) {
                    //error.insertAfter(element);
                    error.insertAfter(element.next());
                } else if (element.hasClass('selectpicker')) {
                    error.insertAfter(element.next());
                } else {
                    error.insertAfter(element);
                }
            },

            submitHandler: function(form) {

                var form = $('#prescricaoMedicamentosAddForm');
                $('#prescricaoMedicamentosAddModal').modal('hide');

                // remove the text-danger
                $(".text-danger").remove();

                $.ajax({
                    url: '<?php echo base_url('prescricaoMedicamentos/add') ?>',
                    type: 'post',
                    data: form.serialize(), // /converting the form data into array and sending it to server
                    dataType: 'json',
                    success: function(response) {

                        if (response.success === true) {
                            $('#prescricaoMedicamentosAddModal').modal('hide');

                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {
                                $('#data_tableprescricaoMedicamentos').DataTable().ajax.reload(null, false).draw(false);
                                $('#data_tableprescricaoDietas').DataTable().ajax.reload(null, false).draw(false);
                            })

                        } else {

                            if (response.messages instanceof Object) {
                                $.each(response.messages, function(index, value) {
                                    var id = $("#" + index);

                                    id.closest('.form-control')
                                        .removeClass('is-invalid')
                                        .removeClass('is-valid')
                                        .addClass(value.length > 0 ? 'is-invalid' : 'is-valid');

                                    id.after(value);

                                });
                            } else {

                                Swal.fire({
                                    icon: 'error',
                                    title: response.messages,
                                    showConfirmButton: true,
                                    confirmButtonText: 'Ok',
                                });

                            }
                        }
                    }
                });

                return false;
            }
        });
        $('#prescricaoMedicamentosAddForm').validate();
    }




    function addprescricaoDieta() {


        // reset the form
        $("#prescricaoDietasAddForm")[0].reset();
        $(".form-control").removeClass('is-invalid').removeClass('is-valid');
        $('#prescricaoDietasAddModal').modal('show');

        document.getElementById("codAtendimentoPrescricaoDietaAdd").value = document.getElementById("codAtendimentoPrescricaoEdit").value;

        document.getElementById('codAtendimentoDietaAdd').value = document.getElementById('codAtendimentoAnamnese').value;






        $.ajax({
            url: '<?php echo base_url('itensFarmacia/listaDropDownDietas') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(listaDietasAdd) {

                $("#codDietaPrescritoAdd").select2({
                    data: listaDietasAdd,
                    minimumInputLength: 3,
                    quietMillis: 1000,
                    dropdownParent: $('#prescricaoDietasAddModal .modal-content'),
                })

                $('#codDietaPrescritoAdd').val(null);
                $('#codDietaPrescritoAdd').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });

            }
        })



        $.ajax({
            url: '<?php echo base_url('prescricaoMedicamentos/listaDropDownUnidades') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(listaUnidadePrescricaoAdd) {

                $("#prescricaoDietasAddForm #undPrescricaoAdd").select2({
                    data: listaUnidadePrescricaoAdd,
                })

                $('#prescricaoDietasAddForm #undPrescricaoAdd').val(null);
                $('#prescricaoDietasAddForm #undPrescricaoAdd').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });

            }
        })




        $.ajax({
            url: '<?php echo base_url('prescricaoMedicamentos/listaDropDownVias') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(listaViasPrescricaoAdd) {

                $("#prescricaoDietasAddForm #viaPrescricaoAdd").select2({
                    data: listaViasPrescricaoAdd,
                })

                $('#prescricaoDietasAddForm #viaPrescricaoAdd').val(null);
                $('#prescricaoDietasAddForm #viaPrescricaoAdd').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });

            }
        })


        $.ajax({
            url: '<?php echo base_url('prescricaoMedicamentos/listaDropDownPeriodo') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(listaPeriodoPrescricaoAdd) {

                $("#prescricaoDietasAddForm #perPrescricaoAdd").select2({
                    data: listaPeriodoPrescricaoAdd,
                })

                $('#prescricaoDietasAddForm #perPrescricaoAdd').val(null);
                $('#prescricaoDietasAddForm #perPrescricaoAdd').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });

            }
        })


        $.ajax({
            url: '<?php echo base_url('prescricaoMedicamentos/listaDropDownAgora') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(listaApicarAgoraPrescricaoAdd) {

                $("#prescricaoDietasAddForm #aplicarAgoraPrescricaoAdd").select2({
                    data: listaApicarAgoraPrescricaoAdd,
                })

                $('#prescricaoDietasAddForm #aplicarAgoraPrescricaoAdd').val(null);
                $('#prescricaoDietasAddForm #aplicarAgoraPrescricaoAdd').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });

            }
        })



        $.ajax({
            url: '<?php echo base_url('prescricaoMedicamentos/listaDropDownRiscoPrescricao') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(listaRiscoPrescricaoAdd) {

                $("#prescricaoDietasAddForm #riscoPrescricaoAdd").select2({
                    data: listaRiscoPrescricaoAdd,
                })

                $('#prescricaoDietasAddForm #riscoPrescricaoAdd').val(null);
                $('#prescricaoDietasAddForm #riscoPrescricaoAdd').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });

            }
        })









        // submit the add from
        $.validator.setDefaults({
            highlight: function(element) {
                $(element).addClass('is-invalid').removeClass('is-valid');
            },
            unhighlight: function(element) {
                $(element).removeClass('is-invalid').addClass('is-valid');
            },
            errorElement: 'div ',
            errorClass: 'invalid-feedback',
            errorPlacement: function(error, element) {
                if (element.parent('.input-group').length) {
                    error.insertAfter(element.parent());
                } else if ($(element).is('.select')) {
                    element.next().after(error);
                } else if (element.hasClass('select2')) {
                    //error.insertAfter(element);
                    error.insertAfter(element.next());
                } else if (element.hasClass('selectpicker')) {
                    error.insertAfter(element.next());
                } else {
                    error.insertAfter(element);
                }
            },

            submitHandler: function(form) {

                var form = $('#prescricaoDietasAddForm');
                $('#prescricaoDietasAddModal').modal('hide');

                // remove the text-danger
                $(".text-danger").remove();

                $.ajax({
                    url: '<?php echo base_url('prescricaoMedicamentos/add') ?>',
                    type: 'post',
                    data: form.serialize(), // /converting the form data into array and sending it to server
                    dataType: 'json',
                    success: function(response) {

                        if (response.success === true) {
                            $('#prescricaoDietasAddModal').modal('hide');

                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {
                                $('#data_tableprescricaoMedicamentos').DataTable().ajax.reload(null, false).draw(false);
                                $('#data_tableprescricaoDietas').DataTable().ajax.reload(null, false).draw(false);
                            })

                        } else {

                            if (response.messages instanceof Object) {
                                $.each(response.messages, function(index, value) {
                                    var id = $("#" + index);

                                    id.closest('.form-control')
                                        .removeClass('is-invalid')
                                        .removeClass('is-valid')
                                        .addClass(value.length > 0 ? 'is-invalid' : 'is-valid');

                                    id.after(value);

                                });
                            } else {

                                Swal.fire({
                                    icon: 'error',
                                    title: response.messages,
                                    showConfirmButton: true,
                                    confirmButtonText: 'Ok',
                                });

                            }
                        }
                    }
                });

                return false;
            }
        });
        $('#prescricaoDietasAddForm').validate();
    }




    function addprescricaoModeloMedicamentos(codModelo) {

        // reset the form
        $("#prescricaoMedicamentosAddModeloForm")[0].reset();
        $(".form-control").removeClass('is-invalid').removeClass('is-valid');
        $('#prescricaoMedicamentosAddItemModeloModal').modal('show');

        document.getElementById("codModeloAdd").value = codModelo;


        document.getElementById("prescricaoMedicamentosAddItemModeloModal").style.zIndex = "2003";




        $.ajax({
            url: '<?php echo base_url('itensFarmacia/listaDropDownMedicamentos') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(listaMedicamentosAdd) {

                $("#codMedicamentoPrescritoModeloAdd").select2({
                    data: listaMedicamentosAdd,
                })

                $('#codMedicamentoPrescritoModeloAdd').val(null);
                $('#codMedicamentoPrescritoModeloAdd').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });

            }
        })



        $.ajax({
            url: '<?php echo base_url('prescricaoMedicamentos/listaDropDownUnidades') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(listaUnidadePrescricaoAdd) {

                $("#undPrescricaoModeloAdd").select2({
                    data: listaUnidadePrescricaoAdd,
                })

                $('#undPrescricaoModeloAdd').val(null);
                $('#undPrescricaoModeloAdd').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });

            }
        })




        $.ajax({
            url: '<?php echo base_url('prescricaoMedicamentos/listaDropDownVias') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(listaViasPrescricaoAdd) {

                $("#viaPrescricaoModeloAdd").select2({
                    data: listaViasPrescricaoAdd,
                })

                $('#viaPrescricaoModeloAdd').val(null);
                $('#viaPrescricaoModeloAdd').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });

            }
        })


        $.ajax({
            url: '<?php echo base_url('prescricaoMedicamentos/listaDropDownPeriodo') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(listaPeriodoPrescricaoAdd) {

                $("#perPrescricaoModeloAdd").select2({
                    data: listaPeriodoPrescricaoAdd,
                })

                $('#perPrescricaoModeloAdd').val(null);
                $('#perPrescricaoModeloAdd').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });

            }
        })


        $.ajax({
            url: '<?php echo base_url('prescricaoMedicamentos/listaDropDownAgora') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(listaApicarAgoraPrescricaoAdd) {

                $("#aplicarAgoraPrescricaoModeloAdd").select2({
                    data: listaApicarAgoraPrescricaoAdd,
                })

                $('#aplicarAgoraPrescricaoModeloAdd').val(null);
                $('#aplicarAgoraPrescricaoModeloAdd').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });

            }
        })



        $.ajax({
            url: '<?php echo base_url('prescricaoMedicamentos/listaDropDownRiscoPrescricao') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(listaRiscoPrescricaoAdd) {

                $("#riscoPrescricaoModeloAdd").select2({
                    data: listaRiscoPrescricaoAdd,
                })

                $('#riscoPrescricaoModeloAdd').val(null);
                $('#riscoPrescricaoModeloAdd').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });

            }
        })




        // submit the add from
        $.validator.setDefaults({
            highlight: function(element) {
                $(element).addClass('is-invalid').removeClass('is-valid');
            },
            unhighlight: function(element) {
                $(element).removeClass('is-invalid').addClass('is-valid');
            },
            errorElement: 'div ',
            errorClass: 'invalid-feedback',
            errorPlacement: function(error, element) {
                if (element.parent('.input-group').length) {
                    error.insertAfter(element.parent());
                } else if ($(element).is('.select')) {
                    element.next().after(error);
                } else if (element.hasClass('select2')) {
                    //error.insertAfter(element);
                    error.insertAfter(element.next());
                } else if (element.hasClass('selectpicker')) {
                    error.insertAfter(element.next());
                } else {
                    error.insertAfter(element);
                }
            },

            submitHandler: function(form) {

                var form = $('#prescricaoMedicamentosAddModeloForm');
                $('#prescricaoMedicamentosAddItemModeloModal').modal('hide');

                // remove the text-danger
                $(".text-danger").remove();

                $.ajax({
                    url: '<?php echo base_url('modelosMedicamentos/addItem') ?>',
                    type: 'post',
                    data: form.serialize(), // /converting the form data into array and sending it to server
                    dataType: 'json',
                    success: function(response) {

                        if (response.success === true) {
                            $('#prescricaoMedicamentosAddItemModeloModal').modal('hide');

                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {
                                $('#data_tableModeloPrescricaoMedicamentos').DataTable().ajax.reload(null, false).draw(false);
                            })

                        } else {

                            if (response.messages instanceof Object) {
                                $.each(response.messages, function(index, value) {
                                    var id = $("#" + index);

                                    id.closest('.form-control')
                                        .removeClass('is-invalid')
                                        .removeClass('is-valid')
                                        .addClass(value.length > 0 ? 'is-invalid' : 'is-valid');

                                    id.after(value);

                                });
                            } else {

                                var Toast = Swal.mixin({
                                    toast: true,
                                    position: 'bottom-end',
                                    showConfirmButton: false,
                                    timer: 2000
                                });
                                Toast.fire({
                                    icon: 'error',
                                    title: response.messages
                                })

                            }
                        }
                        $('#prescricaoMedicamentosAddModeloForm-btn').html('Adicionar');
                    }
                });

                return false;
            }
        });
        $('#prescricaoMedicamentosAddModeloForm').validate();
    }


    function pegaHistoricoPaciente() {


        $('#historicoPacientesModal').modal('show');


        $.ajax({
            url: '<?php echo base_url('especialidades/listaDropDownEspecialidades') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(EspecialidadeFiltroHistoricoPaciente) {

                $("#codEspecialidadeFiltroHistoricoPaciente").select2({
                    data: EspecialidadeFiltroHistoricoPaciente,
                })

                $('#codEspecialidadeFiltroHistoricoPaciente').val(1000);
                $('#codEspecialidadeFiltroHistoricoPaciente').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });



            }
        });



        $.ajax({
            url: '<?php echo base_url('atendimentos/listaDropDownTiposAtendimentos') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(TipoAtendimentoFiltroHistoricoPaciente) {

                $("#codTipoAtendimentoFiltroHistoricoPaciente").select2({
                    data: TipoAtendimentoFiltroHistoricoPaciente,
                })

                $('#codTipoAtendimentoFiltroHistoricoPaciente').val(1000);
                $('#codTipoAtendimentoFiltroHistoricoPaciente').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });



            }
        });


        $("#codTipoAtendimentoFiltroHistoricoPaciente").on("change", function() {
            codTipoAtendimentoFiltroHistoricoPaciente = document.getElementById("codTipoAtendimentoFiltroHistoricoPaciente").value;
            if (codTipoAtendimentoFiltroHistoricoPaciente > 0 && codTipoAtendimentoFiltroHistoricoPaciente !== null && codTipoAtendimentoFiltroHistoricoPaciente !== '') {

                $.ajax({
                    url: '<?php echo base_url('pacientes/filtrarTipoAtendimentoFiltroHistoricoPaciente') ?>',
                    type: 'post',
                    data: {
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                        codTipoAtendimentoFiltroHistoricoPaciente: codTipoAtendimentoFiltroHistoricoPaciente,
                    },

                    dataType: 'json',
                    success: function(filtrarTipoAtendimentoFiltroHistoricoPaciente) {

                        if (filtrarTipoAtendimentoFiltroHistoricoPaciente.success === true) {


                        }
                    }
                })
            }


            codTipoAtendimentoFiltroHistoricoPaciente = 0;
        })



        $("#codEspecialidadeFiltroHistoricoPaciente").on("change", function() {
            codEspecialidadeFiltroHistoricoPaciente = document.getElementById("codEspecialidadeFiltroHistoricoPaciente").value;
            if (codEspecialidadeFiltroHistoricoPaciente > 0 && codEspecialidadeFiltroHistoricoPaciente !== null && codEspecialidadeFiltroHistoricoPaciente !== '') {



                $.ajax({
                    url: '<?php echo base_url('pacientes/filtrarEspecialidadeFiltroHistoricoPaciente') ?>',
                    type: 'post',
                    data: {
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                        codEspecialidadeFiltroHistoricoPaciente: codEspecialidadeFiltroHistoricoPaciente,
                    },
                    dataType: 'json',
                    success: function(filtrarEspecialidadeFiltroHistoricoPaciente) {

                        if (filtrarEspecialidadeFiltroHistoricoPaciente.success === true) {

                        }
                    }
                })


            }

            codEspecialidadeFiltroHistoricoPaciente = 0;
        })


    }

    function pegaHistoricoPacienteAgora() {


        $('#historicoPacientesModal').modal('hide');


        Swal.fire({
            title: 'A busca pelas informações solicitadas pode demorar alguns minutos!',
            html: '<div style="font-size:16px;color:#3498db">Enquanto estamos processando, você pode realizar outras ações no sistema. Quando a busca terminar você será informado na tela.</div>',
            icon: 'info',
            confirmButtonColor: '#3085d6',
            confirmButtonText: 'Ok',
        })



        $.ajax({
            url: '<?php echo base_url('pacientes/pegaHistoricoPaciente') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                codAtendimento: codAtendimentoTmp,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(historicoPaciente) {
                swal.close();
                document.getElementById('htmlHistoricoPaciente').innerHTML = historicoPaciente.html;



                Swal.fire({
                    title: 'Busca pelo Histórico do paciente finalizada',
                    icon: 'success',
                    confirmButtonColor: '#3085d6',
                    confirmButtonText: 'Ok',
                })


            }
        })

    }

    function addprescricaoModeloMateriais(codModelo) {

        // reset the form
        $("#prescricaoMateriaisAddModeloForm")[0].reset();
        $(".form-control").removeClass('is-invalid').removeClass('is-valid');
        $('#prescricaoMateriaisAddItemModeloModal').modal('show');

        document.getElementById("codModeloMaterialAdd").value = codModelo;


        document.getElementById("prescricaoMateriaisAddItemModeloModal").style.zIndex = "2003";




        $.ajax({
            url: '<?php echo base_url('itensFarmacia/listaDropDownMateriais') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(listaModeloMaterialAdd) {

                $("#codMaterialPrescritoModeloAdd").select2({
                    data: listaModeloMaterialAdd,
                })

                $('#codMaterialPrescritoModeloAdd').val(null);
                $('#codMaterialPrescritoModeloAdd').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });

            }
        })





        // submit the add from
        $.validator.setDefaults({
            highlight: function(element) {
                $(element).addClass('is-invalid').removeClass('is-valid');
            },
            unhighlight: function(element) {
                $(element).removeClass('is-invalid').addClass('is-valid');
            },
            errorElement: 'div ',
            errorClass: 'invalid-feedback',
            errorPlacement: function(error, element) {
                if (element.parent('.input-group').length) {
                    error.insertAfter(element.parent());
                } else if ($(element).is('.select')) {
                    element.next().after(error);
                } else if (element.hasClass('select2')) {
                    //error.insertAfter(element);
                    error.insertAfter(element.next());
                } else if (element.hasClass('selectpicker')) {
                    error.insertAfter(element.next());
                } else {
                    error.insertAfter(element);
                }
            },

            submitHandler: function(form) {

                var form = $('#prescricaoMateriaisAddModeloForm');
                $('#prescricaoMateriaisAddItemModeloModal').modal('hide');

                // remove the text-danger
                $(".text-danger").remove();

                $.ajax({
                    url: '<?php echo base_url('modelosMateriais/addItem') ?>',
                    type: 'post',
                    data: form.serialize(), // /converting the form data into array and sending it to server
                    dataType: 'json',
                    success: function(response) {

                        if (response.success === true) {
                            $('#prescricaoMateriaisAddItemModeloModal').modal('hide');

                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {
                                $('#data_tableModeloPrescricaoMateriais').DataTable().ajax.reload(null, false).draw(false);
                            })

                        } else {

                            if (response.messages instanceof Object) {
                                $.each(response.messages, function(index, value) {
                                    var id = $("#" + index);

                                    id.closest('.form-control')
                                        .removeClass('is-invalid')
                                        .removeClass('is-valid')
                                        .addClass(value.length > 0 ? 'is-invalid' : 'is-valid');

                                    id.after(value);

                                });
                            } else {

                                var Toast = Swal.mixin({
                                    toast: true,
                                    position: 'bottom-end',
                                    showConfirmButton: false,
                                    timer: 2000
                                });
                                Toast.fire({
                                    icon: 'error',
                                    title: response.messages
                                })

                            }
                        }

                    }
                });

                return false;
            }
        });
        $('#prescricaoMateriaisAddModeloForm').validate();
    }




    function desmarcarExame(codExame) {
        Swal.fire({
            title: 'Tem certeza que deseja cancelar este Exame?',
            html: '<span class="right badge badge-info">A vaga retornará para lista de vagas abertas!</span>',
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {
                $.ajax({
                    url: '<?php echo base_url('agendamentosExames/desmarcarExame') ?>',
                    type: 'post',
                    data: {
                        codExame: codExame,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    dataType: 'json',
                    success: function(response) {

                        if (response.success === true) {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {

                                if ($('#perfilPacienteModal').is(':visible') == true) {
                                    $('#data_tableProximosAgendamentosExames').DataTable().ajax.reload(null, false).draw(false);

                                }

                                if ($('#agendadosAgendamentosExamesModal').is(':visible') == true) {
                                    $('#data_tableagendamentosExames').DataTable().ajax.reload(null, false).draw(false);

                                }

                                //filtrar();
                            })
                        } else {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'error',
                                title: response.messages
                            })


                        }
                    }
                }).always(
                    Swal.fire({
                        title: 'Estamos realizando a desmarcação deste Exame',
                        html: 'Aguarde....',
                        timerProgressBar: true,
                        didOpen: () => {
                            Swal.showLoading()


                        }

                    }))
            }
        })
    }


    function chegou(codAgendamento) {
        Swal.fire({
            title: 'Deseja confirmar que o paciente chegou?',
            text: "O médico será notificado da presença do paciente na sala de espera",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {
                $.ajax({
                    url: '<?php echo base_url('agendamentos/chegou') ?>',
                    type: 'post',
                    data: {
                        codAgendamento: codAgendamento,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    dataType: 'json',
                    success: function(response) {

                        if (response.success === true) {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {
                                $('#data_tableagendamentos').DataTable().ajax.reload(null, false).draw(false);
                            })
                        } else {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'error',
                                title: response.messages
                            })


                        }
                    }
                }).always(
                    Swal.fire({
                        title: 'Estamos registrando a presença do paciente na consulta',
                        html: 'Aguarde....',
                        timerProgressBar: true,
                        didOpen: () => {
                            Swal.showLoading()


                        }

                    }))
            }
        })
    }




    function chegouExame(codExame) {
        Swal.fire({
            title: 'Deseja confirmar que o paciente chegou?',
            text: "O médico será notificado da presença do paciente na sala de espera",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {
                $.ajax({
                    url: '<?php echo base_url('agendamentosExames/chegouExame') ?>',
                    type: 'post',
                    data: {
                        codExame: codExame,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    dataType: 'json',
                    success: function(response) {

                        if (response.success === true) {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {
                                $('#data_tableagendamentosExames').DataTable().ajax.reload(null, false).draw(false);
                            })
                        } else {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'error',
                                title: response.messages
                            })


                        }
                    }
                }).always(
                    Swal.fire({
                        title: 'Estamos registrando a presença do paciente no exame',
                        html: 'Aguarde....',
                        timerProgressBar: true,
                        didOpen: () => {
                            Swal.showLoading()


                        }

                    }))
            }
        })
    }



    function confirmou(codAgendamento) {
        Swal.fire({
            title: 'O paciente confirmou que virá para consulta?',
            text: "A agenda do médico será atualizada após essa confirmação",

            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {
                $.ajax({
                    url: '<?php echo base_url('agendamentos/confirmou') ?>',
                    type: 'post',
                    data: {
                        codAgendamento: codAgendamento,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    dataType: 'json',
                    success: function(response) {

                        if (response.success === true) {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {
                                $('#data_tableagendamentos').DataTable().ajax.reload(null, false).draw(false);
                            })
                        } else {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'error',
                                title: response.messages
                            })


                        }
                    }
                }).always(
                    Swal.fire({
                        title: 'Estamos registrando a presença',
                        html: 'Aguarde....',
                        timerProgressBar: true,
                        didOpen: () => {
                            Swal.showLoading()


                        }

                    }))
            }
        })
    }


    function confirmouExame(codExame) {
        Swal.fire({
            title: 'O paciente confirmou ida ao Exame?',
            text: "A agenda do médico será atualizada após essa confirmação",

            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {
                $.ajax({
                    url: '<?php echo base_url('agendamentosExames/confirmouExame') ?>',
                    type: 'post',
                    data: {
                        codExame: codExame,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    dataType: 'json',
                    success: function(response) {

                        if (response.success === true) {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {
                                $('#data_tableagendamentosExames').DataTable().ajax.reload(null, false).draw(false);
                            })
                        } else {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'error',
                                title: response.messages
                            })


                        }
                    }
                }).always(
                    Swal.fire({
                        title: 'Estamos registrando a presença',
                        html: 'Aguarde....',
                        timerProgressBar: true,
                        didOpen: () => {
                            Swal.showLoading()


                        }

                    }))
            }
        })
    }


    function faltou(codAgendamento) {
        Swal.fire({
            title: 'Tem certeza que deseja marcar este paciente com falta?',
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {
                $.ajax({
                    url: '<?php echo base_url('agendamentos/faltou') ?>',
                    type: 'post',
                    data: {
                        codAgendamento: codAgendamento,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    dataType: 'json',
                    success: function(responseFaltou) {

                        if (responseFaltou.success === true) {

                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: responseFaltou.messages
                            }).then(function() {
                                $('#data_tableagendamentos').DataTable().ajax.reload(null, false).draw(false);
                            })
                        } else {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'error',
                                title: responseFaltou.messages
                            })


                        }
                    }
                }).always(
                    Swal.fire({
                        title: 'Estamos Registrando a falta',
                        html: 'Aguarde....',
                        timerProgressBar: true,
                        didOpen: () => {
                            Swal.showLoading()


                        }

                    }))
            }
        })
    }



    function faltouExame(codExame) {
        Swal.fire({
            title: 'Tem certeza que deseja marcar este paciente com falta?',
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {
                $.ajax({
                    url: '<?php echo base_url('agendamentosExames/faltou') ?>',
                    type: 'post',
                    data: {
                        codExame: codExame,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    dataType: 'json',
                    success: function(responseFaltou) {

                        if (responseFaltou.success === true) {

                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: responseFaltou.messages
                            }).then(function() {
                                $('#data_tableagendamentosExames').DataTable().ajax.reload(null, false).draw(false);
                            })
                        } else {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'error',
                                title: responseFaltou.messages
                            })


                        }
                    }
                }).always(
                    Swal.fire({
                        title: 'Estamos Registrando a falta',
                        html: 'Aguarde....',
                        timerProgressBar: true,
                        didOpen: () => {
                            Swal.showLoading()


                        }

                    }))
            }
        })
    }

    function cancelarConsulta(codAgendamento) {
        Swal.fire({
            title: 'Tem certeza que deseja cancelar esta consulta?',
            html: '<span class="right badge badge-danger">A vaga NÃO retornará para lista de vagas abertas!</span>',
            icon: 'info',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {
                $.ajax({
                    url: '<?php echo base_url('agendamentos/cancelarConsulta') ?>',
                    type: 'post',
                    data: {
                        codAgendamento: codAgendamento,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    dataType: 'json',
                    success: function(responseFaltou) {

                        if (responseFaltou.success === true) {

                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: responseFaltou.messages
                            }).then(function() {
                                $('#data_tableagendamentos').DataTable().ajax.reload(null, false).draw(false);
                            })
                        } else {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'error',
                                title: responseFaltou.messages
                            })


                        }
                    }
                }).always(
                    Swal.fire({
                        title: 'Estamos cancelando a consulta',
                        html: 'Aguarde....',
                        timerProgressBar: true,
                        didOpen: () => {
                            Swal.showLoading()


                        }

                    }))
            }
        })
    }


    function cancelarExame(codExame) {
        Swal.fire({
            title: 'Tem certeza que deseja cancelar este Exame?',
            html: '<span class="right badge badge-danger">A vaga NÃO retornará para lista de vagas abertas!</span>',
            icon: 'info',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {
                $.ajax({
                    url: '<?php echo base_url('agendamentosExames/cancelarExame') ?>',
                    type: 'post',
                    data: {
                        codExame: codExame,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    dataType: 'json',
                    success: function(responseCancelarExame) {

                        if (responseCancelarExame.success === true) {

                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: responseCancelarExame.messages
                            }).then(function() {
                                $('#data_tableagendamentosExames').DataTable().ajax.reload(null, false).draw(false);
                            })
                        } else {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'error',
                                title: responseCancelarExame.messages
                            })


                        }
                    }
                }).always(
                    Swal.fire({
                        title: 'Estamos cancelando a consulta',
                        html: 'Aguarde....',
                        timerProgressBar: true,
                        didOpen: () => {
                            Swal.showLoading()


                        }

                    }))
            }
        })
    }

    function encerrarConsulta(codAgendamento) {
        Swal.fire({
            title: 'Tem certeza que deseja encerar consulta?',
            icon: 'info',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {
                $.ajax({
                    url: '<?php echo base_url('agendamentos/encerrarConsulta') ?>',
                    type: 'post',
                    data: {
                        codAgendamento: codAgendamento,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    dataType: 'json',
                    success: function(responseFaltou) {

                        if (responseFaltou.success === true) {

                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: responseFaltou.messages
                            }).then(function() {
                                $('#data_tableagendamentos').DataTable().ajax.reload(null, false).draw(false);
                            })
                        } else {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'error',
                                title: responseFaltou.messages
                            })


                        }
                    }
                }).always(
                    Swal.fire({
                        title: 'Estamos Encerramento a Consulta',
                        html: 'Aguarde....',
                        timerProgressBar: true,
                        didOpen: () => {
                            Swal.showLoading()


                        }

                    }))
            }
        })
    }

    function encerrarExame(codExame) {
        Swal.fire({
            title: 'Tem certeza que deseja encerar Exame?',
            icon: 'info',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {
                $.ajax({
                    url: '<?php echo base_url('agendamentosExames/encerrarExame') ?>',
                    type: 'post',
                    data: {
                        codExame: codExame,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    dataType: 'json',
                    success: function(responseFaltou) {

                        if (responseFaltou.success === true) {

                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: responseFaltou.messages
                            }).then(function() {
                                $('#data_tableagendamentosExames').DataTable().ajax.reload(null, false).draw(false);
                            })
                        } else {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'error',
                                title: responseFaltou.messages
                            })


                        }
                    }
                }).always(
                    Swal.fire({
                        title: 'Estamos Encerramento a Consulta',
                        html: 'Aguarde....',
                        timerProgressBar: true,
                        didOpen: () => {
                            Swal.showLoading()


                        }

                    }))
            }
        })
    }


    function chamarPainel(codAgendamento) {

        $.ajax({
            url: '<?php echo base_url('agendamentos/chamarPacienteAgora') ?>',
            type: 'post',
            data: {
                codAgendamento: codAgendamento,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            dataType: 'json',
            success: function(chamaPaciente) {
                if (chamaPaciente.success === true) {
                    var Toast = Swal.mixin({
                        toast: true,
                        position: 'top-end',
                        showConfirmButton: false,
                        timer: 5000
                    });
                    Toast.fire({
                        icon: 'success',
                        title: chamaPaciente.messages
                    })

                } else {
                    var Toast = Swal.mixin({
                        toast: true,
                        position: 'top-end',
                        showConfirmButton: false,
                        timer: 5000
                    });
                    Toast.fire({
                        icon: 'error',
                        title: chamaPaciente.messages
                    })
                }

            }
        })

    }


    function chamarPainelUrgenciaEmergencia(codAtendimento) {

        $.ajax({
            url: '<?php echo base_url('atendimentos/chamarPacienteUrgenciaEmergenciaAgora') ?>',
            type: 'post',
            data: {
                codAtendimento: codAtendimento,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            dataType: 'json',
            success: function(chamaPaciente) {



                if (chamaPaciente.jaChamado === true) {
                    Swal.fire({
                        title: chamaPaciente.messages,
                        icon: 'info',
                        showConfirmButton: true,
                        confirmButtonText: 'Ok',
                    })
                }



                if (chamaPaciente.success === true) {
                    var Toast = Swal.mixin({
                        toast: true,
                        position: 'top-end',
                        showConfirmButton: false,
                        timer: 5000
                    });
                    Toast.fire({
                        icon: 'success',
                        title: chamaPaciente.messages
                    })

                }

                if (chamaPaciente.success === false) {
                    Swal.fire({
                        title: chamaPaciente.messages,
                        icon: 'error',
                        showConfirmButton: false,
                        timer: 3000
                    })
                }

            }
        })

    }

    function chamarPainelExame(codExame) {

        $.ajax({
            url: '<?php echo base_url('agendamentosExames/chamarPacienteAgora') ?>',
            type: 'post',
            data: {
                codExame: codExame,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            dataType: 'json',
            success: function(chamaPaciente) {
                if (chamaPaciente.success === true) {
                    var Toast = Swal.mixin({
                        toast: true,
                        position: 'top-end',
                        showConfirmButton: false,
                        timer: 5000
                    });
                    Toast.fire({
                        icon: 'success',
                        title: chamaPaciente.messages
                    })

                } else {
                    var Toast = Swal.mixin({
                        toast: true,
                        position: 'top-end',
                        showConfirmButton: false,
                        timer: 5000
                    });
                    Toast.fire({
                        icon: 'error',
                        title: chamaPaciente.messages
                    })
                }

            }
        })

    }


    function removepacientesAlergia(codPacienteAlergia) {
        Swal.fire({
            title: 'Você tem certeza que deseja remover este alergênico?',
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {
                $.ajax({
                    url: '<?php echo base_url('pacientesAlergia/remove') ?>',
                    type: 'post',
                    data: {
                        codPacienteAlergia: codPacienteAlergia,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    dataType: 'json',
                    success: function(response) {

                        if (response.success === true) {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {
                                $('#data_tablepacientesAlergia').DataTable().ajax.reload(null, false).draw(false);

                            })
                        } else {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'error',
                                title: response.messages
                            })


                        }
                    }
                });
            }
        })
    }


    function filtrarAgendados() {




        var form = $('#filtroAgendadosForm');
        $.ajax({
            url: '<?php echo base_url('agendamentos/filtrarVagas') ?>',
            type: 'post',
            data: form.serialize(), // /converting the form data into array and sending it to server
            dataType: 'json',
            success: function(filtrar) {

                if (filtrar.success === true) {
                    Swal.close();
                    $('#data_tableagendamentos').DataTable().ajax.reload(null, false).draw(false);



                }
            }
        }).always(
            Swal.fire({
                title: 'Estamos buscando pacienets marcados',
                html: 'Aguarde....',
                timerProgressBar: true,
                didOpen: () => {
                    Swal.showLoading()


                }

            }))
    }

    function filtrarAgendamentosExamesAgendados() {




        var form = $('#filtroAgendamentosExamesAgendadosForm');
        $.ajax({
            url: '<?php echo base_url('agendamentosExames/filtrarVagas') ?>',
            type: 'post',
            data: form.serialize(), // /converting the form data into array and sending it to server
            dataType: 'json',
            success: function(filtrar) {

                if (filtrar.success === true) {
                    Swal.close();
                    $('#data_tableagendamentosExames').DataTable().ajax.reload(null, false).draw(false);



                }
            }
        }).always(
            Swal.fire({
                title: 'Estamos buscando pacienets marcados',
                html: 'Aguarde....',
                timerProgressBar: true,
                didOpen: () => {
                    Swal.showLoading()


                }

            }))
    }





    function clonarAtendimentoPrescricao(codAtendimentoPrescricao) {



        document.getElementById("codAtendimentoPrescricaoCloneEdit").value = codAtendimentoPrescricao;
        document.getElementById("codAtendimentoCloneEdit").value = codAtendimentoTmp;

        // reset the form
        $('#atendimentosPrescricoesCloneModal').modal('show');
        document.getElementById("clonarProcedimentosAdd").checked = false;

    }


    function jaAssinado(codAtendimentoPrescricao) {
        Swal.fire({
            title: 'Documento já foi assinado!',
            icon: 'info',
            showConfirmButton: true,
            confirmButtonText: 'Ok',
        })
    }


    function clonarAtendimentoEvolucao(codAtendimentoEvolucao) {

        document.getElementById("codAtendimentoCloneEvolucoesAdd").value = codAtendimentoEvolucao;

        // reset the form
        $('#atendimentosCloneEvolucoesAddModal').modal('show');
        document.getElementById("atendimentosCloneEvolucoesAddModalHeader").innerHTML = nomeCargoTmp + ' ' + nomePacienteTmp + ' | ' + siglaTipoBeneficiarioTmp + ' | ' + idadePacienteTmp + ' | PRONT: ' + codProntuarioTmp + ' | PREC: ' + codPlanoTmp;


        $.ajax({
            url: '<?php echo base_url('AtendimentosEvolucoes/getOne') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                codAtendimentoEvolucao: codAtendimentoEvolucao,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(evolucaoClone) {

                $("#evolucoesCloneTextareaAdd").summernote('destroy');
                $("#evolucoesCloneTextareaAdd").val(evolucaoClone.conteudoEvolucao);


                $.ajax({
                    url: '<?php echo base_url('atendimentosEvolucoes/listaDropDownTiposEvolucao') ?>',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    success: function(tipoEvolucaoClone) {

                        $("#codTipoCloneEvolucaoAdd").select2({
                            data: tipoEvolucaoClone,
                        })

                        $('#codTipoCloneEvolucaoAdd').val(evolucaoClone.codTipoEvolucao);
                        $('#codTipoCloneEvolucaoAdd').trigger('change');
                        $(document).on('select2:open', () => {
                            document.querySelector('.select2-search__field').focus();
                        });

                    }
                })



                $(function() {

                    var salvarBtn = function(context) {
                        var uiSalvar = $.summernote.ui;

                        // create button
                        var buttonSalvar = uiSalvar.button({
                            contents: '<i class="fas fa-save"></i> SALVAR',
                            tooltip: 'salvar',
                            click: function() {

                                if (document.getElementById("codTipoCloneEvolucaoAdd").value == "" || document.getElementById("codTipoCloneEvolucaoAdd").value == null) {
                                    Swal.fire({
                                        position: 'bottom-end',
                                        icon: 'error',
                                        html: 'É necessário selecionar o tipo de evolução',
                                        showConfirmButton: false,
                                        timer: 4000
                                    });

                                } else {
                                    // Chama uma função
                                    addCloneEvolucao(evolucaoClone.codAtendimento);
                                }

                            }
                        });

                        return buttonSalvar.render(); // return button as jquery object
                    }


                    var fecharBtn = function(context) {
                        var uiFechar = $.summernote.ui;

                        // create button
                        var buttonFechar = uiFechar.button({
                            contents: '<i class="fas fa-window-close"></i> FECHAR',
                            tooltip: 'fechar',
                            click: function() {
                                // Chama uma função
                                $('#atendimentosCloneEvolucoesAddModal').modal('hide');
                            }
                        });

                        return buttonFechar.render(); // return button as jquery object
                    }

                    //ADD text editor
                    $('#evolucoesCloneTextareaAdd').summernote({
                        height: 200,
                        maximumImageFileSize: 1024 * 1024, // 1Mb
                        fontSizes: ['8', '9', '10', '11', '12', '14', '18', '20', '36', '72'],
                        lineHeights: ['0.2', '0.3', '0.4', '0.5', '0.6', '0.8', '1.0', '1.2', '1.4', '1.5', '2.0', '3.0'],
                        toolbar: [
                            ['mybutton1', ['salvar']],
                            ['style', ['style']],
                            ['fontname', ['fontname']],
                            ['font', ['color', 'strikethrough', 'superscript', 'subscript', 'bold', 'underline', 'clear']],
                            ['fontsize', ['fontsize']],
                            ['height', ['height']],
                            ['para', ['ul', 'ol', 'paragraph']],
                            ['table', ['table']],
                            ['insert', ['link', 'hr']],
                            ['view', ['fullscreen', 'codeview', 'help']],
                            ['redo'],
                            ['undo'],
                            ['mybutton2', ['fechar']],
                        ],
                        buttons: {
                            salvar: salvarBtn,
                            fechar: fecharBtn,
                        },
                        callbacks: {
                            onImageUploadError: function(msg) {
                                var Toast = Swal.mixin({
                                    toast: true,
                                    position: 'top-end',
                                    showConfirmButton: false,
                                    timer: 5000
                                });
                                Toast.fire({
                                    icon: 'error',
                                    title: 'Tamanho máximo de imagens é 1Mb'
                                })
                            }
                        }
                    })
                })
            }





        })

    }


function clonarAtendimentoDocumento(codAtendimentoDocumento) {




    Swal.fire({
                        title: 'Você tem certeza que deseja clonar este documento?',
                        icon: 'warning',
                        showCancelButton: true,
                        confirmButtonColor: '#3085d6',
                        cancelButtonColor: '#d33',
                        confirmButtonText: 'Confirmar',
                        cancelButtonText: 'Cancelar'
                    }).then((result) => {

                        if (result.value) {


                            $.ajax({
                                url: '<?php echo base_url('AtendimentosDocumentos/clonarDocumento') ?>',
                                type: 'post',
                                dataType: 'json',
                                data: {
                                    codAtendimentoDocumento: codAtendimentoDocumento,
                                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                                },
                                success: function(clonarDocumento) {


                                    if(clonarDocumento.success===true){
                                        $('#data_tableatendimentosDocumentos').DataTable().ajax.reload(null, false).draw(false);

                                        var Toast = Swal.mixin({
                                            toast: true,
                                            position: 'bottom-end',
                                            showConfirmButton: false,
                                            timer: 2000
                                        });
                                        Toast.fire({
                                            icon: 'success',
                                            title: response.messages
                                        })
                                        
                                    }else{
                                        Swal.fire({
                                        title: clonarDocumento.messages,
                                        icon: 'warning',
                                        showConfirmButton: true,
                                        confirmButtonText: 'Ok',
                                    })
                                    }

                                }

                            })


                        }
                    })


}

    function assinarPrescricao(codAtendimentoPrescricao) {


        //VERIFICA SE O TIPO DE DE PRESCRIÇÃO FOI DEFINIDO

        $.ajax({
            url: '<?php echo base_url('atendimentosPrescricoes/verificaTipo') ?>',
            type: 'post',
            data: {
                codAtendimentoPrescricao: codAtendimentoPrescricao,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            dataType: 'json',
            success: function(response) {
                if (response.faltaTipoPrescricao == '1') {

                    Swal.fire({
                        title: 'Você deve definir primeiro o tipo de prescrição',
                        text: 'Não é possível assinar a prescrição sem definir o tipo de prescrição("medicamentos", "Materiais" ou "Procedimentos")',
                        icon: 'warning',
                        showCancelButton: false,
                        confirmButtonColor: '#3085d6',
                        confirmButtonText: 'Ok'
                    })

                } else {


                    Swal.fire({
                        title: 'Você tem certeza que deseja assinar esta prescrição?',
                        text: "Você não poderá mais alterar nenhuma informação da prescrição",
                        icon: 'warning',
                        showCancelButton: true,
                        confirmButtonColor: '#3085d6',
                        cancelButtonColor: '#d33',
                        confirmButtonText: 'Confirmar',
                        cancelButtonText: 'Cancelar'
                    }).then((result) => {

                        if (result.value) {
                            $.ajax({
                                url: '<?php echo base_url('atendimentosPrescricoes/assinatura') ?>',
                                type: 'post',
                                data: {
                                    codAtendimentoPrescricao: codAtendimentoPrescricao,
                                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                                },
                                dataType: 'json',
                                success: function(response) {

                                    if (response.success === true) {
                                        var Toast = Swal.mixin({
                                            toast: true,
                                            position: 'bottom-end',
                                            showConfirmButton: false,
                                            timer: 2000
                                        });
                                        Toast.fire({
                                            icon: 'success',
                                            title: response.messages
                                        }).then(function() {
                                            $('#data_tableatendimentosPrescricoes').DataTable().ajax.reload(null, false).draw(false);
                                        })


                                        if ($('#listaInternadosModal').is(':visible') == true) {
                                            $('#data_tableListarInternados').DataTable().ajax.reload(null, false).draw(false);

                                        }


                                    } else {
                                        var Toast = Swal.mixin({
                                            toast: true,
                                            position: 'bottom-end',
                                            showConfirmButton: false,
                                            timer: 2000
                                        });
                                        Toast.fire({
                                            icon: 'error',
                                            title: response.messages
                                        })


                                    }
                                }
                            });
                        }
                    })
                }
            }
        })

    }


    function assinarConduta(codAtendimentoConduta) {
        Swal.fire({
            title: 'Você tem certeza que deseja assinar esta conduta?',
            text: "Você não poderá mais alterar nenhuma informação da conduta",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {
                $.ajax({
                    url: '<?php echo base_url('atendimentosCondutas/assinatura') ?>',
                    type: 'post',
                    data: {
                        codAtendimentoConduta: codAtendimentoConduta,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    dataType: 'json',
                    success: function(response) {

                        if (response.success === true) {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {
                                $('#data_tableatendimentosCondutas').DataTable().ajax.reload(null, false).draw(false);
                            })
                        } else {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'error',
                                title: response.messages
                            })


                        }
                    }
                });
            }
        })
    }




    function assinarEvolucao(codAtendimentoEvolucao) {
        Swal.fire({
            title: 'Você tem certeza que deseja assinar esta evolução?',
            text: "Você não poderá mais alterar nenhuma informação da evolução",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {
                $.ajax({
                    url: '<?php echo base_url('atendimentosEvolucoes/assinatura') ?>',
                    type: 'post',
                    data: {
                        codAtendimentoEvolucao: codAtendimentoEvolucao,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    dataType: 'json',
                    success: function(response) {

                        if (response.success === true) {

                            if ($('#listaInternadosModal').is(':visible') == true) {
                                $('#data_tableListarInternados').DataTable().ajax.reload(null, false).draw(false);

                            }

                            if ($('#atendimentosEvolucoesEditModal').is(':visible') == true) {
                                //$('#data_tableListarInternados').DataTable().ajax.reload(null, false).draw(false);
                                editAtendimentosEvolucao(codAtendimentoEvolucao);
                            }

                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {
                                $('#data_tableatendimentosEvolucoes').DataTable().ajax.reload(null, false).draw(false);
                            })
                        } else {

                            Swal.fire({
                                icon: 'warning',
                                title: response.messages,
                                showConfirmButton: true,
                                confirmButtonText: 'Ciente',
                            })


                        }
                    }
                });
            }
        })
    }


    function assinarParecer(codAtendimentoParecer) {
        Swal.fire({
            title: 'Você tem certeza que deseja assinar esta parecer?',
            text: "Você não poderá mais alterar nenhuma informação da parecer",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {
                $.ajax({
                    url: '<?php echo base_url('atendimentosPareceres/assinatura') ?>',
                    type: 'post',
                    data: {
                        codAtendimentoParecer: codAtendimentoParecer,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    dataType: 'json',
                    success: function(response) {

                        if (response.success === true) {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {
                                $('#data_tableatendimentosPareceres').DataTable().ajax.reload(null, false).draw(false);
                            })
                        } else {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'error',
                                title: response.messages
                            })


                        }
                    }
                });
            }
        })
    }



    function assinarDocumento(codAtendimentoDocumento) {
        Swal.fire({
            title: 'Você tem certeza que deseja assinar este Documento?',
            text: "Você não poderá mais alterar nenhuma informação do documento",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {
                $.ajax({
                    url: '<?php echo base_url('atendimentosDocumentos/assinatura') ?>',
                    type: 'post',
                    data: {
                        codAtendimentoDocumento: codAtendimentoDocumento,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    dataType: 'json',
                    success: function(response) {

                        if (response.success === true) {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {
                                $('#data_tableatendimentosDocumentos').DataTable().ajax.reload(null, false).draw(false);
                            })
                        } else {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'error',
                                title: response.messages
                            })


                        }
                    }
                });
            }
        })
    }


    function clonarPrescricaoAgora() {


        $('#atendimentosPrescricoesCloneModal').modal('hide');

        $.ajax({
            url: '<?php echo base_url('atendimentosPrescricoes/clonarPrescricao') ?>',
            type: 'post',
            data: {
                codAtendimentoPrescricao: document.getElementById("codAtendimentoPrescricaoCloneEdit").value,
                codAtendimento: document.getElementById("codAtendimentoCloneEdit").value,
                medicamentos: $("#clonarMedicamentosAdd").is(":checked"),
                kits: $("#clonarKitsAdd").is(":checked"),
                materiais: $("#clonarMateriaisAdd").is(":checked"),
                cuidados: $("#clonarCuidadosAdd").is(":checked"),
                dietas: $("#clonarDietasAdd").is(":checked"),
                procedimentos: $("#clonarProcedimentosAdd").is(":checked"),
                outras: $("#clonarOutrasAdd").is(":checked"),
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(clonarPrescricaoAdd) {


                if (clonarPrescricaoAdd.success === true) {

                    $('#data_tableatendimentosPrescricoes').DataTable().ajax.reload(null, false).draw(false);

                    Swal.fire({
                        position: 'bottom-end',
                        icon: 'success',
                        title: clonarPrescricaoAdd.messages,
                        showConfirmButton: false,
                        timer: 4000
                    })

                } else {
                    Swal.fire({
                        position: 'bottom-end',
                        icon: 'error',
                        title: clonarPrescricaoAdd.messages,
                        showConfirmButton: false,
                        timer: 4000
                    })
                }
            }
        })


    }







    function gravarMedicamentosExecutados(codPrescricaoMedicamento, total) {

        Swal.fire({
            title: 'Informe a quantidade executada',
            input: 'text',
            inputAttributes: {
                autocapitalize: 'off'
            },
            showCancelButton: true,
            confirmButtonText: 'Gravar',
        }).then((result) => {
            if (result.isConfirmed) {

                $.ajax({
                    url: '<?php echo base_url('prescricaoMedicamentos/gravarMedicamentosExecutados') ?>',
                    type: 'post',
                    data: {
                        codPrescricaoMedicamento: codPrescricaoMedicamento,
                        totalExecutado: result.value,
                        total: total,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    success: function(gravarMedicamentosExecutados) {

                        if (gravarMedicamentosExecutados.success === true) {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: gravarMedicamentosExecutados.messages
                            }).then(function() {
                                $('#data_tableprescricaoMedicamentos').DataTable().ajax.reload(null, false).draw(false);
                            })
                        } else {
                            Swal.fire({
                                position: 'bottom-end',
                                icon: 'error',
                                title: gravarMedicamentosExecutados.messages,
                                showConfirmButton: false,
                                timer: 4000
                            })
                        }

                    }
                })



            }
        })
    }





    function editatendimentosPrescricoes(codAtendimentoPrescricao) {


        document.getElementById("codAtendimentoPrescricaoEdit").value = codAtendimentoPrescricao;


        //document.getElementById("atendimentosPrescricoesEditModalHeader").innerHTML = nomePacienteTmp + ' | IDADE:' + idadePacienteTmp + ' | PRONTUÁRIO: ' + codProntuarioTmp;



        $.ajax({
            url: '<?php echo base_url('atendimentosPrescricoes/getOne') ?>',
            type: 'post',
            data: {
                codAtendimentoPrescricao: codAtendimentoPrescricao,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(prescricaoEdit) {

                $('#atendimentosPrescricoesEditModal').modal('show');
                document.getElementById("atendimentosPrescricoesEditModalHeader").innerHTML = nomeCargoTmp + ' ' + nomePacienteTmp + ' | ' + siglaTipoBeneficiarioTmp + ' | ' + idadePacienteTmp + ' | PRONT: ' + codProntuarioTmp + ' | PREC: ' + codPlanoTmp;

                document.getElementById("mostrarAlertaAlergia").innerHTML = prescricaoEdit.alergias;

                $("#prescricaoTextareaEdit").summernote('destroy');
                $("#dietaTextareaEdit").summernote('destroy');

                //PRESCRIÇÃO ASSINADA, BLOQUEAR ALTERAÇÃO

                if (prescricaoEdit.prescricaoDoDia == 0) {
                    document.getElementById("botaoNovoMedicamento").disabled = true;
                    document.getElementById("botaoNovaDieta").disabled = true;
                } else {

                    document.getElementById("botaoNovoMedicamento").disabled = false;
                    document.getElementById("botaoNovaDieta").disabled = false;
                }
                if (prescricaoEdit.codStatus == 2 || prescricaoEdit.codStatus == 3 || prescricaoEdit.codStatus == 4 || prescricaoEdit.editavel == 0) {

                    document.getElementById("botaoUsarModelo").disabled = true;
                    //document.getElementById("botaoSalvarModelo").disabled = true;
                    document.getElementById("botaoNovoKit").disabled = true;
                    document.getElementById("botaoNovoMaterial").disabled = true;
                    document.getElementById("botaoUsarModeloMaterial").disabled = true;
                    document.getElementById("botaoSalvarModeloMaterial").disabled = true;
                    document.getElementById("botaoNovoCuidado").disabled = true;
                    document.getElementById("botaoNovoOutra").disabled = true;
                    document.getElementById("dataInicioPrescricaoEdit").disabled = true;
                    document.getElementById("dataEncerramentoPrescricaoEdit").disabled = true
                    document.getElementById("codTipoPrescricaoEdit").disabled = true
                } else {
                    document.getElementById("botaoNovoMedicamento").disabled = false;
                    document.getElementById("botaoNovaDieta").disabled = false;
                    document.getElementById("botaoUsarModelo").disabled = false;
                    document.getElementById("botaoSalvarModelo").disabled = false;
                    document.getElementById("botaoNovoKit").disabled = false;
                    document.getElementById("botaoNovoMaterial").disabled = false;
                    document.getElementById("botaoUsarModeloMaterial").disabled = false;
                    document.getElementById("botaoSalvarModeloMaterial").disabled = false;
                    document.getElementById("botaoNovoCuidado").disabled = false;
                    document.getElementById("botaoNovoOutra").disabled = false;
                    document.getElementById("dataInicioPrescricaoEdit").disabled = false;
                    document.getElementById("dataEncerramentoPrescricaoEdit").disabled = false
                    document.getElementById("codTipoPrescricaoEdit").disabled = false
                }

                $("#prescricaoTextareaEdit").val(prescricaoEdit.conteudoPrescricao);
                $("#dietaTextareaEdit").val(prescricaoEdit.dieta);

                document.getElementById("dataInicioPrescricaoEdit").value = prescricaoEdit.dataInicio;
                document.getElementById("dataEncerramentoPrescricaoEdit").value = prescricaoEdit.dataEncerramento;




                $.ajax({
                    url: '<?php echo base_url('atendimentosPrescricoes/listaDropDownTipoPrescricao') ?>',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    success: function(tipoPrescricao) {

                        $("#codTipoPrescricaoEdit").select2({
                            data: tipoPrescricao,
                        })

                        $('#codTipoPrescricaoEdit').val(prescricaoEdit.codTipoPrescricao);
                        $('#codTipoPrescricaoEdit').trigger('change');
                        $(document).on('select2:open', () => {
                            document.querySelector('.select2-container--open .select2-search__field').focus();
                        });

                    }
                })




                $(function() {

                    var salvarBtn = function(context) {
                        var uiSalvar = $.summernote.ui;

                        // create button
                        var buttonSalvar = uiSalvar.button({
                            contents: '<i class="fas fa-save"></i> SALVAR',
                            tooltip: 'salvar',
                            click: function() {
                                // Chama uma função
                                editPrescricao(codAtendimentoPrescricao);
                            }
                        });

                        return buttonSalvar.render(); // return button as jquery object
                    }


                    var modelosBtn = function(context) {
                        var uiModelos = $.summernote.ui;

                        // create button
                        var buttonModelos = uiModelos.button({
                            contents: '<i class="fas fa-save"></i> SALVAR',
                            tooltip: 'Modelos',
                            click: function() {
                                // Chama uma função
                                modelosPrescricao();
                            }
                        });

                        return buttonSalvar.render(); // return button as jquery object
                    }

                    var fecharBtn = function(context) {
                        var uiFechar = $.summernote.ui;

                        // create button
                        var buttonFechar = uiFechar.button({
                            contents: '<i class="fas fa-window-close"></i> FECHAR',
                            tooltip: 'fechar',
                            click: function() {
                                // Chama uma função
                                $('#atendimentosPrescricoesEditModal').modal('hide');
                            }
                        });

                        return buttonFechar.render(); // return button as jquery object
                    }

                    //ADD text editor
                    $('#prescricaoTextareaEdit').summernote({
                        height: 200,
                        maximumImageFileSize: 1024 * 1024, // 1Mb
                        fontSizes: ['8', '9', '10', '11', '12', '14', '18', '20', '36', '72'],
                        lineHeights: ['0.2', '0.3', '0.4', '0.5', '0.6', '0.8', '1.0', '1.2', '1.4', '1.5', '2.0', '3.0'],
                        toolbar: [
                            ['mybutton1', ['salvar']],
                            ['fontname', ['fontname']],
                            ['font', ['color', 'strikethrough', 'superscript', 'subscript', 'bold', 'underline', 'clear']],
                            ['fontsize', ['fontsize']],
                            ['height', ['height']],
                            ['redo'],
                            ['undo'],
                            ['mybutton2', ['fechar']],
                        ],
                        buttons: {
                            salvar: salvarBtn,
                            fechar: fecharBtn,
                        },
                        callbacks: {
                            onImageUploadError: function(msg) {
                                var Toast = Swal.mixin({
                                    toast: true,
                                    position: 'top-end',
                                    showConfirmButton: false,
                                    timer: 5000
                                });
                                Toast.fire({
                                    icon: 'error',
                                    title: 'Tamanho máximo de imagens é 1Mb'
                                })
                            }
                        }
                    })




                    $('#dietaTextareaEdit').summernote({
                        height: 200,
                        maximumImageFileSize: 1024 * 1024, // 1Mb
                        fontSizes: ['8', '9', '10', '11', '12', '14', '18', '20', '36', '72'],
                        lineHeights: ['0.2', '0.3', '0.4', '0.5', '0.6', '0.8', '1.0', '1.2', '1.4', '1.5', '2.0', '3.0'],
                        toolbar: [
                            ['mybutton1', ['salvar']],
                            ['style', ['style']],
                            ['fontname', ['fontname']],
                            ['font', ['color', 'strikethrough', 'superscript', 'subscript', 'bold', 'underline', 'clear']],
                            ['fontsize', ['fontsize']],
                            ['height', ['height']],
                            ['para', ['ul', 'ol', 'paragraph']],
                            ['table', ['table']],
                            ['insert', ['link', 'hr']],
                            ['view', ['fullscreen', 'codeview', 'help']],
                            ['redo'],
                            ['undo'],
                            ['mybutton2', ['fechar']],
                        ],
                        buttons: {
                            salvar: salvarBtn,
                            fechar: fecharBtn,
                        },
                        callbacks: {
                            onImageUploadError: function(msg) {
                                var Toast = Swal.mixin({
                                    toast: true,
                                    position: 'top-end',
                                    showConfirmButton: false,
                                    timer: 5000
                                });
                                Toast.fire({
                                    icon: 'error',
                                    title: 'Tamanho máximo de imagens é 1Mb'
                                })
                            }
                        }
                    })

                    if (prescricaoEdit.codStatus == 2 || prescricaoEdit.codStatus == 3 || prescricaoEdit.codStatus == 4 || prescricaoEdit.editavel == 0) {
                        $("#dietaTextareaEdit").summernote("disable");
                        $("#prescricaoTextareaEdit").summernote("disable");
                    }


                    document.getElementById("setEstilo").innerHTML = '<style>@media screen {' +
                        '#printSection {' +
                        'display: none;' +

                        '}' +
                        '}' +

                        '@media print {' +
                        '@page {' +
                        'size: A4;' +
                        'margin: 5px;' +
                        '}' +

                        'body>*:not(#printSection) {' +
                        'display: none;' +
                        '}' +

                        '#printSection,' +
                        '#printSection * {' +
                        'visibility: visible;' +

                        '}' +
                        '#printSection {' +
                        'position: absolute;' +
                        'left: 0;' +
                        'top: 0;' +
                        'width: 210mm;' +
                        'height: 297mm;' +

                        '}' +
                        '}</style>';
                })





                //medicamentos

                $('#data_tableprescricaoMedicamentos').DataTable({
                    "bDestroy": true,
                    "paging": true,
                    "deferRender": true,
                    "pageLength": 50,
                    "lengthChange": false,
                    "searching": true,
                    "ordering": false,
                    "info": true,
                    "autoWidth": false,
                    "responsive": false,
                    "ajax": {
                        "url": '<?php echo base_url('prescricaoMedicamentos/getAllPorPrescricao') ?>',
                        "type": "POST",
                        "dataType": "json",
                        async: "true",
                        data: {
                            codAtendimentoPrescricao: codAtendimentoPrescricao,
                            csrf_sandra: $("#csrf_sandraPrincipal").val(),
                        },
                    }
                });

                //dietas

                $('#data_tableprescricaoDietas').DataTable({
                    "bDestroy": true,
                    "paging": true,
                    "deferRender": true,
                    "pageLength": 50,
                    "lengthChange": false,
                    "searching": true,
                    "ordering": false,
                    "info": true,
                    "autoWidth": false,
                    "responsive": false,
                    "ajax": {
                        "url": '<?php echo base_url('prescricaoMedicamentos/getAllPorPrescricaoDietas') ?>',
                        "type": "POST",
                        "dataType": "json",
                        async: "true",
                        data: {
                            codAtendimentoPrescricao: codAtendimentoPrescricao,
                            csrf_sandra: $("#csrf_sandraPrincipal").val(),
                        },
                    }
                });

                //KITs

                $('#data_tableprescricoesKit').DataTable({
                    "bDestroy": true,
                    "paging": true,
                    "deferRender": true,
                    "lengthChange": false,
                    "searching": true,
                    "ordering": false,
                    "info": true,
                    "autoWidth": false,
                    "responsive": true,
                    "ajax": {
                        "url": '<?php echo base_url('prescricoesKit/getAllPorPrescricao') ?>',
                        "type": "POST",
                        "dataType": "json",
                        async: "true",
                        data: {
                            codAtendimentoPrescricao: codAtendimentoPrescricao,
                            csrf_sandra: $("#csrf_sandraPrincipal").val(),
                        },
                    }
                });


                //MATERIAIS

                $('#data_tableprescricoesMaterial').DataTable({
                    "bDestroy": true,
                    "paging": true,
                    "deferRender": true,
                    "lengthChange": false,
                    "searching": true,
                    "ordering": false,
                    "info": true,
                    "autoWidth": false,
                    "responsive": true,
                    "ajax": {
                        "url": '<?php echo base_url('prescricoesMaterial/getAllPorPrescricao') ?>',
                        "type": "POST",
                        "dataType": "json",
                        async: "true",
                        data: {
                            codAtendimentoPrescricao: codAtendimentoPrescricao,
                            csrf_sandra: $("#csrf_sandraPrincipal").val(),
                        },
                    }
                });



                //OUTRAS

                $('#data_tableprescricoesOutras').DataTable({
                    "bDestroy": true,
                    "paging": true,
                    "deferRender": true,
                    "lengthChange": false,
                    "searching": true,
                    "ordering": false,
                    "info": true,
                    "autoWidth": false,
                    "responsive": true,
                    "ajax": {
                        "url": '<?php echo base_url('prescricoesOutras/getAllPorPrescricao') ?>',
                        "type": "POST",
                        "dataType": "json",
                        async: "true",
                        data: {
                            codAtendimentoPrescricao: codAtendimentoPrescricao,
                            csrf_sandra: $("#csrf_sandraPrincipal").val(),
                        },
                    }
                });






                //CUIDADOS

                $('#data_tableprescricoesCuidados').DataTable({
                    "bDestroy": true,
                    "paging": true,
                    "deferRender": true,
                    "lengthChange": false,
                    "searching": true,
                    "ordering": false,
                    "info": true,
                    "autoWidth": false,
                    "responsive": true,
                    "ajax": {
                        "url": '<?php echo base_url('prescricoesCuidados/getAllPorPrescricao') ?>',
                        "type": "POST",
                        "dataType": "json",
                        async: "true",
                        data: {
                            codAtendimentoPrescricao: codAtendimentoPrescricao,
                            csrf_sandra: $("#csrf_sandraPrincipal").val(),
                        },
                    }
                });


                //PROCEDIMENTOS

                $('#data_tableprescricaoProcedimento').DataTable({
                    "bDestroy": true,
                    "paging": true,
                    "deferRender": true,
                    "lengthChange": false,
                    "searching": true,
                    "ordering": true,
                    "info": true,
                    "autoWidth": false,
                    "responsive": true,
                    "ajax": {
                        "url": '<?php echo base_url('PrescricaoProcedimentos/getAllPorPrescricao') ?>',
                        "type": "POST",
                        "dataType": "json",
                        async: "true",
                        data: {
                            codAtendimentoPrescricao: codAtendimentoPrescricao,
                            csrf_sandra: $("#csrf_sandraPrincipal").val(),
                        },
                    }
                });


            }
        })





    }


    function editatendimentosPareceres(codAtendimentoParecer) {

        document.getElementById("parecerImpressao").innerHTML = '';
        document.getElementById("codAtendimentoParecerEdit").value = codAtendimentoParecer;

        // reset the form
        $('#atendimentosPareceresEditModal').modal('show');
        document.getElementById("atendimentosPareceresEditModalHeader").innerHTML = nomeCargoTmp + ' ' + nomePacienteTmp + ' | ' + siglaTipoBeneficiarioTmp + ' | ' + idadePacienteTmp + ' | PRONT: ' + codProntuarioTmp + ' | PREC: ' + codPlanoTmp;


        $.ajax({
            url: '<?php echo base_url('atendimentosPareceres/getOne') ?>',
            type: 'post',
            data: {
                codAtendimentoParecer: codAtendimentoParecer,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(parecerEdit) {
                $("#parecerTextareaEdit").summernote('destroy');

                $("#parecerTextareaEdit").val(parecerEdit.conteudoParecer);

                document.getElementById("dataCriacaoAtendimentosParecerEdit").innerHTML = parecerEdit.dataCriacao;
                document.getElementById("nomePacienteAtendimentosParecerEdit").innerHTML = parecerEdit.nomePaciente;
                document.getElementById("cpfPacienteAtendimentosParecerEdit").innerHTML = parecerEdit.cpfPaciente;
                document.getElementById("nomeEspecialistaAtendimentosParecerEdit").innerHTML = parecerEdit.nomeEspecialista;
                document.getElementById("numeroConselhoAtendimentosParecerEdit").innerHTML = parecerEdit.numeroConselho;

                document.getElementById("dataCriacaoAtendimentosParecerImpressao").innerHTML = parecerEdit.dataCriacao;
                document.getElementById("nomePacienteAtendimentosParecerImpressao").innerHTML = parecerEdit.nomePaciente;
                document.getElementById("cpfPacienteAtendimentosParecerImpressao").innerHTML = parecerEdit.cpfPaciente;
                document.getElementById("nomeEspecialistaAtendimentosParecerImpressao").innerHTML = parecerEdit.nomeEspecialista;
                document.getElementById("numeroConselhoAtendimentosParecerImpressao").innerHTML = parecerEdit.numeroConselho;


                $(function() {

                    var salvarBtn = function(context) {
                        var uiSalvar = $.summernote.ui;

                        // create button
                        var buttonSalvar = uiSalvar.button({
                            contents: '<i class="fas fa-save"></i> SALVAR',
                            tooltip: 'salvar',
                            click: function() {
                                // Chama uma função
                                editParecer(codAtendimentoParecer);
                            }
                        });

                        return buttonSalvar.render(); // return button as jquery object
                    }


                    var modeloBtn = function(context) {
                        var uiModelo = $.summernote.ui;

                        // create button
                        var buttonModelo = uiModelo.button({
                            contents: '<i class="fas fa-save"></i> MODELOS',
                            tooltip: 'salvar',
                            click: function() {
                                // Chama uma função
                                listaModelosParecer();
                            }
                        });

                        return buttonModelo.render(); // return button as jquery object
                    }


                    var salvarModeloBtn = function(context) {
                        var uiSalvarModelo = $.summernote.ui;

                        // create button
                        var buttonSalvarModelo = uiSalvarModelo.button({
                            contents: '<i class="fas fa-save"></i> SALVAR COMO MODELO',
                            tooltip: 'salvar',
                            click: function() {
                                // Chama uma função
                                salvarModeloParecer();
                            }
                        });

                        return buttonSalvarModelo.render(); // return button as jquery object
                    }

                    var fecharBtn = function(context) {
                        var uiFechar = $.summernote.ui;

                        // create button
                        var buttonFechar = uiFechar.button({
                            contents: '<i class="fas fa-window-close"></i> FECHAR',
                            tooltip: 'fechar',
                            click: function() {
                                // Chama uma função
                                $('#atendimentosPareceresEditModal').modal('hide');
                            }
                        });

                        return buttonFechar.render(); // return button as jquery object
                    }

                    var imprimirBtn = function(context) {
                        var uiImprimir = $.summernote.ui;

                        // create button
                        var buttonImprimir = uiImprimir.button({
                            contents: '<i class="fas fa-print"></i> IMPRIMIR',
                            tooltip: 'imprimir',
                            click: function() {
                                // Chama uma função

                                //$('#atendimentosCondutasImpressaoModal').modal('show');

                                document.getElementById("parecerImpressao").innerHTML = '';
                                document.getElementById("parecerImpressao").innerHTML = document.getElementById("parecerTextareaEdit").value;

                                printElement(document.getElementById("areaImpressaoParecer"));


                                window.print();

                            }
                        });

                        return buttonImprimir.render(); // return button as jquery object
                    }


                    //ADD text editor
                    $('#parecerTextareaEdit').summernote({
                        height: 200,
                        maximumImageFileSize: 1024 * 1024, // 1Mb
                        fontSizes: ['8', '9', '10', '11', '12', '14', '18', '20', '36', '72'],
                        lineHeights: ['0.2', '0.3', '0.4', '0.5', '0.6', '0.8', '1.0', '1.2', '1.4', '1.5', '2.0', '3.0'],
                        toolbar: [
                            ['mybutton1', ['salvar']],
                            ['mybutton2', ['imprimir']],
                            ['style', ['style']],
                            ['fontname', ['fontname']],
                            ['font', ['color', 'strikethrough', 'superscript', 'subscript', 'bold', 'underline', 'clear']],
                            ['fontsize', ['fontsize']],
                            ['height', ['height']],
                            ['para', ['ul', 'ol', 'paragraph']],
                            ['table', ['table']],
                            ['insert', ['link', 'hr']],
                            ['view', ['fullscreen', 'codeview', 'help']],
                            ['redo'],
                            ['undo'],
                            ['mybutton3', ['fechar']],
                            ['mybutton4', ['modelo']],
                            ['mybutton5', ['salvarModelo']],
                        ],
                        buttons: {
                            salvar: salvarBtn,
                            fechar: fecharBtn,
                            imprimir: imprimirBtn,
                            modelo: modeloBtn,
                            salvarModelo: salvarModeloBtn,
                        },
                        callbacks: {
                            onImageUploadError: function(msg) {
                                var Toast = Swal.mixin({
                                    toast: true,
                                    position: 'top-end',
                                    showConfirmButton: false,
                                    timer: 5000
                                });
                                Toast.fire({
                                    icon: 'error',
                                    title: 'Tamanho máximo de imagens é 1Mb'
                                })
                            }
                        }
                    })





                    if (parecerEdit.editavel == 0 || parecerEdit.codStatus == 2) {
                        $("#parecerTextareaEdit").summernote("disable");
                    }

                    document.getElementById("setEstilo").innerHTML = '<style>@media screen {' +
                        '#printSection {' +
                        'display: none;' +

                        '}' +
                        '}' +

                        '@media print {' +
                        '@page {' +
                        'size: A4;' +
                        'margin: 5px;' +
                        '}' +

                        'body>*:not(#printSection) {' +
                        'display: none;' +
                        '}' +

                        '#printSection,' +
                        '#printSection * {' +
                        'visibility: visible;' +

                        '}' +
                        '#printSection {' +
                        'position: absolute;' +
                        'left: 0;' +
                        'top: 0;' +
                        'width: 210mm;' +
                        'height: 297mm;' +

                        '}' +
                        '}</style>';
                })

            }
        })





    }



    function editatendimentosDocumentos(codAtendimentoDocumento) {


        document.getElementById("codAtendimentoDocumentoEdit").value = codAtendimentoDocumento;

        // reset the form
        $('#atendimentosDocumentosEditModal').modal('show');
        document.getElementById("atendimentosDocumentosEditModalHeader").innerHTML = nomeCargoTmp + ' ' + nomePacienteTmp + ' | ' + siglaTipoBeneficiarioTmp + ' | ' + idadePacienteTmp + ' | PRONT: ' + codProntuarioTmp + ' | PREC: ' + codPlanoTmp;


        $.ajax({
            url: '<?php echo base_url('atendimentosDocumentos/getOne') ?>',
            type: 'post',
            data: {
                codAtendimentoDocumento: codAtendimentoDocumento,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(documentoEdit) {
                $("#documentoTextareaEdit").summernote('destroy');

                $("#documentoTextareaEdit").val(documentoEdit.conteudoDocumento);

                $('#codTipoDocumentoEdit').val(documentoEdit.codTipoDocumento);
                document.getElementById("dataCriacaoAtendimentosdocumentoEdit").innerHTML = documentoEdit.dataCriacao;
                document.getElementById("nomePacienteAtendimentosdocumentoEdit").innerHTML = documentoEdit.nomePaciente;
                document.getElementById("cpfPacienteAtendimentosdocumentoEdit").innerHTML = documentoEdit.cpfPaciente;
                document.getElementById("enderecoPacienteAtendimentosdocumentoEdit").innerHTML = documentoEdit.enderecoPaciente;
                document.getElementById("nomeEspecialistaAtendimentosdocumentoEdit").innerHTML = documentoEdit.nomeEspecialista;
                document.getElementById("numeroConselhoAtendimentosdocumentoEdit").innerHTML = documentoEdit.numeroConselho;

                document.getElementById("documentoImpressao").innerHTML = documentoEdit.html;



                $("#codTipoDocumentoEdit").on("change", function() {


                    if (document.getElementById("codTipoDocumentoEdit").value == 2) {



                        //PREVISÃO DE ALTA
                        $.ajax({
                            url: '<?php echo base_url('atendimentosDocumentos/comparecimento') ?>',
                            type: 'post',
                            dataType: 'json',
                            data: {
                                codAtendimento: codAtendimentoTmp,
                                csrf_sandra: $("#csrf_sandraPrincipal").val(),
                            },
                            success: function(comparecimento) {
                                $("#documentoTextareaEdit").summernote("code", comparecimento.html);

                            }
                        })


                    }

                    if (document.getElementById("codTipoDocumentoEdit").value == 3) {



                        //PREVISÃO DE ALTA
                        $.ajax({
                            url: '<?php echo base_url('atendimentosDocumentos/atestadoMedico') ?>',
                            type: 'post',
                            dataType: 'json',
                            data: {
                                codAtendimento: codAtendimentoTmp,
                                csrf_sandra: $("#csrf_sandraPrincipal").val(),
                            },
                            success: function(comparecimento) {
                                $("#documentoTextareaEdit").summernote("code", comparecimento.html);
                            }
                        })


                    }

                })


                $(function() {

                    var salvarBtn = function(context) {
                        var uiSalvar = $.summernote.ui;

                        // create button
                        var buttonSalvar = uiSalvar.button({
                            contents: '<i class="fas fa-save"></i> SALVAR',
                            tooltip: 'salvar',
                            click: function() {
                                // Chama uma função
                                editDocumento(codAtendimentoDocumento);
                            }
                        });

                        return buttonSalvar.render(); // return button as jquery object
                    }


                    var modeloBtn = function(context) {
                        var uiModelo = $.summernote.ui;

                        // create button
                        var buttonModelo = uiModelo.button({
                            contents: '<i class="fas fa-save"></i> MODELOS',
                            tooltip: 'salvar',
                            click: function() {
                                // Chama uma função
                                listaModelosReceita();
                            }
                        });

                        return buttonModelo.render(); // return button as jquery object
                    }


                    var salvarModeloBtn = function(context) {
                        var uiSalvarModelo = $.summernote.ui;

                        // create button
                        var buttonSalvarModelo = uiSalvarModelo.button({
                            contents: '<i class="fas fa-save"></i> SALVAR COMO MODELO',
                            tooltip: 'salvar',
                            click: function() {
                                // Chama uma função
                                salvarModeloReceita();
                            }
                        });

                        return buttonSalvarModelo.render(); // return button as jquery object
                    }

                    var fecharBtn = function(context) {
                        var uiFechar = $.summernote.ui;

                        // create button
                        var buttonFechar = uiFechar.button({
                            contents: '<i class="fas fa-window-close"></i> FECHAR',
                            tooltip: 'fechar',
                            click: function() {
                                // Chama uma função
                                $('#atendimentosDocumentosEditModal').modal('hide');
                            }
                        });

                        return buttonFechar.render(); // return button as jquery object
                    }

                    var imprimirBtn = function(context) {
                        var uiImprimir = $.summernote.ui;

                        // create button
                        var buttonImprimir = uiImprimir.button({
                            contents: '<i class="fas fa-print"></i> IMPRIMIR',
                            tooltip: 'imprimir',
                            click: function() {
                                // Chama uma função

                                //$('#atendimentosCondutasImpressaoModal').modal('show');


                                printElement(document.getElementById("areaImpressaoDocumento"));


                                window.print();

                            }
                        });

                        return buttonImprimir.render(); // return button as jquery object
                    }


                    //ADD text editor
                    $('#documentoTextareaEdit').summernote({
                        height: 200,
                        maximumImageFileSize: 1024 * 1024, // 1Mb
                        fontSizes: ['8', '9', '10', '11', '12', '14', '18', '20', '36', '72'],
                        lineHeights: ['0.2', '0.3', '0.4', '0.5', '0.6', '0.8', '1.0', '1.2', '1.4', '1.5', '2.0', '3.0'],
                        toolbar: [
                            ['mybutton1', ['salvar']],
                            ['mybutton2', ['imprimir']],
                            ['style', ['style']],
                            ['fontname', ['fontname']],
                            ['font', ['color', 'strikethrough', 'superscript', 'subscript', 'bold', 'underline', 'clear']],
                            ['fontsize', ['fontsize']],
                            ['height', ['height']],
                            ['para', ['ul', 'ol', 'paragraph']],
                            ['table', ['table']],
                            ['insert', ['link', 'hr']],
                            ['view', ['fullscreen', 'codeview', 'help']],
                            ['redo'],
                            ['undo'],
                            ['mybutton3', ['fechar']],
                            ['mybutton4', ['modelo']],
                            ['mybutton5', ['salvarModelo']],
                        ],
                        buttons: {
                            salvar: salvarBtn,
                            fechar: fecharBtn,
                            imprimir: imprimirBtn,
                            modelo: modeloBtn,
                            salvarModelo: salvarModeloBtn,
                        },
                        callbacks: {
                            onImageUploadError: function(msg) {
                                var Toast = Swal.mixin({
                                    toast: true,
                                    position: 'top-end',
                                    showConfirmButton: false,
                                    timer: 5000
                                });
                                Toast.fire({
                                    icon: 'error',
                                    title: 'Tamanho máximo de imagens é 1Mb'
                                })
                            }
                        }
                    })





                    if (documentoEdit.editavel == 0 || documentoEdit.codStatus == 2) {
                        $("#documentoTextareaEdit").summernote("disable");
                    }

                    if (documentoEdit.codTipoDocumento == 1) {

                        document.getElementById("setEstilo").innerHTML = '<style>@media screen {' +
                            '#printSection {' +
                            'display: none;' +

                            '}' +
                            '}' +

                            '@media print {' +
                            '@page {' +
                            'size: A4 landscape;' +
                            'margin-top: 0px;' +
                            'margin-bottom: 0px;' +
                            'margin-left: 0px;' +
                            'margin-right: 0px;' +
                            '}' +

                            'body>*:not(#printSection) {' +
                            'display: none;' +
                            '}' +

                            '#printSection,' +
                            '#printSection * {' +
                            'visibility: visible;' +

                            '}' +
                            '#printSection {' +
                            'position: absolute;' +
                            'left: 0;' +
                            'top: 0;' +
                            'width: 297mm;' +
                            'height: 200mm;' +

                            '}' +
                            '}</style>';

                    } else {
                        document.getElementById("setEstilo").innerHTML = '<style>@media screen {' +
                            '#printSection {' +
                            'display: none;' +

                            '}' +
                            '}' +

                            '@media print {' +
                            '@page {' +
                            'size: A4;' +
                            'margin: 5px;' +
                            '}' +

                            'body>*:not(#printSection) {' +
                            'display: none;' +
                            '}' +

                            '#printSection,' +
                            '#printSection * {' +
                            'visibility: visible;' +

                            '}' +
                            '#printSection {' +
                            'position: absolute;' +
                            'left: 0;' +
                            'top: 0;' +
                            'width: 210mm;' +
                            'height: 297mm;' +

                            '}' +
                            '}</style>';
                    }
                })

            }
        })





    }





    function checkinMedicamento(codPrescricaoMedicamento, codMedicamento, ano, mes, dia, hora, minuto) {

        anoX = String(ano).padStart(4, '0');
        diaX = String(dia).padStart(2, '0');
        mesX = String(mes).padStart(2, '0');
        horaX = String(hora).padStart(2, '0');
        minutoX = String(minuto).padStart(2, '0');

        Swal.fire({
            title: 'Você tem certeza que deseja fazer o Check-in deste item?',
            icon: 'info',
            html: '<div class="row"><div class="col-sm-6"><label for="Hora Checagem">Hora Checagem: <span class="text-danger">*</span> </label><div class="input-group mb-3"></div><input style="" type="datetime-local" id="dataHoraChecagem" name="dataHoraChecagem" value="' + anoX + '-' + mesX + '-' + diaX + 'T' + horaX + ':' + minutoX + '" class="form-control" autofocus></div></div>',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar',
            input: 'textarea',
            inputLabel: 'Observações (Opcional)',

        }).then((result) => {

            if (result.isConfirmed) {

                $.ajax({
                    url: '<?php echo base_url('PrescricaoMedicamentos/checkinMedicamento') ?>',
                    type: 'post',
                    data: {
                        codPrescricaoMedicamento: codPrescricaoMedicamento,
                        codMedicamento: codMedicamento,
                        observacoes: result.value,
                        dataHoraChecagem: document.getElementById("dataHoraChecagem").value,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    dataType: 'json',
                    success: function(response) {

                        if (response.success === true) {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {
                                $('#data_tableprescricaoMedicamentos').DataTable().ajax.reload(null, false).draw(false);
                            })
                        } else {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'error',
                                title: response.messages
                            })


                        }
                    }
                });
            }

        })
    }



    function removeatendimentosPrescricoes(codAtendimentoPrescricao) {
        Swal.fire({
            title: 'Você tem certeza que deseja remover?',
            text: "Você não poderá reverter após a confirmação",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {
                $.ajax({
                    url: '<?php echo base_url('atendimentosPrescricoes/remove') ?>',
                    type: 'post',
                    data: {
                        codAtendimentoPrescricao: codAtendimentoPrescricao,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    dataType: 'json',
                    success: function(response) {

                        if (response.success === true) {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {
                                $('#data_tableatendimentosPrescricoes').DataTable().ajax.reload(null, false).draw(false);
                            })
                        } else {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'error',
                                title: response.messages
                            })


                        }
                    }
                });
            }
        })
    }

    function removeatendimentosPareceres(codAtendimentoParecer) {
        Swal.fire({
            title: 'Você tem certeza que deseja remover este parecer?',
            text: "Você não poderá reverter após a confirmação",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {
                $.ajax({
                    url: '<?php echo base_url('atendimentosPareceres/remove') ?>',
                    type: 'post',
                    data: {
                        codAtendimentoParecer: codAtendimentoParecer,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    dataType: 'json',
                    success: function(response) {

                        if (response.success === true) {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {
                                $('#data_tableatendimentosPareceres').DataTable().ajax.reload(null, false).draw(false);
                            })
                        } else {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'error',
                                title: response.messages
                            })


                        }
                    }
                });
            }
        })
    }



    function removeatendimentosDocumentos(codAtendimentoDocumento) {
        Swal.fire({
            title: 'Você tem certeza que deseja remover este Documento?',
            text: "Você não poderá reverter após a confirmação",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {
                $.ajax({
                    url: '<?php echo base_url('atendimentosDocumentos/remove') ?>',
                    type: 'post',
                    data: {
                        codAtendimentoDocumento: codAtendimentoDocumento,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    dataType: 'json',
                    success: function(response) {

                        if (response.success === true) {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {
                                $('#data_tableatendimentosDocumentos').DataTable().ajax.reload(null, false).draw(false);
                            })
                        } else {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'error',
                                title: response.messages
                            })


                        }
                    }
                });
            }
        })
    }


    function addConduta() {



        //VERIFICAÇÃO ATENDIMENTO ATUAL
        if (document.getElementById('codAtendimentoAnamnese').value != codAtendimentoTmp) {

            Swal.fire({
                position: 'bottom-end',
                icon: 'error',
                html: 'Falha na validação do atendimento atual.  Atualize a página (F5) ou entre novamente no sistema. Recomendamos a utilização do Google Chrome atualizado.',
                showConfirmButton: true,
                confirmButtonText: 'Ok',

            })
            throw new Error('Falha na validação do atendimento atual.  Atualize a página (F5) ou entre novamente no sistema. Recomendamos a utilização do Google Chrome atualizado.');

        }




        if (document.getElementById("codAtendimentoCondutasAdd").value !== null && document.getElementById("codAtendimentoCondutasAdd").value !== 'undefined') {
            codAtendimentoConduta = document.getElementById("codAtendimentoCondutasAdd").value;
        } else {
            codAtendimentoConduta = null;
        }
        $.ajax({
            url: '<?php echo base_url('atendimentosCondutas/salvaConduta') ?>',
            type: 'post',
            data: {
                conduta: document.getElementById('condutasTextareaAdd').value,
                codAtendimento: codAtendimentoTmp,
                codAtendimentoConduta: codAtendimentoConduta,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            dataType: 'json',
            success: function(condutasTextareaAdd) {

                if (condutasTextareaAdd.success === true) {

                    document.getElementById("codAtendimentoCondutasAdd").value = condutasTextareaAdd.codAtendimentoConduta;

                    var Toast = Swal.mixin({
                        toast: true,
                        position: 'top-end',
                        showConfirmButton: false,
                        timer: 3000
                    });
                    Toast.fire({
                        icon: 'success',
                        title: condutasTextareaAdd.messages
                    })

                    $('#atendimentosCondutasAddModal').modal('hide');

                    //editAtendimentosConduta(condutasTextareaAdd.codAtendimentoConduta);


                }
                $('#data_tableatendimentosCondutas').DataTable().ajax.reload(null, false).draw(false);

            }
        })

    }


    function addEvolucoes(codTipoEvolucao) {


        //VERIFICAÇÃO ATENDIMENTO ATUAL
        if (document.getElementById('codAtendimentoAnamnese').value != codAtendimentoTmp) {

            Swal.fire({
                position: 'bottom-end',
                icon: 'error',
                html: 'Falha na validação do atendimento atual.  Atualize a página (F5) ou entre novamente no sistema. Recomendamos a utilização do Google Chrome atualizado.',
                showConfirmButton: true,
                confirmButtonText: 'Ok',

            })
            throw new Error('Falha na validação do atendimento atual.  Atualize a página (F5) ou entre novamente no sistema. Recomendamos a utilização do Google Chrome atualizado.');

        }




        $.ajax({
            url: '<?php echo base_url('atendimentosEvolucoes/addEvolucao') ?>',
            type: 'post',
            data: {
                evolucao: document.getElementById('evolucoesTextareaAdd').value,
                codTipoEvolucao: codTipoEvolucao,
                codAtendimento: codAtendimentoTmp,
                codLocalAtendimento: codLocalAtendimentoTmp,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            dataType: 'json',
            success: function(evolucoesTextareaAdd) {

                if (evolucoesTextareaAdd.success === true) {

                    document.getElementById("codAtendimentoEvolucoesAdd").value = evolucoesTextareaAdd.codAtendimentoEvolucao;

                    var Toast = Swal.mixin({
                        toast: true,
                        position: 'top-end',
                        showConfirmButton: false,
                        timer: 3000
                    });
                    Toast.fire({
                        icon: 'success',
                        title: evolucoesTextareaAdd.messages
                    })

                    $('#atendimentosEvolucoesAddModal').modal('hide');

                    editAtendimentosEvolucao(evolucoesTextareaAdd.codAtendimentoEvolucao);


                }
                $('#data_tableatendimentosEvolucoes').DataTable().ajax.reload(null, false).draw(false);

            }
        })

    }

    function addCloneEvolucao(codAtendimento) {

        $.ajax({
            url: '<?php echo base_url('atendimentosEvolucoes/addEvolucao') ?>',
            type: 'post',
            data: {
                evolucao: document.getElementById('evolucoesCloneTextareaAdd').value,
                codTipoEvolucao: document.getElementById('codTipoCloneEvolucaoAdd').value,
                codAtendimento: codAtendimento,
                codLocalAtendimento: codLocalAtendimentoTmp,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            dataType: 'json',
            success: function(evolucoesCloneTextareaAdd) {

                if (evolucoesCloneTextareaAdd.success === true) {

                    document.getElementById("codAtendimentoCloneEvolucoesAdd").value = evolucoesCloneTextareaAdd.codAtendimentoEvolucao;

                    var Toast = Swal.mixin({
                        toast: true,
                        position: 'top-end',
                        showConfirmButton: false,
                        timer: 3000
                    });
                    Toast.fire({
                        icon: 'success',
                        title: 'Documento salvo com sucesso'
                    })

                    $('#atendimentosCloneEvolucoesAddModal').modal('hide');

                }
                $('#data_tableatendimentosEvolucoes').DataTable().ajax.reload(null, false).draw(false);

            }
        })

    }



    function editConduta(codAtendimentoConduta) {

        $.ajax({
            url: '<?php echo base_url('atendimentosCondutas/editarConduta') ?>',
            type: 'post',
            data: {
                codAtendimentoConduta: codAtendimentoConduta,
                conduta: document.getElementById('condutasTextareaEdit').value,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            dataType: 'json',
            success: function(condutaSalvar) {

                if (condutaSalvar.success === true) {

                    var Toast = Swal.mixin({
                        toast: true,
                        position: 'top-end',
                        showConfirmButton: false,
                        timer: 3000
                    });
                    Toast.fire({
                        icon: 'success',
                        title: condutaSalvar.messages
                    })

                }
                $('#data_tableatendimentosCondutas').DataTable().ajax.reload(null, false).draw(false);

            }
        })

    }




    function editEvolucao(codAtendimentoEvolucao, codTipoEvolucao) {

        $.ajax({
            url: '<?php echo base_url('atendimentosEvolucoes/editarEvolucao') ?>',
            type: 'post',
            data: {
                codAtendimentoEvolucao: codAtendimentoEvolucao,
                codTipoEvolucao: codTipoEvolucao,
                evolucao: document.getElementById('evolucoesTextareaEdit').value,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            dataType: 'json',
            success: function(evolucaoSalvar) {

                if (evolucaoSalvar.success === true) {

                    var Toast = Swal.mixin({
                        toast: true,
                        position: 'top-end',
                        showConfirmButton: false,
                        timer: 3000
                    });
                    Toast.fire({
                        icon: 'success',
                        title: evolucaoSalvar.messages
                    })

                }
                $('#data_tableatendimentosEvolucoes').DataTable().ajax.reload(null, false).draw(false);

            }
        })

    }

    function editPrescricao() {

        if (document.getElementById('codTipoPrescricaoEdit').value == null || document.getElementById('codTipoPrescricaoEdit').value == 0 || document.getElementById('codTipoPrescricaoEdit').value == '') {
            Swal.fire({
                icon: 'warning',
                html: 'Tipo de Prescrição deve ser informado!',
                showConfirmButton: true,
                confirmButtonText: 'Ok',

            })
            throw new Error('Tipo de Prescrição deve ser informado!');

        }


        if (document.getElementById("codAtendimentoPrescricaoEdit").value !== null && document.getElementById("codAtendimentoPrescricaoEdit").value !== 'undefined') {
            codAtendimentoPrescricao = document.getElementById("codAtendimentoPrescricaoEdit").value;

            $.ajax({
                url: '<?php echo base_url('atendimentosPrescricoes/salvaPrescricao') ?>',
                type: 'post',
                data: {
                    prescricao: document.getElementById('prescricaoTextareaEdit').value,
                    codTipoPrescricao: document.getElementById('codTipoPrescricaoEdit').value,
                    dieta: document.getElementById('dietaTextareaEdit').value,
                    dataInicio: document.getElementById('dataInicioPrescricaoEdit').value,
                    dataEncerramento: document.getElementById('dataEncerramentoPrescricaoEdit').value,
                    codAtendimento: codAtendimentoTmp,
                    codAtendimentoPrescricao: codAtendimentoPrescricao,
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },
                dataType: 'json',
                success: function(prescricaoTextareaEdit) {

                    if (prescricaoTextareaEdit.success === true) {

                        var Toast = Swal.mixin({
                            toast: true,
                            position: 'top-end',
                            showConfirmButton: false,
                            timer: 3000
                        });
                        Toast.fire({
                            icon: 'success',
                            title: prescricaoTextareaEdit.messages
                        })


                    } else {
                        Swal.fire({
                            position: 'bottom-end',
                            icon: 'error',
                            title: prescricaoTextareaEdit.messages,
                            showConfirmButton: false,
                            timer: 4000
                        })
                    }
                    $('#data_tableatendimentosPrescricoes').DataTable().ajax.reload(null, false).draw(false);
                    $('#data_tableprescricaoMedicamentos').DataTable().ajax.reload(null, false).draw(false);

                }
            })

        }
    }



    function editParecer() {

        if (document.getElementById("codAtendimentoParecerEdit").value !== null && document.getElementById("codAtendimentoParecerEdit").value !== 'undefined') {
            codAtendimentoParecer = document.getElementById("codAtendimentoParecerEdit").value;

            $.ajax({
                url: '<?php echo base_url('atendimentosPareceres/salvaParecer') ?>',
                type: 'post',
                data: {
                    parecer: document.getElementById('parecerTextareaEdit').value,
                    codAtendimento: codAtendimentoTmp,
                    codAtendimentoParecer: codAtendimentoParecer,
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },
                dataType: 'json',
                success: function(parecerTextareaEdit) {

                    if (parecerTextareaEdit.success === true) {

                        var Toast = Swal.mixin({
                            toast: true,
                            position: 'top-end',
                            showConfirmButton: false,
                            timer: 3000
                        });
                        Toast.fire({
                            icon: 'success',
                            title: parecerTextareaEdit.messages
                        })


                    } else {
                        Swal.fire({
                            position: 'bottom-end',
                            icon: 'error',
                            title: parecerTextareaEdit.messages,
                            showConfirmButton: false,
                            timer: 4000
                        })
                    }
                    $('#data_tableatendimentosPareceres').DataTable().ajax.reload(null, false).draw(false);

                }
            })

        }
    }



    function editDocumento() {

        if (document.getElementById("codAtendimentoDocumentoEdit").value !== null && document.getElementById("codAtendimentoDocumentoEdit").value !== 'undefined') {
            codAtendimentoDocumento = document.getElementById("codAtendimentoDocumentoEdit").value;

            $.ajax({
                url: '<?php echo base_url('atendimentosDocumentos/salvaDocumentoEditada') ?>',
                type: 'post',
                data: {
                    documento: document.getElementById('documentoTextareaEdit').value,
                    codAtendimento: codAtendimentoTmp,
                    codTipoDocumento: document.getElementById('codTipoDocumentoEdit').value,
                    codAtendimentoDocumento: codAtendimentoDocumento,
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },
                dataType: 'json',
                success: function(documentoTextareaEdit) {


                    editatendimentosDocumentos(documentoTextareaEdit.codAtendimentoDocumento);

                    if (documentoTextareaEdit.success === true) {


                        var Toast = Swal.mixin({
                            toast: true,
                            position: 'top-end',
                            showConfirmButton: false,
                            timer: 3000
                        });
                        Toast.fire({
                            icon: 'success',
                            title: documentoTextareaEdit.messages
                        })


                    } else {
                        Swal.fire({
                            position: 'bottom-end',
                            icon: 'error',
                            title: documentoTextareaEdit.messages,
                            showConfirmButton: false,
                            timer: 4000
                        })
                    }
                    $('#data_tableatendimentosDocumentos').DataTable().ajax.reload(null, false).draw(false);

                }
            })

        }
    }


    function salvarPrescricao() {


        if (document.getElementById('codTipoPrescricaoAdd').value == null || document.getElementById('codTipoPrescricaoAdd').value == 0 || document.getElementById('codTipoPrescricaoAdd').value == '') {
            Swal.fire({
                icon: 'warning',
                html: 'Tipo de Prescrição deve ser informado!',
                showConfirmButton: true,
                confirmButtonText: 'Ok',

            })
            throw new Error('Tipo de Prescrição deve ser informado!');

        }

        $('#atendimentosPrescricoesAddModal').modal('hide');
        //VERIFICAÇÃO ATENDIMENTO ATUAL
        if (document.getElementById('codAtendimentoAnamnese').value != codAtendimentoTmp) {

            Swal.fire({
                position: 'bottom-end',
                icon: 'error',
                html: 'Falha na validação do atendimento atual.  Atualize a página (F5) ou entre novamente no sistema. Recomendamos a utilização do Google Chrome atualizado.',
                showConfirmButton: true,
                confirmButtonText: 'Ok',

            })
            throw new Error('Falha na validação do atendimento atual.  Atualize a página (F5) ou entre novamente no sistema. Recomendamos a utilização do Google Chrome atualizado.');

        }




        $.ajax({
            url: '<?php echo base_url('atendimentosPrescricoes/salvaPrescricao') ?>',
            type: 'post',
            data: {
                prescricao: document.getElementById('prescricaoTextareaAdd').value,
                codTipoPrescricao: document.getElementById('codTipoPrescricaoAdd').value,
                dataInicio: document.getElementById('dataInicioPrescricaoAdd').value,
                dataEncerramento: document.getElementById('dataEncerramentoPrescricaoAdd').value,
                codAtendimento: codAtendimentoTmp,
                codLocalAtendimento: codLocalAtendimentoTmp,


                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            dataType: 'json',
            success: function(prescricaoTextareaAdd) {

                if (prescricaoTextareaAdd.success === true) {

                    //$('#atendimentosPrescricoesAddModal').modal('hide');


                    var Toast = Swal.mixin({
                        toast: true,
                        position: 'top-end',
                        showConfirmButton: false,
                        timer: 3000
                    });
                    Toast.fire({
                        icon: 'success',
                        title: prescricaoTextareaAdd.messages
                    })
                    document.getElementById("codAtendimentoPrescricaoEdit").value = prescricaoTextareaAdd.codAtendimentoPrescricao;

                    editatendimentosPrescricoes(prescricaoTextareaAdd.codAtendimentoPrescricao);

                } else {
                    Swal.fire({
                        position: 'bottom-end',
                        icon: 'error',
                        title: prescricaoTextareaAdd.messages,
                        showConfirmButton: false,
                        timer: 4000
                    })
                }
                $('#data_tableatendimentosPrescricoes').DataTable().ajax.reload(null, false).draw(false);

            }
        })

    }

    function salvarParecer() {

        $.ajax({
            url: '<?php echo base_url('atendimentosPareceres/salvaParecer') ?>',
            type: 'post',
            data: {
                codEspecialidade: document.getElementById('codEspecialidadeAtendimentoParecerAdd').value,
                parecer: document.getElementById('parecerTextareaAdd').value,
                codAtendimento: codAtendimentoTmp,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            dataType: 'json',
            success: function(resultParecerTextareaAdd) {

                if (resultParecerTextareaAdd.success === true) {

                    $('#atendimentosPareceresAddModal').modal('hide');


                    var Toast = Swal.mixin({
                        toast: true,
                        position: 'top-end',
                        showConfirmButton: false,
                        timer: 3000
                    });
                    Toast.fire({
                        icon: 'success',
                        title: resultParecerTextareaAdd.messages
                    })
                    $('#data_tableatendimentosPareceres').DataTable().ajax.reload(null, false).draw(false);

                    document.getElementById("codAtendimentoParecerEdit").value = resultParecerTextareaAdd.codAtendimentoParecer;

                    editatendimentosPareceres(resultParecerTextareaAdd.codAtendimentoParecer);

                } else {
                    Swal.fire({
                        position: 'bottom-end',
                        icon: 'error',
                        title: resultParecerTextareaAdd.messages,
                        showConfirmButton: false,
                        timer: 4000
                    })
                }

            }
        })

    }


    function salvarDocumento() {



        $('#atendimentosDocumentosAddModal').modal('hide');

        $.ajax({
            url: '<?php echo base_url('atendimentosDocumentos/salvaDocumento') ?>',
            type: 'post',
            data: {
                //coddocumento: document.getElementById('codReceitaAdd').value,
                codTipoDocumento: document.getElementById('codTipoDocumentoAdd').value,
                documento: document.getElementById('documentoTextareaAdd').value,
                codAtendimento: codAtendimentoTmp,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            dataType: 'json',
            success: function(resultDocumentoTextareaAdd) {

                if (resultDocumentoTextareaAdd.success === true) {

                    //$('#atendimentosDocumentosAddModal').modal('hide');


                    var Toast = Swal.mixin({
                        toast: true,
                        position: 'top-end',
                        showConfirmButton: false,
                        timer: 3000
                    });
                    Toast.fire({
                        icon: 'success',
                        title: resultDocumentoTextareaAdd.messages
                    })
                    $('#data_tableatendimentosDocumentos').DataTable().ajax.reload(null, false).draw(false);

                    document.getElementById("codAtendimentoDocumentoEdit").value = resultDocumentoTextareaAdd.codAtendimentoDocumento;

                    editatendimentosDocumentos(resultDocumentoTextareaAdd.codAtendimentoDocumento);

                } else {
                    Swal.fire({
                        position: 'bottom-end',
                        icon: 'error',
                        title: resultDocumentoTextareaAdd.messages,
                        showConfirmButton: false,
                        timer: 4000
                    })
                }

            }
        })

    }


    function addAtendimentosEvolucoes() {

        document.getElementById("codAtendimentoEvolucoesAdd").value = null;

        // reset the form
        $('#atendimentosEvolucoesAddModal').modal('show');
        document.getElementById("atendimentosEvolucoesAddModalHeader").innerHTML = nomeCargoTmp + ' ' + nomePacienteTmp + ' | ' + siglaTipoBeneficiarioTmp + ' | ' + idadePacienteTmp + ' | PRONT: ' + codProntuarioTmp + ' | PREC: ' + codPlanoTmp;




        $.ajax({
            url: '<?php echo base_url('atendimentosEvolucoes/listaDropDownTiposEvolucao') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(tipoEvolucaoAdd) {

                $("#codTipoEvolucaoAdd").select2({
                    data: tipoEvolucaoAdd,
                })

                $('#codTipoEvolucaoAdd').val(null);
                $('#codTipoEvolucaoAdd').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });

            }
        })




        $(function() {

            var salvarBtn = function(context) {
                var uiSalvar = $.summernote.ui;

                // create button
                var buttonSalvar = uiSalvar.button({
                    contents: '<i class="fas fa-save"></i> SALVAR',
                    tooltip: 'salvar',
                    click: function() {
                        if (document.getElementById("codTipoEvolucaoAdd").value == "" || document.getElementById("codTipoEvolucaoAdd").value == null) {
                            Swal.fire({
                                position: 'bottom-end',
                                icon: 'error',
                                html: 'É necessário selecionar o tipo de evolução',
                                showConfirmButton: false,
                                timer: 4000
                            });

                        } else {
                            // Chama uma função
                            addEvolucoes(document.getElementById("codTipoEvolucaoAdd").value);
                        }

                    }
                });

                return buttonSalvar.render(); // return button as jquery object
            }



            var modeloBtn = function(context) {
                var uiModelo = $.summernote.ui;

                // create button
                var buttonModelo = uiModelo.button({
                    contents: '<i class="fas fa-save"></i> MODELOS',
                    tooltip: 'salvar',
                    click: function() {
                        // Chama uma função
                        listaModelosEvolucao();
                    }
                });

                return buttonModelo.render(); // return button as jquery object
            }


            var fecharBtn = function(context) {
                var uiFechar = $.summernote.ui;

                // create button
                var buttonFechar = uiFechar.button({
                    contents: '<i class="fas fa-window-close"></i> FECHAR',
                    tooltip: 'fechar',
                    click: function() {
                        // Chama uma função
                        $('#atendimentosEvolucoesAddModal').modal('hide');
                    }
                });

                return buttonFechar.render(); // return button as jquery object
            }




            //ADD text editor
            $('#evolucoesTextareaAdd').summernote({
                height: 200,
                maximumImageFileSize: 1024 * 1024, // 1Mb
                fontSizes: ['8', '9', '10', '11', '12', '14', '18', '20', '36', '72'],
                lineHeights: ['0.2', '0.3', '0.4', '0.5', '0.6', '0.8', '1.0', '1.2', '1.4', '1.5', '2.0', '3.0'],
                toolbar: [
                    ['mybutton1', ['salvar']],
                    ['mybutton3', ['modelo']],
                    ['style', ['style']],
                    ['fontname', ['fontname']],
                    ['font', ['color', 'strikethrough', 'superscript', 'subscript', 'bold', 'underline', 'clear']],
                    ['fontsize', ['fontsize']],
                    ['height', ['height']],
                    ['para', ['ul', 'ol', 'paragraph']],
                    ['table', ['table']],
                    ['insert', ['link', 'hr']],
                    ['view', ['fullscreen', 'codeview', 'help']],
                    ['redo'],
                    ['undo'],
                    ['mybutton2', ['fechar']],
                ],
                buttons: {
                    salvar: salvarBtn,
                    fechar: fecharBtn,
                    modelo: modeloBtn,
                },
                callbacks: {
                    onImageUploadError: function(msg) {
                        var Toast = Swal.mixin({
                            toast: true,
                            position: 'top-end',
                            showConfirmButton: false,
                            timer: 5000
                        });
                        Toast.fire({
                            icon: 'error',
                            title: 'Tamanho máximo de imagens é 1Mb'
                        })
                    }
                }
            })


            $('#evolucoesTextareaAdd').summernote('reset');

        })



    }

    function addAtendimentosCondutas() {
        document.getElementById("codAtendimentoCondutasAdd").value = null;

        // reset the form
        $('#atendimentosCondutasAddModal').modal('show');
        document.getElementById("atendimentosCondutasAddModalHeader").innerHTML = nomeCargoTmp + ' ' + nomePacienteTmp + ' | ' + siglaTipoBeneficiarioTmp + ' | ' + idadePacienteTmp + ' | PRONT: ' + codProntuarioTmp + ' | PREC: ' + codPlanoTmp;




        $(function() {

            var salvarBtn = function(context) {
                var uiSalvar = $.summernote.ui;

                // create button
                var buttonSalvar = uiSalvar.button({
                    contents: '<i class="fas fa-save"></i> SALVAR',
                    tooltip: 'salvar',
                    click: function() {
                        // Chama uma função
                        addConduta();
                    }
                });

                return buttonSalvar.render(); // return button as jquery object
            }



            var modeloBtn = function(context) {
                var uiModelo = $.summernote.ui;

                // create button
                var buttonModelo = uiModelo.button({
                    contents: '<i class="fas fa-save"></i> MODELOS',
                    tooltip: 'salvar',
                    click: function() {
                        // Chama uma função
                        listaModelosConduta();
                    }
                });

                return buttonModelo.render(); // return button as jquery object
            }



            var fecharBtn = function(context) {
                var uiFechar = $.summernote.ui;

                // create button
                var buttonFechar = uiFechar.button({
                    contents: '<i class="fas fa-window-close"></i> FECHAR',
                    tooltip: 'fechar',
                    click: function() {
                        // Chama uma função
                        $('#atendimentosCondutasAddModal').modal('hide');
                    }
                });

                return buttonFechar.render(); // return button as jquery object
            }




            //ADD text editor
            $('#condutasTextareaAdd').summernote({
                height: 200,
                maximumImageFileSize: 1024 * 1024, // 1Mb
                fontSizes: ['8', '9', '10', '11', '12', '14', '18', '20', '36', '72'],
                lineHeights: ['0.2', '0.3', '0.4', '0.5', '0.6', '0.8', '1.0', '1.2', '1.4', '1.5', '2.0', '3.0'],
                toolbar: [
                    ['mybutton1', ['salvar']],
                    ['mybutton2', ['modelo']],
                    ['style', ['style']],
                    ['fontname', ['fontname']],
                    ['font', ['color', 'strikethrough', 'superscript', 'subscript', 'bold', 'underline', 'clear']],
                    ['fontsize', ['fontsize']],
                    ['height', ['height']],
                    ['para', ['ul', 'ol', 'paragraph']],
                    ['table', ['table']],
                    ['insert', ['link', 'hr']],
                    ['view', ['fullscreen', 'codeview', 'help']],
                    ['redo'],
                    ['undo'],
                    ['mybutton3', ['fechar']],
                ],
                buttons: {
                    salvar: salvarBtn,
                    fechar: fecharBtn,
                    modelo: modeloBtn,
                },
            })


            $('#condutasTextareaAdd').summernote('reset');

        })



    }

    function salvarModeloConduta() {
        Swal.fire({
            title: 'Você tem certeza que deseja salvar o documento atual como Modelo?',
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {


                Swal.fire({
                    title: 'Nome do Modelo',
                    input: 'text',
                    showCancelButton: true,
                    inputValidator: (value) => {
                        if (!value) {
                            return 'É necessário informar o nome do Modelo'
                        } else {


                            //SALVA DOCUMENTO
                            codAtendimentoConduta = document.getElementById("codAtendimentoCondutasEdit").value;
                            editConduta(codAtendimentoConduta);

                            //SALVA MODELO
                            $.ajax({
                                url: '<?php echo base_url('modelosCondutas/salvarModelo') ?>',
                                type: 'post',
                                data: {
                                    titulo: value,
                                    conteudo: document.getElementById("condutasTextareaEdit").value,
                                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                                },
                                dataType: 'json',
                                success: function(resultSalvarModelo) {
                                    if (resultSalvarModelo.success == true) {

                                        var Toast = Swal.mixin({
                                            toast: true,
                                            position: 'bottom-end',
                                            showConfirmButton: false,
                                            timer: 2000
                                        });
                                        Toast.fire({
                                            icon: 'success',
                                            title: resultSalvarModelo.messages
                                        })


                                    } else {

                                        var Toast = Swal.mixin({
                                            toast: true,
                                            position: 'bottom-end',
                                            showConfirmButton: false,
                                            timer: 2000
                                        });
                                        Toast.fire({
                                            icon: 'error',
                                            title: resultSalvarModelo.messages
                                        })
                                    }
                                }

                            })


                        }
                    }
                })


            }
        })







    }

    function removeModelosCondutas(codModelo) {
        Swal.fire({
            title: 'Você tem certeza que deseja remover?',
            text: "Você não poderá reverter após a confirmação",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {
                $.ajax({
                    url: '<?php echo base_url('modelosCondutas/remove') ?>',
                    type: 'post',
                    data: {
                        codModelo: codModelo,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    dataType: 'json',
                    success: function(response) {

                        if (response.success === true) {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {
                                $('#data_tablemeusmodeloscondutas').DataTable().ajax.reload(null, false).draw(false);
                                $('#data_tableoutrosmodeloscondutas').DataTable().ajax.reload(null, false).draw(false);
                            })
                        } else {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'error',
                                title: response.messages
                            })


                        }
                    }
                });
            }
        })
    }


    function usarModeloConduta(codModelo) {

        $.ajax({
            url: '<?php echo base_url('modelosCondutas/getOne') ?>',
            type: 'post',
            data: {
                codModelo: codModelo,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            dataType: 'json',
            success: function(resultModelo) {


                $('#listaModelosCondutasModal').modal('hide');

                $("#condutasTextareaAdd").summernote("code", resultModelo.conteudo);
                $("#condutasTextareaEdit").summernote("code", resultModelo.conteudo);

            }
        })
    }

    function listaModelosConduta() {

        // reset the form
        $('#listaModelosCondutasModal').modal('show');


        $('#data_tablemeusmodeloscondutas').DataTable({
            "bDestroy": true,
            "paging": true,
            "deferRender": true,
            "lengthChange": false,
            "searching": true,
            "ordering": true,
            "info": true,
            "autoWidth": false,
            "responsive": true,
            "ajax": {
                "url": '<?php echo base_url('modelosCondutas/meusModelos') ?>',
                "type": "POST",
                "dataType": "json",
                async: "true",
                data: {
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },
            }
        });


        $('#data_tableoutrosmodeloscondutas').DataTable({
            "bDestroy": true,
            "paging": true,
            "deferRender": true,
            "lengthChange": false,
            "searching": true,
            "ordering": true,
            "info": true,
            "autoWidth": false,
            "responsive": true,
            "ajax": {
                "url": '<?php echo base_url('modelosCondutas/outrosModelos') ?>',
                "type": "POST",
                "dataType": "json",
                async: "true",
                data: {
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },
            }
        });



    }




    function usarModeloMedicamento(codModelo) {


        Swal.fire({
            title: 'Você tem certeza que deseja importar este modelo de prescrição de medicamentos?',
            icon: 'info',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {
                $.ajax({
                    url: '<?php echo base_url('modelosMedicamentos/usarModelo') ?>',
                    type: 'post',
                    data: {
                        codModelo: codModelo,
                        codAtendimentoPrescricao: document.getElementById("codAtendimentoPrescricaoEdit").value,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    dataType: 'json',
                    success: function(responseImportacaoModelo) {


                        $('#listaModelosMedicamentosModal').modal('hide');
                        $('#data_tableprescricaoMedicamentos').DataTable().ajax.reload(null, false).draw(false);
                        $('#data_tableprescricaoDietas').DataTable().ajax.reload(null, false).draw(false);


                        var Toast = Swal.mixin({
                            toast: true,
                            position: 'bottom-end',
                            showConfirmButton: false,
                            timer: 2000
                        });
                        Toast.fire({
                            icon: 'success',
                            title: responseImportacaoModelo.messages
                        })

                    }
                })
            }
        })
    }

    function removeModelosMateriais(codModelo) {


        Swal.fire({
            title: 'Você tem certeza que deseja remover este modelo de prescrição de materiais?',
            icon: 'info',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {
                $.ajax({
                    url: '<?php echo base_url('modelosMateriais/remove') ?>',
                    type: 'post',
                    data: {
                        codModelo: codModelo,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    dataType: 'json',
                    success: function(responseRemoveModeloMaterial) {
                        $('#data_tablemeusmodelosMateriais').DataTable().ajax.reload(null, false).draw(false);


                        var Toast = Swal.mixin({
                            toast: true,
                            position: 'bottom-end',
                            showConfirmButton: false,
                            timer: 2000
                        });
                        Toast.fire({
                            icon: 'success',
                            title: responseRemoveModeloMaterial.messages
                        })
                    }

                })
            }
        })
    }

    function usarModeloMaterial(codModelo) {


        Swal.fire({
            title: 'Você tem certeza que deseja importar este modelo de prescrição de materiais?',
            icon: 'info',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {
                $.ajax({
                    url: '<?php echo base_url('modelosMateriais/usarModelo') ?>',
                    type: 'post',
                    data: {
                        codModelo: codModelo,
                        codAtendimentoPrescricao: document.getElementById("codAtendimentoPrescricaoEdit").value,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    dataType: 'json',
                    success: function(responseImportacaoModeloMaterial) {


                        $('#listaModelosMateriaisModal').modal('hide');
                        $('#data_tableprescricoesMaterial').DataTable().ajax.reload(null, false).draw(false);

                        if (responseImportacaoModeloMaterial.success === true) {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: responseImportacaoModeloMaterial.messages
                            })
                        } else {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'error',
                                title: responseImportacaoModeloMaterial.messages
                            })
                        }

                    }
                })
            }
        })
    }

    function salvarModeloMedicamentos() {


        Swal.fire({
            title: 'Você tem certeza que deseja salvar esta prescrição de medicamentos como Modelo?',
            icon: 'info',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {


                Swal.fire({
                    title: 'Nome do Modelo',
                    input: 'text',
                    showCancelButton: true,
                    inputValidator: (value) => {
                        if (!value) {
                            return 'É necessário informar o nome do Modelo'
                        } else {

                            $.ajax({
                                url: '<?php echo base_url('modelosMedicamentos/add') ?>',
                                type: 'post',
                                data: {
                                    titulo: value,
                                    codAtendimentoPrescricao: document.getElementById("codAtendimentoPrescricaoEdit").value,
                                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                                },
                                dataType: 'json',
                                success: function(responseCriacaoModeloMedicamento) {

                                    var Toast = Swal.mixin({
                                        toast: true,
                                        position: 'bottom-end',
                                        showConfirmButton: false,
                                        timer: 2000
                                    });
                                    Toast.fire({
                                        icon: 'success',
                                        title: responseCriacaoModeloMedicamento.messages
                                    })

                                }
                            })


                        }

                    }
                })
            }
        })

    }


    function salvarModeloMateriais() {


        Swal.fire({
            title: 'Você tem certeza que deseja salvar esta prescrição de materiais como Modelo?',
            icon: 'info',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {


                Swal.fire({
                    title: 'Nome do Modelo',
                    input: 'text',
                    showCancelButton: true,
                    inputValidator: (value) => {
                        if (!value) {
                            return 'É necessário informar o nome do Modelo'
                        } else {

                            $.ajax({
                                url: '<?php echo base_url('modelosMateriais/add') ?>',
                                type: 'post',
                                data: {
                                    titulo: value,
                                    codAtendimentoPrescricao: document.getElementById("codAtendimentoPrescricaoEdit").value,
                                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                                },
                                dataType: 'json',
                                success: function(responseCriacaoModeloMaterial) {

                                    var Toast = Swal.mixin({
                                        toast: true,
                                        position: 'bottom-end',
                                        showConfirmButton: false,
                                        timer: 2000
                                    });
                                    Toast.fire({
                                        icon: 'success',
                                        title: responseCriacaoModeloMaterial.messages
                                    })

                                }
                            })


                        }

                    }
                })
            }
        })

    }


    function editarModeloMaterial(codModelo, titulo) {



        // reset the form


        $('#editModelosMateriaisModal').modal('show');
        document.getElementById("tituloEditarModeloMaterial").innerHTML = 'Modelo: ' + titulo;



        document.getElementById("geraBotaoNovoModeloMaterial").innerHTML = '<div class="row">' +
            '<div class="col-md-12">' +
            '<button id="botaoNovoModeloMaterial" type="button" class="btn btn-lg btn-danger" data-toggle="tooltip" data-placement="top" onclick="addprescricaoModeloMateriais(' + codModelo + ')"><i class="fa fa-edit"></i>Novo Material</button>' +
            '</div>' +
            '</div>';

        //FORÇAR Z-INDEX
        document.getElementById("editModelosMateriaisModal").style.zIndex = "2001";

        $('#data_tableModeloPrescricaoMateriais').DataTable({
            "bDestroy": true,
            "paging": true,
            "deferRender": true,
            "lengthChange": false,
            "searching": true,
            "ordering": true,
            "info": true,
            "autoWidth": false,
            "responsive": true,
            "ajax": {
                "url": '<?php echo base_url('modelosMateriais/materiaisModelo') ?>',
                "type": "POST",
                "dataType": "json",
                async: "true",
                data: {
                    codModelo: codModelo,
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },
            }
        });


    }




    function editarModeloMedicamento(codModelo, titulo) {



        // reset the form


        $('#editModelosMedicamentosModal').modal('show');
        document.getElementById("tituloEditarModelo").innerHTML = 'Modelo: ' + titulo;



        document.getElementById("geraBotaoNovoModeloMedicamento").innerHTML = '<div class="row">' +
            '<div class="col-md-12">' +
            '<button id="botaoNovoModeloMedicamento" type="button" class="btn btn-lg btn-danger" data-toggle="tooltip" data-placement="top" onclick="addprescricaoModeloMedicamentos(' + codModelo + ')"><i class="fa fa-edit"></i>Novo Medicamento</button>' +
            '</div>' +
            '</div>';

        //FORÇAR Z-INDEX
        document.getElementById("editModelosMedicamentosModal").style.zIndex = "2001";

        $('#data_tableModeloPrescricaoMedicamentos').DataTable({
            "bDestroy": true,
            "paging": true,
            "deferRender": true,
            "lengthChange": false,
            "searching": true,
            "ordering": true,
            "info": true,
            "autoWidth": false,
            "responsive": true,
            "ajax": {
                "url": '<?php echo base_url('modelosMedicamentos/medicamentosModelo') ?>',
                "type": "POST",
                "dataType": "json",
                async: "true",
                data: {
                    codModelo: codModelo,
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },
            }
        });


    }



    function editModeloprescricaoMedicamentos(codItemModelo) {

        $.ajax({
            url: '<?php echo base_url('modelosMedicamentos/getOne') ?>',
            type: 'post',
            data: {
                codItemModelo: codItemModelo,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            dataType: 'json',
            success: function(response) {


                // reset the form
                $("#prescricaoModeloMedicamentosEditForm")[0].reset();
                $(".form-control").removeClass('is-invalid').removeClass('is-valid');
                $('#prescricaoModeloMedicamentosEditModal').modal('show');

                document.getElementById("prescricaoModeloMedicamentosEditModal").style.zIndex = "2002";

                $("#prescricaoModeloMedicamentosEditForm #codItemModeloEdit").val(response.codItemModelo);
                $("#prescricaoModeloMedicamentosEditForm #codModeloEdit").val(response.codModelo);
                $("#prescricaoModeloMedicamentosEditForm #qtdeModeloEdit").val(response.qtde);
                $("#prescricaoModeloMedicamentosEditForm #freqPrescricaoModeloEdit").val(response.freq);
                $("#prescricaoModeloMedicamentosEditForm #diasPrescricaoModeloEdit").val(response.dias);
                $("#prescricaoModeloMedicamentosEditForm #horaIniPrescricaoModeloEdit").val(response.horaIni);
                $("#prescricaoModeloMedicamentosEditForm #obsPrescricaoModeloEdit").val(response.obs);
                $("#prescricaoModeloMedicamentosEditForm #totalModeloEdit").val(response.total);






                $.ajax({
                    url: '<?php echo base_url('itensFarmacia/listaDropDownMedicamentos') ?>',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    success: function(listaMedicamentosEdit) {

                        $("#codMedicamentoPrescritoModeloEdit").select2({
                            data: listaMedicamentosEdit,
                        })

                        $('#codMedicamentoPrescritoModeloEdit').val(response.codMedicamento);
                        $('#codMedicamentoPrescritoModeloEdit').trigger('change');
                        $(document).on('select2:open', () => {
                            document.querySelector('.select2-search__field').focus();
                        });

                    }
                })



                $.ajax({
                    url: '<?php echo base_url('prescricaoMedicamentos/listaDropDownUnidades') ?>',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    success: function(listaUnidadePrescricaoEdit) {

                        $("#undPrescricaoModeloEdit").select2({
                            data: listaUnidadePrescricaoEdit,
                        })

                        $('#undPrescricaoModeloEdit').val(response.und);
                        $('#undPrescricaoModeloEdit').trigger('change');
                        $(document).on('select2:open', () => {
                            document.querySelector('.select2-search__field').focus();
                        });

                    }
                })




                $.ajax({
                    url: '<?php echo base_url('prescricaoMedicamentos/listaDropDownVias') ?>',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    success: function(listaViasPrescricaoEdit) {

                        $("#viaPrescricaoModeloEdit").select2({
                            data: listaViasPrescricaoEdit,
                        })

                        $('#viaPrescricaoModeloEdit').val(response.via);
                        $('#viaPrescricaoModeloEdit').trigger('change');
                        $(document).on('select2:open', () => {
                            document.querySelector('.select2-search__field').focus();
                        });

                    }
                })


                $.ajax({
                    url: '<?php echo base_url('prescricaoMedicamentos/listaDropDownPeriodo') ?>',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    success: function(listaPeriodoPrescricaoEdit) {

                        $("#perPrescricaoModeloEdit").select2({
                            data: listaPeriodoPrescricaoEdit,
                        })

                        $('#perPrescricaoModeloEdit').val(response.per);
                        $('#perPrescricaoModeloEdit').trigger('change');
                        $(document).on('select2:open', () => {
                            document.querySelector('.select2-search__field').focus();
                        });

                    }
                })


                $.ajax({
                    url: '<?php echo base_url('prescricaoMedicamentos/listaDropDownAgora') ?>',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    success: function(listaApicarAgoraPrescricaoEdit) {

                        $("#aplicarAgoraPrescricaoModeloEdit").select2({
                            data: listaApicarAgoraPrescricaoEdit,
                        })

                        $('#aplicarAgoraPrescricaoModeloEdit').val(response.agora);
                        $('#aplicarAgoraPrescricaoModeloEdit').trigger('change');
                        $(document).on('select2:open', () => {
                            document.querySelector('.select2-search__field').focus();
                        });

                    }
                })



                $.ajax({
                    url: '<?php echo base_url('prescricaoMedicamentos/listaDropDownRiscoPrescricao') ?>',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    success: function(listaRiscoPrescricaoEdit) {

                        $("#riscoPrescricaoModeloEdit").select2({
                            data: listaRiscoPrescricaoEdit,
                        })

                        $('#riscoPrescricaoModeloEdit').val(response.risco);
                        $('#riscoPrescricaoModeloEdit').trigger('change');
                        $(document).on('select2:open', () => {
                            document.querySelector('.select2-search__field').focus();
                        });

                    }
                })



                // submit the edit from
                $.validator.setDefaults({
                    highlight: function(element) {
                        $(element).addClass('is-invalid').removeClass('is-valid');
                    },
                    unhighlight: function(element) {
                        $(element).removeClass('is-invalid').addClass('is-valid');
                    },
                    errorElement: 'div ',
                    errorClass: 'invalid-feedback',
                    errorPlacement: function(error, element) {
                        if (element.parent('.input-group').length) {
                            error.insertAfter(element.parent());
                        } else if ($(element).is('.select')) {
                            element.next().after(error);
                        } else if (element.hasClass('select2')) {
                            //error.insertAfter(element);
                            error.insertAfter(element.next());
                        } else if (element.hasClass('selectpicker')) {
                            error.insertAfter(element.next());
                        } else {
                            error.insertAfter(element);
                        }
                    },

                    submitHandler: function(form) {
                        var form = $('#prescricaoModeloMedicamentosEditForm');
                        $(".text-danger").remove();
                        $.ajax({
                            url: '<?php echo base_url('modelosMedicamentos/editItem') ?>',
                            type: 'post',
                            data: form.serialize(),
                            dataType: 'json',
                            beforeSend: function() {
                                //$('#prescricaoModeloMedicamentosEditForm-btn').html('<i class="fa fa-spinner fa-spin"></i>');
                            },
                            success: function(response) {

                                if (response.success === true) {

                                    $('#prescricaoModeloMedicamentosEditModal').modal('hide');


                                    var Toast = Swal.mixin({
                                        toast: true,
                                        position: 'bottom-end',
                                        showConfirmButton: false,
                                        timer: 2000
                                    });
                                    Toast.fire({
                                        icon: 'success',
                                        title: response.messages
                                    }).then(function() {
                                        $('#data_tableModeloPrescricaoMedicamentos').DataTable().ajax.reload(null, false).draw(false);
                                    })

                                } else {

                                    if (response.messages instanceof Object) {
                                        $.each(response.messages, function(index, value) {
                                            var id = $("#" + index);

                                            id.closest('.form-control')
                                                .removeClass('is-invalid')
                                                .removeClass('is-valid')
                                                .addClass(value.length > 0 ? 'is-invalid' : 'is-valid');

                                            id.after(value);

                                        });
                                    } else {
                                        var Toast = Swal.mixin({
                                            toast: true,
                                            position: 'bottom-end',
                                            showConfirmButton: false,
                                            timer: 2000
                                        });
                                        Toast.fire({
                                            icon: 'error',
                                            title: response.messages
                                        })

                                    }
                                }
                                $('#prescricaoModeloMedicamentosEditForm-btn').html('Salvar');
                            }
                        });

                        return false;
                    }
                });
                $('#prescricaoModeloMedicamentosEditForm').validate();

            }
        });
    }

    function editModeloprescricaoMaterials(codItemModelo) {

        $.ajax({
            url: '<?php echo base_url('modelosMateriais/getOne') ?>',
            type: 'post',
            data: {
                codItemModelo: codItemModelo,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            dataType: 'json',
            success: function(response) {


                // reset the form
                $("#prescricaoModeloMateriaisEditForm")[0].reset();
                $(".form-control").removeClass('is-invalid').removeClass('is-valid');
                $('#prescricaoModeloMateriaisEditModal').modal('show');

                document.getElementById("prescricaoModeloMateriaisEditModal").style.zIndex = "2002";

                $("#prescricaoModeloMateriaisEditForm #codItemModeloEdit").val(response.codItemModelo);
                $("#prescricaoModeloMateriaisEditForm #codModeloEdit").val(response.codModelo);
                $("#prescricaoModeloMateriaisEditForm #qtdeModeloEdit").val(response.qtde);
                $("#prescricaoModeloMateriaisEditForm #obsPrescricaoModeloEdit").val(response.observacao);



                $.ajax({
                    url: '<?php echo base_url('itensFarmacia/listaDropDownMateriais') ?>',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    success: function(listaMateriaisEdit) {

                        $("#codMaterialPrescritoModeloEdit").select2({
                            data: listaMateriaisEdit,
                        })

                        $('#codMaterialPrescritoModeloEdit').val(response.codMaterial);
                        $('#codMaterialPrescritoModeloEdit').trigger('change');
                        $(document).on('select2:open', () => {
                            document.querySelector('.select2-search__field').focus();
                        });

                    }
                })



                // submit the edit from
                $.validator.setDefaults({
                    highlight: function(element) {
                        $(element).addClass('is-invalid').removeClass('is-valid');
                    },
                    unhighlight: function(element) {
                        $(element).removeClass('is-invalid').addClass('is-valid');
                    },
                    errorElement: 'div ',
                    errorClass: 'invalid-feedback',
                    errorPlacement: function(error, element) {
                        if (element.parent('.input-group').length) {
                            error.insertAfter(element.parent());
                        } else if ($(element).is('.select')) {
                            element.next().after(error);
                        } else if (element.hasClass('select2')) {
                            //error.insertAfter(element);
                            error.insertAfter(element.next());
                        } else if (element.hasClass('selectpicker')) {
                            error.insertAfter(element.next());
                        } else {
                            error.insertAfter(element);
                        }
                    },

                    submitHandler: function(form) {
                        var form = $('#prescricaoModeloMateriaisEditForm');
                        $(".text-danger").remove();
                        $.ajax({
                            url: '<?php echo base_url('modelosMateriais/editItem') ?>',
                            type: 'post',
                            data: form.serialize(),
                            dataType: 'json',

                            success: function(response) {

                                if (response.success === true) {

                                    $('#prescricaoModeloMateriaisEditModal').modal('hide');


                                    var Toast = Swal.mixin({
                                        toast: true,
                                        position: 'bottom-end',
                                        showConfirmButton: false,
                                        timer: 2000
                                    });
                                    Toast.fire({
                                        icon: 'success',
                                        title: response.messages
                                    }).then(function() {
                                        $('#data_tableModeloPrescricaoMateriais').DataTable().ajax.reload(null, false).draw(false);
                                    })

                                } else {

                                    if (response.messages instanceof Object) {
                                        $.each(response.messages, function(index, value) {
                                            var id = $("#" + index);

                                            id.closest('.form-control')
                                                .removeClass('is-invalid')
                                                .removeClass('is-valid')
                                                .addClass(value.length > 0 ? 'is-invalid' : 'is-valid');

                                            id.after(value);

                                        });
                                    } else {
                                        var Toast = Swal.mixin({
                                            toast: true,
                                            position: 'bottom-end',
                                            showConfirmButton: false,
                                            timer: 2000
                                        });
                                        Toast.fire({
                                            icon: 'error',
                                            title: response.messages
                                        })

                                    }
                                }
                            }
                        });

                        return false;
                    }
                });
                $('#prescricaoModeloMateriaisEditForm').validate();

            }
        });
    }


    function listaModelosMateriais() {



        // reset the form


        $('#listaModelosMateriaisModal').modal('show');


        //FORÇAR Z-INDEX
        document.getElementById("listaModelosMateriaisModal").style.zIndex = "2000";

        $('#data_tablemeusmodelosMateriais').DataTable({
            "bDestroy": true,
            "paging": true,
            "deferRender": true,
            "lengthChange": false,
            "searching": true,
            "ordering": true,
            "info": true,
            "autoWidth": false,
            "responsive": true,
            "ajax": {
                "url": '<?php echo base_url('modelosMateriais/meusModelos') ?>',
                "type": "POST",
                "dataType": "json",
                async: "true",
                data: {
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },
            }
        });

        $('#data_tableoutrosmodelosMateriais').DataTable({
            "bDestroy": true,
            "paging": true,
            "deferRender": true,
            "lengthChange": false,
            "searching": true,
            "ordering": true,
            "info": true,
            "autoWidth": false,
            "responsive": true,
            "ajax": {
                "url": '<?php echo base_url('modelosMateriais/outrosModelos') ?>',
                "type": "POST",
                "dataType": "json",
                async: "true",
                data: {
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },
            }
        });

    }



    function listaModelosMedicamentos() {



        // reset the form


        $('#listaModelosMedicamentosModal').modal('show');


        //FORÇAR Z-INDEX
        document.getElementById("listaModelosMedicamentosModal").style.zIndex = "2000";

        $('#data_tablemeusmodelosmedicamentos').DataTable({
            "bDestroy": true,
            "paging": true,
            "deferRender": true,
            "lengthChange": false,
            "searching": true,
            "ordering": true,
            "info": true,
            "autoWidth": false,
            "responsive": true,
            "ajax": {
                "url": '<?php echo base_url('modelosMedicamentos/meusModelos') ?>',
                "type": "POST",
                "dataType": "json",
                async: "true",
                data: {
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },
            }
        });


        $('#data_tableoutrosmodelosmedicamentos').DataTable({
            "bDestroy": true,
            "paging": true,
            "deferRender": true,
            "lengthChange": false,
            "searching": true,
            "ordering": true,
            "info": true,
            "autoWidth": false,
            "responsive": true,
            "ajax": {
                "url": '<?php echo base_url('modelosMedicamentos/outrosModelos') ?>',
                "type": "POST",
                "dataType": "json",
                async: "true",
                data: {
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },
            }
        });


    }

    function removeModeloprescricaoMaterials(codItemModelo) {
        Swal.fire({
            title: 'Você tem certeza que deseja remover este item do modelo?',
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {
                $.ajax({
                    url: '<?php echo base_url('modelosMateriais/removeItem') ?>',
                    type: 'post',
                    data: {
                        codItemModelo: codItemModelo,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    dataType: 'json',
                    success: function(responseRemocaoItem) {

                        $('#data_tableModeloPrescricaoMateriais').DataTable().ajax.reload(null, false).draw(false);

                        if (response.success === true) {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            })
                        } else {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'error',
                                title: response.messages
                            })


                        }
                    }
                });
            }
        })
    }

    function removeModeloprescricaoMedicamentos(codItemModelo) {
        Swal.fire({
            title: 'Você tem certeza que deseja remover este item do modelo?',
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {
                $.ajax({
                    url: '<?php echo base_url('modelosMedicamentos/removeItem') ?>',
                    type: 'post',
                    data: {
                        codItemModelo: codItemModelo,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    dataType: 'json',
                    success: function(responseRemocaoItem) {

                        $('#data_tableModeloPrescricaoMedicamentos').DataTable().ajax.reload(null, false).draw(false);

                        if (response.success === true) {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            })
                        } else {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'error',
                                title: response.messages
                            })


                        }
                    }
                });
            }
        })
    }

    function removeModelosMedicamentos(codModelo) {
        Swal.fire({
            title: 'Você tem certeza que deseja remover este modelo?',
            text: "Você não poderá reverter após a confirmação",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {
                $.ajax({
                    url: '<?php echo base_url('modelosMedicamentos/remove') ?>',
                    type: 'post',
                    data: {
                        codModelo: codModelo,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    dataType: 'json',
                    success: function(response) {

                        if (response.success === true) {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {
                                $('#data_tablemeusmodelosmedicamentos').DataTable().ajax.reload(null, false).draw(false);
                            })
                        } else {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'error',
                                title: response.messages
                            })


                        }
                    }
                });
            }
        })
    }

    function removemodeloConduta(codModelo) {
        Swal.fire({
            title: 'Você tem certeza que deseja remover este modelo?',
            text: "Você não poderá reverter após a confirmação",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {
                $.ajax({
                    url: '<?php echo base_url('modelosCondutas/remove') ?>',
                    type: 'post',
                    data: {
                        codModelo: codModelo,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    dataType: 'json',
                    success: function(response) {

                        if (response.success === true) {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {
                                $('#data_tablemeusmodelos').DataTable().ajax.reload(null, false).draw(false);
                            })
                        } else {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'error',
                                title: response.messages
                            })


                        }
                    }
                });
            }
        })
    }



    function salvarModeloEvolucao() {
        Swal.fire({
            title: 'Você tem certeza que deseja salvar o documento atual como Modelo?',
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {


                Swal.fire({
                    title: 'Nome do Modelo',
                    input: 'text',
                    showCancelButton: true,
                    inputValidator: (value) => {
                        if (!value) {
                            return 'É necessário informar o nome do Modelo'
                        } else {


                            //SALVA DOCUMENTO
                            codAtendimentoEvolucao = document.getElementById("codAtendimentoEvolucoesEdit").value;
                            editEvolucao(codAtendimentoEvolucao, document.getElementById("codTipoEvolucaoEdit").value);

                            //SALVA MODELO
                            $.ajax({
                                url: '<?php echo base_url('modelosEvolucoes/salvarModelo') ?>',
                                type: 'post',
                                data: {
                                    titulo: value,
                                    conteudo: document.getElementById("evolucoesTextareaEdit").value,
                                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                                },
                                dataType: 'json',
                                success: function(resultSalvarModelo) {
                                    if (resultSalvarModelo.success == true) {

                                        var Toast = Swal.mixin({
                                            toast: true,
                                            position: 'bottom-end',
                                            showConfirmButton: false,
                                            timer: 2000
                                        });
                                        Toast.fire({
                                            icon: 'success',
                                            title: resultSalvarModelo.messages
                                        })


                                    } else {

                                        var Toast = Swal.mixin({
                                            toast: true,
                                            position: 'bottom-end',
                                            showConfirmButton: false,
                                            timer: 2000
                                        });
                                        Toast.fire({
                                            icon: 'error',
                                            title: resultSalvarModelo.messages
                                        })
                                    }
                                }

                            })


                        }
                    }
                })


            }
        })







    }

    function removeModelosEvolucoes(codModelo) {
        Swal.fire({
            title: 'Você tem certeza que deseja remover este Modelo?',
            text: "Você não poderá reverter após a confirmação",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {
                $.ajax({
                    url: '<?php echo base_url('modelosEvolucoes/remove') ?>',
                    type: 'post',
                    data: {
                        codModelo: codModelo,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    dataType: 'json',
                    success: function(response) {

                        if (response.success === true) {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {
                                $('#data_tablemeusmodelosevolucoes').DataTable().ajax.reload(null, false).draw(false);
                                $('#data_tableoutrosmodelosevolucoes').DataTable().ajax.reload(null, false).draw(false);
                            })
                        } else {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'error',
                                title: response.messages
                            })


                        }
                    }
                });
            }
        })
    }


    function usarModeloEvolucao(codModelo) {

        $.ajax({
            url: '<?php echo base_url('modelosEvolucoes/getOne') ?>',
            type: 'post',
            data: {
                codModelo: codModelo,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            dataType: 'json',
            success: function(resultModelo) {


                $('#listaModelosEvolucoesModal').modal('hide');

                $("#evolucoesTextareaAdd").summernote("code", resultModelo.conteudo);
                $("#evolucoesTextareaEdit").summernote("code", resultModelo.conteudo);

            }
        })
    }

    function listaModelosEvolucao() {

        // reset the form
        $('#listaModelosEvolucoesModal').modal('show');


        $('#data_tablemeusmodelosevolucoes').DataTable({
            "bDestroy": true,
            "paging": true,
            "deferRender": true,
            "lengthChange": false,
            "searching": true,
            "ordering": true,
            "info": true,
            "autoWidth": false,
            "responsive": true,
            "ajax": {
                "url": '<?php echo base_url('modelosEvolucoes/meusModelos') ?>',
                "type": "POST",
                "dataType": "json",
                async: "true",
                data: {
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },
            }
        });


        $('#data_tableoutrosmodelosevolucoes').DataTable({
            "bDestroy": true,
            "paging": true,
            "deferRender": true,
            "lengthChange": false,
            "searching": true,
            "ordering": true,
            "info": true,
            "autoWidth": false,
            "responsive": true,
            "ajax": {
                "url": '<?php echo base_url('modelosEvolucoes/outrosModelos') ?>',
                "type": "POST",
                "dataType": "json",
                async: "true",
                data: {
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },
            }
        });



    }

    function removemodeloEvolucao(codModelo) {
        Swal.fire({
            title: 'Você tem certeza que deseja remover este modelo?',
            text: "Você não poderá reverter após a confirmação",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {
                $.ajax({
                    url: '<?php echo base_url('modelosEvolucoes/remove') ?>',
                    type: 'post',
                    data: {
                        codModelo: codModelo,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    dataType: 'json',
                    success: function(response) {

                        if (response.success === true) {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {
                                $('#data_tablemeusmodelos').DataTable().ajax.reload(null, false).draw(false);
                            })
                        } else {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'error',
                                title: response.messages
                            })


                        }
                    }
                });
            }
        })
    }




    function editAtendimentosConduta(codAtendimentoConduta) {
        document.getElementById("condutaImpressao").innerHTML = '';
        document.getElementById("codAtendimentoCondutasEdit").value = codAtendimentoConduta;

        // reset the form
        $('#atendimentosCondutasEditModal').modal('show');
        document.getElementById("atendimentosCondutasEditModalHeader").innerHTML = nomeCargoTmp + ' ' + nomePacienteTmp + ' | ' + siglaTipoBeneficiarioTmp + ' | ' + idadePacienteTmp + ' | PRONT: ' + codProntuarioTmp + ' | PREC: ' + codPlanoTmp;


        $.ajax({
            url: '<?php echo base_url('AtendimentosCondutas/getOne') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                codAtendimentoConduta: codAtendimentoConduta,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(condutaEdit) {

                $("#condutasTextareaEdit").summernote('destroy');
                $("#condutasTextareaEdit").val(condutaEdit.conteudoConduta);

                document.getElementById("dataCriacaoAtendimentosCondutasEdit").innerHTML = condutaEdit.dataCriacao;
                document.getElementById("nomePacienteAtendimentosCondutasEdit").innerHTML = condutaEdit.nomePaciente;
                document.getElementById("cpfPacienteAtendimentosCondutasEdit").innerHTML = condutaEdit.cpfPaciente;
                document.getElementById("nomeEspecialistaAtendimentosCondutasEdit").innerHTML = condutaEdit.nomeEspecialista;
                document.getElementById("numeroConselhoAtendimentosCondutasEdit").innerHTML = condutaEdit.numeroConselho;


                document.getElementById("dataCriacaoAtendimentosCondutasImpressao").innerHTML = condutaEdit.dataCriacao;
                document.getElementById("nomePacienteAtendimentosCondutasImpressao").innerHTML = condutaEdit.nomePaciente;
                document.getElementById("cpfPacienteAtendimentosCondutasImpressao").innerHTML = condutaEdit.cpfPaciente;
                document.getElementById("nomeEspecialistaAtendimentosCondutasImpressao").innerHTML = condutaEdit.nomeEspecialista;
                document.getElementById("numeroConselhoAtendimentosCondutasImpressao").innerHTML = condutaEdit.numeroConselho;


                $(function() {

                    var salvarBtn = function(context) {
                        var uiSalvar = $.summernote.ui;

                        // create button
                        var buttonSalvar = uiSalvar.button({
                            contents: '<i class="fas fa-save"></i> SALVAR',
                            tooltip: 'salvar',
                            click: function() {
                                // Chama uma função
                                editConduta(codAtendimentoConduta);
                            }
                        });

                        return buttonSalvar.render(); // return button as jquery object
                    }


                    var modeloBtn = function(context) {
                        var uiModelo = $.summernote.ui;

                        // create button
                        var buttonModelo = uiModelo.button({
                            contents: '<i class="fas fa-save"></i> MODELOS',
                            tooltip: 'salvar',
                            click: function() {
                                // Chama uma função
                                listaModelosConduta();
                            }
                        });

                        return buttonModelo.render(); // return button as jquery object
                    }


                    var salvarModeloBtn = function(context) {
                        var uiSalvarModelo = $.summernote.ui;

                        // create button
                        var buttonSalvarModelo = uiSalvarModelo.button({
                            contents: '<i class="fas fa-save"></i> SALVAR COMO MODELO',
                            tooltip: 'salvar',
                            click: function() {
                                // Chama uma função
                                salvarModeloConduta();
                            }
                        });

                        return buttonSalvarModelo.render(); // return button as jquery object
                    }


                    var fecharBtn = function(context) {
                        var uiFechar = $.summernote.ui;

                        // create button
                        var buttonFechar = uiFechar.button({
                            contents: '<i class="fas fa-window-close"></i> FECHAR',
                            tooltip: 'fechar',
                            click: function() {
                                // Chama uma função
                                $('#atendimentosCondutasEditModal').modal('hide');
                            }
                        });

                        return buttonFechar.render(); // return button as jquery object
                    }

                    var imprimirBtn = function(context) {
                        var uiImprimir = $.summernote.ui;

                        // create button
                        var buttonImprimir = uiImprimir.button({
                            contents: '<i class="fas fa-print"></i> IMPRIMIR',
                            tooltip: 'imprimir',
                            click: function() {
                                // Chama uma função

                                //$('#atendimentosCondutasImpressaoModal').modal('show');

                                document.getElementById("condutaImpressao").innerHTML = '';
                                document.getElementById("condutaImpressao").innerHTML = document.getElementById("condutasTextareaEdit").value;

                                printElement(document.getElementById("areaImpressaoConduta"));


                                window.print();

                            }
                        });

                        return buttonImprimir.render(); // return button as jquery object
                    }


                    //ADD text editor
                    $('#condutasTextareaEdit').summernote({
                        height: 200,
                        maximumImageFileSize: 1024 * 1024, // 1Mb
                        fontSizes: ['8', '9', '10', '11', '12', '14', '18', '20', '36', '72'],
                        lineHeights: ['0.2', '0.3', '0.4', '0.5', '0.6', '0.8', '1.0', '1.2', '1.4', '1.5', '2.0', '3.0'],
                        toolbar: [
                            ['mybutton1', ['salvar']],
                            ['mybutton2', ['imprimir']],
                            ['style', ['style']],
                            ['fontname', ['fontname']],
                            ['font', ['color', 'strikethrough', 'superscript', 'subscript', 'bold', 'underline', 'clear']],
                            ['fontsize', ['fontsize']],
                            ['height', ['height']],
                            ['para', ['ul', 'ol', 'paragraph']],
                            ['table', ['table']],
                            ['insert', ['link', 'hr']],
                            ['view', ['fullscreen', 'codeview', 'help']],
                            ['redo'],
                            ['undo'],
                            ['mybutton3', ['fechar']],
                            ['mybutton4', ['modelo']],
                            ['mybutton5', ['salvarModelo']],
                        ],
                        buttons: {
                            salvar: salvarBtn,
                            fechar: fecharBtn,
                            imprimir: imprimirBtn,
                            modelo: modeloBtn,
                            salvarModelo: salvarModeloBtn,
                        },
                        callbacks: {
                            onImageUploadError: function(msg) {
                                var Toast = Swal.mixin({
                                    toast: true,
                                    position: 'top-end',
                                    showConfirmButton: false,
                                    timer: 5000
                                });
                                Toast.fire({
                                    icon: 'error',
                                    title: 'Tamanho máximo de imagens é 1Mb'
                                })
                            }
                        }
                    })

                    if (condutaEdit.editavel == 0 || condutaEdit.codStatus == 2) {
                        $("#condutasTextareaEdit").summernote("disable");
                    }

                    document.getElementById("setEstilo").innerHTML = '<style>@media screen {' +
                        '#printSection {' +
                        'display: none;' +

                        '}' +
                        '}' +

                        '@media print {' +
                        '@page {' +
                        'size: A4;' +
                        'margin: 5px;' +
                        '}' +

                        'body>*:not(#printSection) {' +
                        'display: none;' +
                        '}' +

                        '#printSection,' +
                        '#printSection * {' +
                        'visibility: visible;' +

                        '}' +
                        '#printSection {' +
                        'position: absolute;' +
                        'left: 0;' +
                        'top: 0;' +
                        'width: 210mm;' +
                        'height: 297mm;' +

                        '}' +
                        '}</style>';
                })



            }
        })





    }



    function editAtendimentosEvolucao(codAtendimentoEvolucao) {
        document.getElementById("evolucaoImpressao").innerHTML = '';
        document.getElementById("codAtendimentoEvolucoesEdit").value = codAtendimentoEvolucao;

        // reset the form
        $('#atendimentosEvolucoesEditModal').modal('show');
        document.getElementById("atendimentosEvolucoesEditModalHeader").innerHTML = nomeCargoTmp + ' ' + nomePacienteTmp + ' | ' + siglaTipoBeneficiarioTmp + ' | ' + idadePacienteTmp + ' | PRONT: ' + codProntuarioTmp + ' | PREC: ' + codPlanoTmp;


        $.ajax({
            url: '<?php echo base_url('AtendimentosEvolucoes/getOne') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                codAtendimentoEvolucao: codAtendimentoEvolucao,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(evolucaoEdit) {

                $("#evolucoesTextareaEdit").summernote('destroy');
                $("#evolucoesTextareaEdit").val(evolucaoEdit.conteudoEvolucao);

                document.getElementById("dataCriacaoAtendimentosEvolucoesEdit").innerHTML = evolucaoEdit.dataCriacao;
                document.getElementById("nomePacienteAtendimentosEvolucoesEdit").innerHTML = evolucaoEdit.nomePaciente;
                document.getElementById("cpfPacienteAtendimentosEvolucoesEdit").innerHTML = evolucaoEdit.cpfPaciente;
                document.getElementById("localAtendimentoEvolucoesEdit").innerHTML = evolucaoEdit.localAtendimento;
                document.getElementById("nomeEspecialistaAtendimentosEvolucoesEdit").innerHTML = evolucaoEdit.nomeEspecialista;
                document.getElementById("numeroConselhoAtendimentosEvolucoesEdit").innerHTML = evolucaoEdit.numeroConselho;


                document.getElementById("dataCriacaoAtendimentosEvolucoesImpressao").innerHTML = evolucaoEdit.dataCriacao;
                document.getElementById("nomePacienteAtendimentosEvolucoesImpressao").innerHTML = evolucaoEdit.nomePaciente;
                document.getElementById("cpfPacienteAtendimentosEvolucoesImpressao").innerHTML = evolucaoEdit.cpfPaciente;
                document.getElementById("localAtendimentoEvolucoesImpressao").innerHTML = evolucaoEdit.localAtendimento;
                document.getElementById("dataHoraEvolucoesImpressao").innerHTML = evolucaoEdit.datHora;
                document.getElementById("nomeEspecialistaAtendimentosEvolucoesImpressao").innerHTML = evolucaoEdit.nomeEspecialista;
                document.getElementById("numeroConselhoAtendimentosEvolucoesImpressao").innerHTML = evolucaoEdit.numeroConselho;



                $.ajax({
                    url: '<?php echo base_url('atendimentosEvolucoes/listaDropDownTiposEvolucao') ?>',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    success: function(tipoEvolucaoEdit) {

                        $("#codTipoEvolucaoEdit").select2({
                            data: tipoEvolucaoEdit,
                        })

                        $('#codTipoEvolucaoEdit').val(evolucaoEdit.codTipoEvolucao);
                        $('#codTipoEvolucaoEdit').trigger('change');
                        $(document).on('select2:open', () => {
                            document.querySelector('.select2-search__field').focus();
                        });

                    }
                })



                $(function() {

                    var salvarBtn = function(context) {
                        var uiSalvar = $.summernote.ui;

                        // create button
                        var buttonSalvar = uiSalvar.button({
                            contents: '<i class="fas fa-save"></i> SALVAR',
                            tooltip: 'salvar',
                            click: function() {

                                if (document.getElementById("codTipoEvolucaoEdit").value == "" || document.getElementById("codTipoEvolucaoEdit").value == null) {
                                    Swal.fire({
                                        position: 'bottom-end',
                                        icon: 'error',
                                        html: 'É necessário selecionar o tipo de evolução',
                                        showConfirmButton: false,
                                        timer: 4000
                                    });

                                } else {
                                    // Chama uma função
                                    editEvolucao(codAtendimentoEvolucao, document.getElementById("codTipoEvolucaoEdit").value);
                                }

                            }
                        });

                        return buttonSalvar.render(); // return button as jquery object
                    }




                    var assinarBtn = function(context) {
                        var uiAssinar = $.summernote.ui;

                        // create button
                        var buttonAssinar = uiAssinar.button({
                            contents: '<i class="fas fa-save"></i> ASSINAR',
                            tooltip: 'assinar',
                            click: function() {

                                if (document.getElementById("codTipoEvolucaoEdit").value == "" || document.getElementById("codTipoEvolucaoEdit").value == null) {
                                    Swal.fire({
                                        position: 'bottom-end',
                                        icon: 'error',
                                        html: 'É necessário selecionar o tipo de evolução',
                                        showConfirmButton: false,
                                        timer: 4000
                                    });

                                } else {
                                    // Chama uma função
                                    assinarEvolucao(codAtendimentoEvolucao);
                                }

                            }
                        });

                        return buttonAssinar.render(); // return button as jquery object
                    }



                    var modeloBtn = function(context) {
                        var uiModelo = $.summernote.ui;

                        // create button
                        var buttonModelo = uiModelo.button({
                            contents: '<i class="fas fa-save"></i> MODELOS',
                            tooltip: 'salvar',
                            click: function() {
                                // Chama uma função
                                listaModelosEvolucao();
                            }
                        });

                        return buttonModelo.render(); // return button as jquery object
                    }


                    var salvarModeloBtn = function(context) {
                        var uiSalvarModelo = $.summernote.ui;

                        // create button
                        var buttonSalvarModelo = uiSalvarModelo.button({
                            contents: '<i class="fas fa-save"></i> SALVAR COMO MODELO',
                            tooltip: 'salvar',
                            click: function() {
                                // Chama uma função
                                salvarModeloEvolucao();
                            }
                        });

                        return buttonSalvarModelo.render(); // return button as jquery object
                    }

                    var fecharBtn = function(context) {
                        var uiFechar = $.summernote.ui;

                        // create button
                        var buttonFechar = uiFechar.button({
                            contents: '<i class="fas fa-window-close"></i> FECHAR',
                            tooltip: 'fechar',
                            click: function() {
                                // Chama uma função
                                $('#atendimentosEvolucoesEditModal').modal('hide');
                            }
                        });

                        return buttonFechar.render(); // return button as jquery object
                    }

                    var imprimirBtn = function(context) {
                        var uiImprimir = $.summernote.ui;




                        // create button
                        var buttonImprimir = uiImprimir.button({
                            contents: '<i class="fas fa-print"></i> IMPRIMIR',
                            tooltip: 'imprimir',
                            click: function() {


                                $.ajax({
                                    url: '<?php echo base_url('AtendimentosEvolucoes/getOne') ?>',
                                    type: 'post',
                                    dataType: 'json',
                                    data: {
                                        codAtendimentoEvolucao: codAtendimentoEvolucao,
                                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                                    },
                                    success: function(evolucao) {

                                        if (evolucao.codStatus == 1) {

                                            Swal.fire({
                                                icon: 'warning',
                                                title: 'Só é possível imprimir a evolução assinada.',
                                                showConfirmButton: true,
                                                confirmButtonText: 'Ciente',
                                            })


                                        } else {
                                            document.getElementById("evolucaoImpressao").innerHTML = '';
                                            document.getElementById("evolucaoImpressao").innerHTML = document.getElementById("evolucoesTextareaEdit").value;

                                            printElement(document.getElementById("areaImpressaoEvolucao"));


                                            window.print();
                                        }


                                    }
                                })



                            }
                        });

                        return buttonImprimir.render(); // return button as jquery object
                    }


                    //ADD text editor
                    $('#evolucoesTextareaEdit').summernote({
                        height: 200,
                        maximumImageFileSize: 1024 * 1024, // 1Mb
                        fontSizes: ['8', '9', '10', '11', '12', '14', '18', '20', '36', '72'],
                        lineHeights: ['0.2', '0.3', '0.4', '0.5', '0.6', '0.8', '1.0', '1.2', '1.4', '1.5', '2.0', '3.0'],
                        toolbar: [
                            ['mybutton1', ['salvar']],
                            ['mybutton2', ['assinar']],
                            ['mybutton3', ['imprimir']],
                            ['style', ['style']],
                            ['fontname', ['fontname']],
                            ['font', ['color', 'strikethrough', 'superscript', 'subscript', 'bold', 'underline', 'clear']],
                            ['fontsize', ['fontsize']],
                            ['height', ['height']],
                            ['para', ['ul', 'ol', 'paragraph']],
                            ['table', ['table']],
                            ['insert', ['link', 'hr']],
                            ['view', ['fullscreen', 'codeview', 'help']],
                            ['redo'],
                            ['undo'],
                            ['mybutton3', ['fechar']],
                            ['mybutton4', ['modelo']],
                            ['mybutton5', ['salvarModelo']],
                        ],
                        buttons: {
                            salvar: salvarBtn,
                            assinar: assinarBtn,
                            fechar: fecharBtn,
                            imprimir: imprimirBtn,
                            modelo: modeloBtn,
                            salvarModelo: salvarModeloBtn,
                        },
                        callbacks: {
                            onImageUploadError: function(msg) {
                                var Toast = Swal.mixin({
                                    toast: true,
                                    position: 'top-end',
                                    showConfirmButton: false,
                                    timer: 5000
                                });
                                Toast.fire({
                                    icon: 'error',
                                    title: 'Tamanho máximo de imagens é 1Mb'
                                })
                            }
                        }
                    })


                    if (evolucaoEdit.editavel == 0 || evolucaoEdit.codStatus == 2) {
                        $("#evolucoesTextareaEdit").summernote("disable");
                        document.getElementById("codTipoEvolucaoEdit").disabled = true;
                    }

                    document.getElementById("setEstilo").innerHTML = '<style>@media screen {' +
                        '#printSection {' +
                        'display: none;' +

                        '}' +
                        '}' +

                        '@media print {' +
                        '@page {' +
                        'size: A4;' +
                        'margin-top: 5mm;' +
                        'margin-left: 5mm;' +
                        'margin-bottom: 5mm;' +
                        'margin-right: 10mm;' +
                        '}' +

                        'body>*:not(#printSection) {' +
                        'display: none;' +
                        '}' +

                        '#printSection,' +
                        '#printSection * {' +
                        'visibility: visible;' +

                        '}' +
                        '#printSection {' +
                        'position: absolute;' +
                        'left: 0;' +
                        'top: 0;' +
                        'width: 210mm;' +
                        'height: 297mm;' +

                        '}' +
                        '}</style>';
                })



            }
        })





    }





    function verEvolucao(codAtendimentoEvolucao) {



        //LIMPAR VARIÁVEIS
        document.getElementById("evolucoesTextareaVer").innerHTML = '';
        document.getElementById("verTipoEvolucao").innerHTML = '';
        document.getElementById("localAtendimentoEvolucoesVer").innerHTML = '';
        document.getElementById("dataHoraEvolucoesVer").innerHTML = '';
        document.getElementById("dataCriacaoAtendimentosEvolucoesVer").innerHTML = '';
        document.getElementById("nomePacienteAtendimentosEvolucoesVer").innerHTML = '';
        document.getElementById("cpfPacienteAtendimentosEvolucoesVer").innerHTML = '';
        document.getElementById("nomeEspecialistaAtendimentosEvolucoesVer").innerHTML = '';
        document.getElementById("numeroConselhoAtendimentosEvolucoesVer").innerHTML = '';
        document.getElementById("dataCriacaoAtendimentosEvolucoesImpressao").innerHTML = '';
        document.getElementById("nomePacienteAtendimentosEvolucoesImpressao").innerHTML = '';
        document.getElementById("cpfPacienteAtendimentosEvolucoesImpressao").innerHTML = '';
        document.getElementById("nomeEspecialistaAtendimentosEvolucoesImpressao").innerHTML = '';
        document.getElementById("numeroConselhoAtendimentosEvolucoesImpressao").innerHTML = '';


        document.getElementById("codAtendimentoEvolucoesEdit").value = codAtendimentoEvolucao;



        $.ajax({
            url: '<?php echo base_url('AtendimentosEvolucoes/getOne') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                codAtendimentoEvolucao: codAtendimentoEvolucao,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(evolucao) {

                if (evolucao.codStatus == 1) {

                    Swal.fire({
                        icon: 'warning',
                        title: 'Só é possível imprimir a evolução assinada.',
                        showConfirmButton: true,
                        confirmButtonText: 'Ciente',
                    })

                } else {
                    $('#atendimentosEvolucoesVerModal').modal('show');
                    document.getElementById("atendimentosEvolucoesVerModalHeader").innerHTML = nomeCargoTmp + ' ' + nomePacienteTmp + ' | ' + siglaTipoBeneficiarioTmp + ' | ' + idadePacienteTmp + ' | PRONT: ' + codProntuarioTmp + ' | PREC: ' + codPlanoTmp;
                    $.ajax({
                        url: '<?php echo base_url('AtendimentosEvolucoes/getOne') ?>',
                        type: 'post',
                        dataType: 'json',
                        data: {
                            codAtendimentoEvolucao: codAtendimentoEvolucao,
                            csrf_sandra: $("#csrf_sandraPrincipal").val(),
                        },
                        success: function(evolucaoVer) {


                            document.getElementById("evolucoesTextareaVer").innerHTML = evolucaoVer.conteudoEvolucao;
                            document.getElementById("verTipoEvolucao").innerHTML = evolucaoVer.descricaoTipoEvolucao;
                            document.getElementById("localAtendimentoEvolucoesVer").innerHTML = evolucaoVer.localAtendimento;
                            document.getElementById("dataHoraEvolucoesVer").innerHTML = evolucaoVer.datHora;
                            document.getElementById("dataCriacaoAtendimentosEvolucoesVer").innerHTML = evolucaoVer.dataCriacao;
                            document.getElementById("nomePacienteAtendimentosEvolucoesVer").innerHTML = evolucaoVer.nomePaciente;
                            document.getElementById("cpfPacienteAtendimentosEvolucoesVer").innerHTML = evolucaoVer.cpfPaciente;
                            document.getElementById("nomeEspecialistaAtendimentosEvolucoesVer").innerHTML = evolucaoVer.nomeEspecialista;
                            document.getElementById("numeroConselhoAtendimentosEvolucoesVer").innerHTML = evolucaoVer.numeroConselho;


                            document.getElementById("dataCriacaoAtendimentosEvolucoesImpressao").innerHTML = evolucaoVer.dataCriacao;
                            document.getElementById("nomePacienteAtendimentosEvolucoesImpressao").innerHTML = evolucaoVer.nomePaciente;
                            document.getElementById("cpfPacienteAtendimentosEvolucoesImpressao").innerHTML = evolucaoVer.cpfPaciente;
                            document.getElementById("nomeEspecialistaAtendimentosEvolucoesImpressao").innerHTML = evolucaoVer.nomeEspecialista;
                            document.getElementById("numeroConselhoAtendimentosEvolucoesImpressao").innerHTML = evolucaoVer.numeroConselho;



                            $.ajax({
                                url: '<?php echo base_url('atendimentosEvolucoes/listaDropDownTiposEvolucao') ?>',
                                type: 'post',
                                dataType: 'json',
                                data: {
                                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                                },
                                success: function(tipoEvolucaoVer) {

                                    $("#codTipoEvolucaoEdit").select2({
                                        data: tipoEvolucaoVer,
                                    })

                                    $('#codTipoEvolucaoVer').val(evolucaoVer.codTipoEvolucao);
                                    $('#codTipoEvolucaoVer').trigger('change');
                                    $(document).on('select2:open', () => {
                                        document.querySelector('.select2-search__field').focus();
                                    });

                                }
                            })



                            $(function() {


                                document.getElementById("setEstilo").innerHTML = '<style>@media screen {' +
                                    '#printSection {' +
                                    'display: none;' +

                                    '}' +
                                    '}' +

                                    '@media print {' +
                                    '@page {' +
                                    'size: A4;' +
                                    'margin-top: 5mm;' +
                                    'margin-left: 5mm;' +
                                    'margin-bottom: 5mm;' +
                                    'margin-right: 10mm;' +
                                    '}' +

                                    'body>*:not(#printSection) {' +
                                    'display: none;' +
                                    '}' +

                                    '#printSection,' +
                                    '#printSection * {' +
                                    'visibility: visible;' +

                                    '}' +
                                    '#printSection {' +
                                    'position: absolute;' +
                                    'left: 0;' +
                                    'top: 0;' +
                                    'width: 210mm;' +
                                    'height: 297mm;' +

                                    '}' +
                                    '}</style>';
                            })



                        }
                    })


                }


            }
        })






    }




    function salvarModeloParecer() {
        Swal.fire({
            title: 'Você tem certeza que deseja salvar o documento atual como Modelo?',
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {


                Swal.fire({
                    title: 'Nome do Modelo',
                    input: 'text',
                    showCancelButton: true,
                    inputValidator: (value) => {
                        if (!value) {
                            return 'É necessário informar o nome do Modelo'
                        } else {


                            //SALVA DOCUMENTO
                            codAtendimentoParecer = document.getElementById("codAtendimentoParecerEdit").value;
                            editParecer(codAtendimentoParecer);

                            //SALVA MODELO
                            $.ajax({
                                url: '<?php echo base_url('modelosPareceres/salvarModelo') ?>',
                                type: 'post',
                                data: {
                                    titulo: value,
                                    conteudo: document.getElementById("parecerTextareaEdit").value,
                                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                                },
                                dataType: 'json',
                                success: function(resultSalvarModelo) {
                                    if (resultSalvarModelo.success == true) {

                                        var Toast = Swal.mixin({
                                            toast: true,
                                            position: 'bottom-end',
                                            showConfirmButton: false,
                                            timer: 2000
                                        });
                                        Toast.fire({
                                            icon: 'success',
                                            title: resultSalvarModelo.messages
                                        })


                                    } else {

                                        var Toast = Swal.mixin({
                                            toast: true,
                                            position: 'bottom-end',
                                            showConfirmButton: false,
                                            timer: 2000
                                        });
                                        Toast.fire({
                                            icon: 'error',
                                            title: resultSalvarModelo.messages
                                        })
                                    }
                                }

                            })


                        }
                    }
                })


            }
        })







    }

    function removeModelosPareceres(codModelo) {
        Swal.fire({
            title: 'Você tem certeza que deseja remover?',
            text: "Você não poderá reverter após a confirmação",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {
                $.ajax({
                    url: '<?php echo base_url('modelosPareceres/remove') ?>',
                    type: 'post',
                    data: {
                        codModelo: codModelo,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    dataType: 'json',
                    success: function(response) {

                        if (response.success === true) {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {
                                $('#data_tablemeusmodelospareceres').DataTable().ajax.reload(null, false).draw(false);
                                $('#data_tableoutrosmodelospareceres').DataTable().ajax.reload(null, false).draw(false);
                            })
                        } else {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'error',
                                title: response.messages
                            })


                        }
                    }
                });
            }
        })
    }


    function usarModeloParecer(codModelo) {

        $.ajax({
            url: '<?php echo base_url('modelosPareceres/getOne') ?>',
            type: 'post',
            data: {
                codModelo: codModelo,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            dataType: 'json',
            success: function(resultModelo) {


                $('#listaModelosPareceresModal').modal('hide');

                $("#parecerTextareaAdd").summernote("code", resultModelo.conteudo);
                $("#parecerTextareaEdit").summernote("code", resultModelo.conteudo);

            }
        })
    }

    function listaModelosParecer() {

        // reset the form
        $('#listaModelosPareceresModal').modal('show');


        $('#data_tablemeusmodelospareceres').DataTable({
            "bDestroy": true,
            "paging": true,
            "deferRender": true,
            "lengthChange": false,
            "searching": true,
            "ordering": true,
            "info": true,
            "autoWidth": false,
            "responsive": true,
            "ajax": {
                "url": '<?php echo base_url('modelosPareceres/meusModelos') ?>',
                "type": "POST",
                "dataType": "json",
                async: "true",
                data: {
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },
            }
        });


        $('#data_tableoutrosmodelospareceres').DataTable({
            "bDestroy": true,
            "paging": true,
            "deferRender": true,
            "lengthChange": false,
            "searching": true,
            "ordering": true,
            "info": true,
            "autoWidth": false,
            "responsive": true,
            "ajax": {
                "url": '<?php echo base_url('modelosPareceres/outrosModelos') ?>',
                "type": "POST",
                "dataType": "json",
                async: "true",
                data: {
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },
            }
        });



    }

    function removemodeloParecer(codModelo) {
        Swal.fire({
            title: 'Você tem certeza que deseja remover este modelo?',
            text: "Você não poderá reverter após a confirmação",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {
                $.ajax({
                    url: '<?php echo base_url('modelosPareceres/remove') ?>',
                    type: 'post',
                    data: {
                        codModelo: codModelo,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    dataType: 'json',
                    success: function(response) {

                        if (response.success === true) {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {
                                $('#data_tablemeusmodelos').DataTable().ajax.reload(null, false).draw(false);
                            })
                        } else {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'error',
                                title: response.messages
                            })


                        }
                    }
                });
            }
        })
    }


    function salvarModeloReceita() {
        Swal.fire({
            title: 'Você tem certeza que deseja salvar o documento atual como Modelo?',
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {


                Swal.fire({
                    title: 'Nome do Modelo',
                    input: 'text',
                    showCancelButton: true,
                    inputValidator: (value) => {
                        if (!value) {
                            return 'É necessário informar o nome do Modelo'
                        } else {


                            //SALVA DOCUMENTO
                            codAtendimentoDocumento = document.getElementById("codAtendimentoDocumentoEdit").value;
                            editDocumento(codAtendimentoDocumento);

                            //SALVA MODELO
                            $.ajax({
                                url: '<?php echo base_url('modelosReceitas/salvarModelo') ?>',
                                type: 'post',
                                data: {
                                    titulo: value,
                                    conteudo: document.getElementById("documentoTextareaEdit").value,
                                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                                },
                                dataType: 'json',
                                success: function(resultSalvarModelo) {
                                    if (resultSalvarModelo.success == true) {

                                        var Toast = Swal.mixin({
                                            toast: true,
                                            position: 'bottom-end',
                                            showConfirmButton: false,
                                            timer: 2000
                                        });
                                        Toast.fire({
                                            icon: 'success',
                                            title: resultSalvarModelo.messages
                                        })


                                    } else {

                                        var Toast = Swal.mixin({
                                            toast: true,
                                            position: 'bottom-end',
                                            showConfirmButton: false,
                                            timer: 2000
                                        });
                                        Toast.fire({
                                            icon: 'error',
                                            title: resultSalvarModelo.messages
                                        })
                                    }
                                }

                            })


                        }
                    }
                })


            }
        })







    }


    function removeModelosReceitas(codModelo) {
        Swal.fire({
            title: 'Você tem certeza que deseja remover?',
            text: "Você não poderá reverter após a confirmação",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {
                $.ajax({
                    url: '<?php echo base_url('modelosReceitas/remove') ?>',
                    type: 'post',
                    data: {
                        codModelo: codModelo,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    dataType: 'json',
                    success: function(response) {

                        if (response.success === true) {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {
                                $('#data_tablemeusmodelosreceitas').DataTable().ajax.reload(null, false).draw(false);
                                $('#data_tableoutrosmodelosreceitas').DataTable().ajax.reload(null, false).draw(false);
                            })
                        } else {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'error',
                                title: response.messages
                            })


                        }
                    }
                });
            }
        })
    }


    function usarModeloReceita(codModelo) {

        $.ajax({
            url: '<?php echo base_url('modelosReceitas/getOne') ?>',
            type: 'post',
            data: {
                codModelo: codModelo,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            dataType: 'json',
            success: function(resultModelo) {


                $('#listaModelosReceitasModal').modal('hide');

                $("#documentoTextareaAdd").summernote("code", resultModelo.conteudo);
                $("#documentoTextareaEdit").summernote("code", resultModelo.conteudo);

            }
        })
    }

    function listaModelosReceita() {

        // reset the form
        $('#listaModelosReceitasModal').modal('show');


        $('#data_tablemeusmodelosreceitas').DataTable({
            "bDestroy": true,
            "paging": true,
            "deferRender": true,
            "lengthChange": false,
            "searching": true,
            "ordering": true,
            "info": true,
            "autoWidth": false,
            "responsive": true,
            "ajax": {
                "url": '<?php echo base_url('modelosReceitas/meusModelos') ?>',
                "type": "POST",
                "dataType": "json",
                async: "true",
                data: {
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },
            }
        });


        $('#data_tableoutrosmodelosreceitas').DataTable({
            "bDestroy": true,
            "paging": true,
            "deferRender": true,
            "lengthChange": false,
            "searching": true,
            "ordering": true,
            "info": true,
            "autoWidth": false,
            "responsive": true,
            "ajax": {
                "url": '<?php echo base_url('modelosReceitas/outrosModelos') ?>',
                "type": "POST",
                "dataType": "json",
                async: "true",
                data: {
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },
            }
        });



    }

    function removemodeloReceita(codModelo) {
        Swal.fire({
            title: 'Você tem certeza que deseja remover este modelo?',
            text: "Você não poderá reverter após a confirmação",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {
                $.ajax({
                    url: '<?php echo base_url('modelosReceitas/remove') ?>',
                    type: 'post',
                    data: {
                        codModelo: codModelo,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    dataType: 'json',
                    success: function(response) {

                        if (response.success === true) {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {
                                $('#data_tablemeusmodelos').DataTable().ajax.reload(null, false).draw(false);
                            })
                        } else {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'error',
                                title: response.messages
                            })


                        }
                    }
                });
            }
        })
    }



    function imprimirVerEvolucao(codEvolucao) {

        printElement(document.getElementById("areaImpressaoVerEvolucao"));


        window.print();
    }


    function imprimirEvolucao(codEvolucao) {


        //VERIFICA SE JÁ ASSINADO


        $.ajax({
            url: '<?php echo base_url('AtendimentosEvolucoes/getOne') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                codAtendimentoEvolucao: document.getElementById("codAtendimentoEvolucoesEdit").value,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(evolucao) {

                if (evolucao.codStatus == 1) {

                    Swal.fire({
                        icon: 'warning',
                        title: 'Só é possível imprimir a evolução assinada.',
                        showConfirmButton: true,
                        confirmButtonText: 'Ciente',
                    })


                } else {
                    document.getElementById("evolucaoImpressao").innerHTML = '';
                    document.getElementById("evolucaoImpressao").innerHTML = document.getElementById("evolucoesTextareaEdit").value;

                    printElement(document.getElementById("areaImpressaoEvolucao"));


                    window.print();

                }


            }
        })



    }

    function imprimirConduta() {

        document.getElementById("condutaImpressao").innerHTML = '';
        document.getElementById("condutaImpressao").innerHTML = document.getElementById("condutasTextareaEdit").value;

        printElement(document.getElementById("areaImpressaoConduta"));


        window.print();
    }



    function imprimirProntuarioCompleto() {


        window.print();
    }


    function imprimirGuiaAntimicrobiana(codControleAntimicrobiano) {

        document.getElementById("conteudoImpressaoGuiaAntimicrobiana").innerHTML = '';


        $.ajax({
            url: '<?php echo base_url('controleAntimicrobiano/imprimirGuia') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                codControleAntimicrobiano: codControleAntimicrobiano,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(impressaoGuia) {

                if (impressaoGuia.success === true) {


                    document.getElementById("conteudoImpressaoGuiaAntimicrobiana").innerHTML = impressaoGuia.html;

                    document.getElementById("setEstilo").innerHTML = '<style>@media screen {' +
                        '#printSection {' +
                        'display: none;' +

                        '}' +
                        '}' +

                        '@media print {' +
                        '@page {' +
                        'size: A4;' +
                        'margin-top: 30px;' +
                        'margin-bottom: 40px;' +
                        'margin-left: 15px;' +
                        'margin-right: 15px;' +
                        '}' +

                        'body>*:not(#printSection) {' +
                        'display: none;' +
                        '}' +

                        '#printSection,' +
                        '#printSection * {' +
                        'visibility: visible;' +

                        '}' +
                        '#printSection {' +
                        'position: absolute;' +
                        'left: 0;' +
                        'top: 0;' +
                        'width: 297mm;' +
                        'height: 210mm;' +

                        '}' +
                        '}</style>';


                    printElement(document.getElementById("areaImpressaoGuiaAntimicrobiana"));
                    window.print();

                } else {

                    Swal.fire({
                        icon: 'warning',
                        title: impressaoGuia.messages,
                        showConfirmButton: true,
                        confirmButtonText: 'Ciente',
                    })


                }

            }
        })
    }

    function imprimirAtendimentoPrescricao(codAtendimentoPrescricao, codAtendimento) {

        document.getElementById("conteudoImpressaoPrescricao").innerHTML = '';

        var URLComprovante = '<?php echo base_url() . "/localizador/prescricao/" ?>' + codAtendimentoPrescricao;

        document.getElementById("qrcodePrescricao").innerHTML = "";
        qrcode = new QRCode("qrcodePrescricao", {
            text: URLComprovante,
            width: 130,
            height: 130,
            colorDark: "#000000",
            colorLight: "#ffffff",
            correctLevel: QRCode.CorrectLevel.H
        });
        $.ajax({
            url: '<?php echo base_url('atendimentosPrescricoes/imprimirPrescricao') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                codAtendimentoPrescricao: codAtendimentoPrescricao,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(impressaoPrescricao) {

                if (impressaoPrescricao.success === true) {



                    document.getElementById("conteudoImpressaoPrescricao").innerHTML = impressaoPrescricao.html;

                    document.getElementById("setEstilo").innerHTML = '<style>@media screen {' +
                        '#printSection {' +
                        'display: none;' +

                        '}' +
                        '}' +

                        '@media print {' +
                        '@page {' +
                        'size: A4 landscape;' +
                        'margin-top: 30px;' +
                        'margin-bottom: 40px;' +
                        'margin-left: 0mm !important;' +
                        'margin-right: 0mm !important;' +
                        '}' +

                        'body>*:not(#printSection) {' +
                        'display: none;' +
                        '}' +

                        '#printSection,' +
                        '#printSection * {' +
                        'visibility: visible;' +

                        '}' +
                        '#printSection {' +
                        'position: absolute;' +
                        'left: 5mm;' +
                        'top: 5mm;' +
                        'width: 297mm;' +
                        'height: 210mm;' +

                        '}' +
                        '}</style>';


                    printElement(document.getElementById("areaImpressaoPrescricao"));
                    window.print();

                } else {

                    Swal.fire({
                        icon: 'warning',
                        title: impressaoPrescricao.messages,
                        showConfirmButton: true,
                        confirmButtonText: 'Ciente',
                    })


                }

            }
        })
    }





    function imprimirParecer() {
        document.getElementById("parecerImpressao").innerHTML = '';
        document.getElementById("parecerImpressao").innerHTML = document.getElementById("parecerTextareaEdit").value;

        printElement(document.getElementById("areaImpressaoParecer"));


        window.print();
    }


    function imprimirDocumento() {

        printElement(document.getElementById("areaImpressaoDocumento"));


        window.print();
    }

    function addAtendimentosPrescricoes() {

        // reset the form

        $('#atendimentosPrescricoesAddModal').modal('show');
        document.getElementById("atendimentosPrescricoesAddModalHeader").innerHTML = nomeCargoTmp + ' ' + nomePacienteTmp + ' | ' + siglaTipoBeneficiarioTmp + ' | ' + idadePacienteTmp + ' | PRONT: ' + codProntuarioTmp + ' | PREC: ' + codPlanoTmp;






        $.ajax({
            url: '<?php echo base_url('atendimentosPrescricoes/listaDropDownTipoPrescricao') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(tipoPrescricao) {

                $("#codTipoPrescricaoAdd").select2({
                    data: tipoPrescricao,
                })

                $('#codTipoPrescricaoAdd').val(null);
                $('#codTipoPrescricaoAdd').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-container--open .select2-search__field').focus();
                });

            }
        })




        $(function() {

            var salvarBtn = function(context) {
                var uiSalvar = $.summernote.ui;

                // create button
                var buttonSalvar = uiSalvar.button({
                    contents: '<i class="fas fa-save"></i> SALVAR',
                    tooltip: 'salvar',
                    click: function() {
                        // Chama uma função
                        salvarPrescricao();
                    }
                });

                return buttonSalvar.render(); // return button as jquery object
            }

            var fecharBtn = function(context) {
                var uiFechar = $.summernote.ui;

                // create button
                var buttonFechar = uiFechar.button({
                    contents: '<i class="fas fa-window-close"></i> FECHAR',
                    tooltip: 'fechar',
                    click: function() {
                        // Chama uma função
                        $('#atendimentosPrescricoesAddModal').modal('hide');
                    }
                });

                return buttonFechar.render(); // return button as jquery object
            }

            var imprimirBtn = function(context) {
                var uiImprimir = $.summernote.ui;

                // create button
                var buttonImprimir = uiImprimir.button({
                    contents: '<i class="fas fa-print"></i> IMPRIMIR',
                    tooltip: 'imprimir',
                    click: function() {
                        // Chama uma função
                        window.print();
                    }
                });

                return buttonImprimir.render(); // return button as jquery object
            }


            //ADD text editor
            $('#prescricaoTextareaAdd').summernote({
                height: 150,
                maximumImageFileSize: 1024 * 1024, // 1Mb
                fontSizes: ['8', '9', '10', '11', '12', '14', '18', '20', '36', '72'],
                lineHeights: ['0.2', '0.3', '0.4', '0.5', '0.6', '0.8', '1.0', '1.2', '1.4', '1.5', '2.0', '3.0'],
                toolbar: [
                    ['mybutton1', ['salvar']],
                    ['font', ['color', 'strikethrough', 'superscript', 'subscript', 'bold', 'underline', 'clear']],
                    ['fontsize', ['fontsize']],
                    ['height', ['height']],
                    ['para', ['ul', 'ol', 'paragraph']],
                    ['redo'],
                    ['undo'],
                    ['mybutton2', ['fechar']],
                ],
                buttons: {
                    salvar: salvarBtn,
                    fechar: fecharBtn,
                },
                callbacks: {
                    onImageUploadError: function(msg) {
                        var Toast = Swal.mixin({
                            toast: true,
                            position: 'top-end',
                            showConfirmButton: false,
                            timer: 5000
                        });
                        Toast.fire({
                            icon: 'error',
                            title: 'Tamanho máximo de imagens é 1Mb'
                        })
                    }
                }
            })


            $('#prescricaoTextareaAdd').summernote('reset');

        })



    }

    function addAtendimentosPareceres() {

        // reset the form

        $('#atendimentosPareceresAddModal').modal('show');
        document.getElementById("atendimentosPareceresAddModalHeader").innerHTML = nomeCargoTmp + ' ' + nomePacienteTmp + ' | ' + siglaTipoBeneficiarioTmp + ' | ' + idadePacienteTmp + ' | PRONT: ' + codProntuarioTmp + ' | PREC: ' + codPlanoTmp;




        $.ajax({
            url: '<?php echo base_url('especialidades/minhasEspecialidadesnoParecer') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(statusMinhasEspecialidadesParecerAdd) {

                if (statusMinhasEspecialidadesParecerAdd.success === true) {

                    document.getElementById('especialidadeParecerAdd').innerHTML = statusMinhasEspecialidadesParecerAdd.selectEspecialidadeAtendimento;


                }
            }
        })




        $(function() {

            var salvarBtn = function(context) {
                var uiSalvar = $.summernote.ui;

                // create button
                var buttonSalvar = uiSalvar.button({
                    contents: '<i class="fas fa-save"></i> SALVAR',
                    tooltip: 'salvar',
                    click: function() {
                        // Chama uma função
                        salvarParecer();
                    }
                });

                return buttonSalvar.render(); // return button as jquery object
            }

            var modeloBtn = function(context) {
                var uiModelo = $.summernote.ui;

                // create button
                var buttonModelo = uiModelo.button({
                    contents: '<i class="fas fa-save"></i> MODELOS',
                    tooltip: 'salvar',
                    click: function() {
                        // Chama uma função
                        listaModelosParecer();
                    }
                });

                return buttonModelo.render(); // return button as jquery object
            }


            var fecharBtn = function(context) {
                var uiFechar = $.summernote.ui;

                // create button
                var buttonFechar = uiFechar.button({
                    contents: '<i class="fas fa-window-close"></i> FECHAR',
                    tooltip: 'fechar',
                    click: function() {
                        // Chama uma função
                        $('#atendimentosPareceresAddModal').modal('hide');
                    }
                });

                return buttonFechar.render(); // return button as jquery object
            }



            //ADD text editor
            $('#parecerTextareaAdd').summernote({
                height: 150,
                maximumImageFileSize: 1024 * 1024, // 1Mb
                fontSizes: ['8', '9', '10', '11', '12', '14', '18', '20', '36', '72'],
                lineHeights: ['0.2', '0.3', '0.4', '0.5', '0.6', '0.8', '1.0', '1.2', '1.4', '1.5', '2.0', '3.0'],
                toolbar: [
                    ['mybutton1', ['salvar']],
                    ['mybutton3', ['modelo']],
                    ['style', ['style']],
                    ['fontname', ['fontname']],
                    ['font', ['color', 'strikethrough', 'superscript', 'subscript', 'bold', 'underline', 'clear']],
                    ['fontsize', ['fontsize']],
                    ['height', ['height']],
                    ['para', ['ul', 'ol', 'paragraph']],
                    ['table', ['table']],
                    ['insert', ['link', 'hr']],
                    ['view', ['fullscreen', 'codeview', 'help']],
                    ['redo'],
                    ['undo'],
                    ['mybutton2', ['fechar']],
                ],
                buttons: {
                    salvar: salvarBtn,
                    fechar: fecharBtn,
                    modelo: modeloBtn
                },
                callbacks: {
                    onImageUploadError: function(msg) {
                        var Toast = Swal.mixin({
                            toast: true,
                            position: 'top-end',
                            showConfirmButton: false,
                            timer: 5000
                        });
                        Toast.fire({
                            icon: 'error',
                            title: 'Tamanho máximo de imagens é 1Mb'
                        })
                    }
                }
            })


            $('#parecerTextareaAdd').summernote('reset');

        })



    }

    function addAtendimentosReceita() {

        // reset the form

        $('#codTipoDocumentoAdd').val("");

        $('#atendimentosDocumentosAddModal').modal('show');
        document.getElementById("atendimentosDocumentosAddModalHeader").innerHTML = nomeCargoTmp + ' ' + nomePacienteTmp + ' | ' + siglaTipoBeneficiarioTmp + ' | ' + idadePacienteTmp + ' | PRONT: ' + codProntuarioTmp + ' | PREC: ' + codPlanoTmp;






        $("#codTipoDocumentoAdd").on("change", function() {


            if (document.getElementById("codTipoDocumentoAdd").value == 2) {



                //PREVISÃO DE ALTA
                $.ajax({
                    url: '<?php echo base_url('atendimentosDocumentos/comparecimento') ?>',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        codAtendimento: codAtendimentoTmp,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    success: function(comparecimento) {
                        $("#documentoTextareaAdd").summernote("code", comparecimento.html);
                    }
                })


            }

            if (document.getElementById("codTipoDocumentoAdd").value == 3) {



                //PREVISÃO DE ALTA
                $.ajax({
                    url: '<?php echo base_url('atendimentosDocumentos/atestadoMedico') ?>',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        codAtendimento: codAtendimentoTmp,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    success: function(comparecimento) {
                        $("#documentoTextareaAdd").summernote("code", comparecimento.html);
                    }
                })


            }

        })




        $(function() {

            var salvarBtn = function(context) {
                var uiSalvar = $.summernote.ui;

                // create button
                var buttonSalvar = uiSalvar.button({
                    contents: '<i class="fas fa-save"></i> SALVAR',
                    tooltip: 'salvar',
                    click: function() {
                        // Chama uma função
                        salvarDocumento();
                    }
                });

                return buttonSalvar.render(); // return button as jquery object
            }

            var modeloBtn = function(context) {
                var uiModelo = $.summernote.ui;

                // create button
                var buttonModelo = uiModelo.button({
                    contents: '<i class="fas fa-save"></i> MODELOS',
                    tooltip: 'salvar',
                    click: function() {
                        // Chama uma função
                        listaModelosReceita();
                    }
                });

                return buttonModelo.render(); // return button as jquery object
            }


            var fecharBtn = function(context) {
                var uiFechar = $.summernote.ui;

                // create button
                var buttonFechar = uiFechar.button({
                    contents: '<i class="fas fa-window-close"></i> FECHAR',
                    tooltip: 'fechar',
                    click: function() {
                        // Chama uma função
                        $('#atendimentosDocumentosAddModal').modal('hide');
                    }
                });

                return buttonFechar.render(); // return button as jquery object
            }



            //ADD text editor
            $('#documentoTextareaAdd').summernote({
                height: 150,
                maximumImageFileSize: 1024 * 1024, // 1Mb
                fontSizes: ['8', '9', '10', '11', '12', '14', '18', '20', '36', '72'],
                lineHeights: ['0.2', '0.3', '0.4', '0.5', '0.6', '0.8', '1.0', '1.2', '1.4', '1.5', '2.0', '3.0'],
                toolbar: [
                    ['mybutton1', ['salvar']],
                    ['mybutton3', ['modelo']],
                    ['style', ['style']],
                    ['fontname', ['fontname']],
                    ['font', ['color', 'strikethrough', 'superscript', 'subscript', 'bold', 'underline', 'clear']],
                    ['fontsize', ['fontsize']],
                    ['height', ['height']],
                    ['para', ['ul', 'ol', 'paragraph']],
                    ['table', ['table']],
                    ['insert', ['link', 'hr']],
                    ['view', ['fullscreen', 'codeview', 'help']],
                    ['redo'],
                    ['undo'],
                    ['mybutton2', ['fechar']],
                ],
                buttons: {
                    salvar: salvarBtn,
                    fechar: fecharBtn,
                    modelo: modeloBtn
                },
                callbacks: {
                    onImageUploadError: function(msg) {
                        var Toast = Swal.mixin({
                            toast: true,
                            position: 'top-end',
                            showConfirmButton: false,
                            timer: 5000
                        });
                        Toast.fire({
                            icon: 'error',
                            title: 'Tamanho máximo de imagens é 1Mb'
                        })
                    }
                }
            })


            $('#documentoTextareaAdd').summernote('reset');

        })



    }


    function addEncaixePacienteAgora() {


        $.ajax({
            url: '<?php echo base_url('agendamentos/encaixePaciente') ?>',
            type: 'post',
            data: {
                codEspecialidade: $("#codEspecialidadeEncaixeAdd").val(),
                codEspecialista: $("#codEspecialistaEncaixeAdd").val(),
                dataInicio: $("#dataInicioEncaixeAdd").val(),
                horaInicio: $("#horaEncaixeAdd").val(),
                codPaciente: $("#codPacienteEncaixeAdd").val(),
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            dataType: 'json',
            success: function(responseEncaixe) {

                if (responseEncaixe.success === true) {

                    swal.close();


                    $('#encaixarPacienteAgoraModal').modal('hide');
                    if ($('#agendadosAmbulatorioModal').is(':visible') == true) {
                        $('#data_tableagendamentos').DataTable().ajax.reload(null, false).draw(false);

                    }

                    Swal.fire({
                        icon: 'success',
                        html: responseEncaixe.messages,
                        showConfirmButton: false,
                        timer: 4000
                    })
                }
            }

        }).always(
            Swal.fire({
                title: 'Estamos buscando os dados do paciente',
                html: 'Aguarde....',
                timerProgressBar: true,
                didOpen: () => {
                    Swal.showLoading()


                }

            }))


    }

    function addEncaixePaciente() {



        $.ajax({
            url: '<?php echo base_url('pacientes/dadosEncaixe') ?>',
            type: 'post',
            data: {
                paciente: document.getElementById('pacienteParaEncaixe').value,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            dataType: 'json',
            success: function(dadosEncaixe) {
                if (dadosEncaixe.success === true) {


                    $("#encaixarPacienteAgoraAddForm")[0].reset();
                    $('#encaixarPacienteAgoraModal').modal('show');

                    document.getElementById('confirmacaoPacienteParaEncaixe').innerHTML = 'Você tem certeza que deseja encaixar "' + dadosEncaixe.nomeCompleto + '", CPF:' + dadosEncaixe.cpf + ' ?';
                    document.getElementById('codEspecialidadeEncaixeAdd').value = $("#codEspecialidadeAgendadosAdd").val();
                    document.getElementById('codEspecialistaEncaixeAdd').value = $("#codEspecialistaAgendadosAdd").val();
                    document.getElementById('codPacienteEncaixeAdd').value = dadosEncaixe.codPaciente;


                    if ($("#dataInicioAgendadosAdd").val() !== '') {
                        document.getElementById('dataInicioEncaixeAdd').value = $("#dataInicioAgendadosAdd").val();
                    } else {

                        document.getElementById('dataInicioEncaixeAdd').value = '<?php echo date('Y-m-d') ?>';
                    }


                    var date = new Date();
                    document.getElementById('horaEncaixeAdd').value = '<?php echo date('H:i') ?>';


                    $('#encaixarPacienteModal').modal('hide');


                }
                if (dadosEncaixe.success === false) {
                    swal.close();
                    Swal.fire({
                        icon: 'warning',
                        html: dadosEncaixe.messages,
                        showConfirmButton: false,
                        timer: 4000
                    })
                    throw new Error(dadosEncaixe.messages);

                }

            }

        })
    }

    function encaixarPaciente() {
        // reset the form

        statusMinhasEspecialidades = '<?php echo $statusMinhasEspecialidades ?>';

        if ($("#codEspecialidadeAgendadosAdd").val() == '') {

            Swal.fire({
                position: 'bottom-end',
                icon: 'warning',
                title: 'É necessessário selecionar a especialidade',
                showConfirmButton: false,
                timer: 4000
            });
            //exit();
            throw new Error('É necessessário selecionar a especialidade');

        }


        if ($("#codEspecialistaAgendadosAdd").val() == '') {

            Swal.fire({
                position: 'bottom-end',
                icon: 'warning',
                title: 'É necessessário selecionar o Especialista',
                showConfirmButton: false,
                timer: 4000
            });
            //exit();
            throw new Error('É necessessário selecionar o Especialista');

        }


        if (statusMinhasEspecialidades == 0) {

            Swal.fire({
                position: 'bottom-end',
                icon: 'info',
                title: 'Apenas profissionais de saúde podem realizar o encaixe',
                html: 'Informe o caso ao especialista. Caso ele concorde em atender, o mesmo poderá autorizar e realizar o encaixe!',
                showConfirmButton: true,
                confirmButtonText: 'Ok',
            });
            //exit();
            throw new Error('Apenas profissionais de saúde tem acesso a este recurso');


        }

        $("#encaixarPacienteAddForm")[0].reset();
        $('#encaixarPacienteModal').modal('show');

    }




    function showListaPacientes() {
        // reset the form
        $('#imprimirListaModal').modal('show');

        var labelEspecialidade = document.getElementById('codEspecialidadeAdd')[document.getElementById('codEspecialidadeAdd').selectedIndex].innerHTML;

        datInicio = document.getElementById('dataInicioAgendadosAdd').value;
        datEncerramento = document.getElementById('dataEncerramentoAgendadosAdd').value;
        periodo = "";


        if (datInicio == '') {
            periodo = "";
        } else {

            if (datEncerramento == '') {
                periodo = " de " + dataAtualFormatada(datInicio);
            } else {
                if (datEncerramento == datInicio) {
                    periodo = " de " + dataAtualFormatada(datInicio);
                } else {
                    inicio = dataAtualFormatada(datInicio);
                    fim = dataAtualFormatada(datEncerramento);
                    periodo = " de " + inicio + " a " + fim;
                }
            }


        }





        document.getElementById("setEstilo").innerHTML = '<style>@media screen {' +
            '#printSection {' +
            'display: none;' +

            '}' +
            '}' +

            '@media print {' +
            '@page {' +
            'size: A4 landscape;' +
            'margin-top: 15px;' +
            'margin-bottom: 15px;' +
            'margin-left: 15px;' +
            'margin-right: 15px;' +
            '}' +

            'border: initial;' +
            'border - radius: initial;' +
            'width: initial;' +
            'min - height: initial;' +
            'box - shadow: initial;' +
            'background: initial;' +
            'page -' +
            'break -after: always;' +
            '}' +
            '}' +

            'body>*:not(#printSection) {' +
            'display: none;' +
            '}' +

            '#printSection,' +
            '#printSection * {' +
            'visibility: visible;' +

            '}' +
            '#printSection {' +
            'position: absolute;' +
            'left: 0;' +
            'top: 0;' +
            'width: 297mm;' +
            'height: 210mm;' +

            '}' +
            '}</style>';



        var titulo = "Lista de Pacientes " + periodo;


        $('#data_listaPacientesImprimir').DataTable({
            "bDestroy": true,
            "paging": true,
            "deferRender": true,
            "lengthChange": false,
            "searching": true,
            "ordering": false,
            "info": true,
            "autoWidth": false,
            "responsive": true,
            "ajax": {
                "url": '<?php echo base_url('agendamentos/marcadosListaImprimir') ?>',
                "type": "POST",
                "dataType": "json",
                async: "true",
                data: {
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },
            },
            dom: 'Bfrtip',
            buttons: [{
                    extend: 'print',
                    text: "Imprimir",
                    orientation: 'landscape',
                    title: titulo,
                    messageTop: labelEspecialidade,
                    customize: function(win) {
                        $(win.document.body)
                            .css('font-size', '8pt')
                            .prepend(
                                '<div>' +
                                '</div>' +
                                '<img alt="" style="width:60px" src="<?php echo base_url() . "/imagens/organizacoes/" . session()->logo ?>" style="position:absolute; top:0; left:0;" />'
                            );

                        $(win.document.body).find('table')
                            .addClass('compact')
                            .css('font-size', 'inherit');
                    },
                    exportOptions: {

                        columns: [0, 1, 2, 3, 4, 5, 7, 8],
                    },

                }, {
                    extend: 'pdfHtml5',
                    orientation: 'landscape',
                    pageSize: 'LEGAL',
                    title: titulo,
                    messageTop: labelEspecialidade,
                    exportOptions: {
                        columns: [0, 1, 2, 3, 4, 5, 7, 8]
                    }
                },
                {
                    extend: 'csvHtml5',
                    orientation: 'landscape',
                    pageSize: 'LEGAL',
                    exportOptions: {
                        columns: [0, 1, 2, 3, 4, 5, 7, 8]
                    }
                },
                {
                    extend: 'excelHtml5',
                    exportOptions: {
                        columns: [0, 1, 2, 3, 4, 5, 7, 8]
                    }
                },

            ],
        })

    }



    function showListaPacientesAgendamentosExames() {
        // reset the form
        $('#imprimirListaAgendamentosExamesModal').modal('show');

        var labelExame = document.getElementById('codAgendamentosExamesAgendadosAdd')[document.getElementById('codAgendamentosExamesAgendadosAdd').selectedIndex].innerHTML;

        datInicio = document.getElementById('dataInicioExameAgendadosAdd').value;
        datEncerramento = document.getElementById('dataEncerramentoExameAgendadosAdd').value;
        periodo = "";

        if (datInicio == '') {
            periodo = "";
        } else {

            if (datEncerramento == '') {
                periodo = " de " + dataAtualFormatada(datInicio);
            } else {
                if (datEncerramento == datInicio) {
                    periodo = " de " + dataAtualFormatada(datInicio);
                } else {
                    inicio = dataAtualFormatada(datInicio);
                    fim = dataAtualFormatada(datEncerramento);
                    periodo = " de " + inicio + " a " + fim;
                }
            }


        }





        document.getElementById("setEstilo").innerHTML = '<style>@media screen {' +
            '#printSection {' +
            'display: none;' +

            '}' +
            '}' +

            '@media print {' +
            '@page {' +
            'size: A4 landscape;' +
            'margin-top: 15px;' +
            'margin-bottom: 15px;' +
            'margin-left: 15px;' +
            'margin-right: 15px;' +
            '}' +

            'border: initial;' +
            'border - radius: initial;' +
            'width: initial;' +
            'min - height: initial;' +
            'box - shadow: initial;' +
            'background: initial;' +
            'page -' +
            'break -after: always;' +
            '}' +
            '}' +

            'body>*:not(#printSection) {' +
            'display: none;' +
            '}' +

            '#printSection,' +
            '#printSection * {' +
            'visibility: visible;' +

            '}' +
            '#printSection {' +
            'position: absolute;' +
            'left: 0;' +
            'top: 0;' +
            'width: 297mm;' +
            'height: 210mm;' +

            '}' +
            '}</style>';


        var titulo = "Lista de Pacientes " + periodo;


        $('#data_listaPacientesAgendamentosExamesImprimir').DataTable({
            "bDestroy": true,
            "paging": true,
            "deferRender": true,
            "lengthChange": false,
            "searching": true,
            "ordering": false,
            "info": true,
            "autoWidth": false,
            "responsive": true,
            "ajax": {
                "url": '<?php echo base_url('agendamentosExames/marcadosListaImprimir') ?>',
                "type": "POST",
                "dataType": "json",
                async: "true",
                data: {
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },
            },
            dom: 'Bfrtip',
            buttons: [{


                    extend: 'print',
                    text: "Imprimir",
                    title: titulo,
                    messageTop: labelExame,
                    customize: function(win) {
                        $(win.document.body)
                            .css('font-size', '8pt')
                            .prepend(
                                '<div>' +
                                '</div>' +
                                '<img alt="" style="width:60px" src="<?php echo base_url() . "/imagens/organizacoes/" . session()->logo ?>" style="position:absolute; top:0; left:0;" />'
                            );

                        $(win.document.body).find('table')
                            .addClass('compact')
                            .css('font-size', 'inherit');
                    },
                    exportOptions: {
                        columns: [0, 1, 2, 3, 4, 5, 6, 7, 8]
                    },

                },
                {
                    extend: 'pdfHtml5',
                    orientation: 'landscape',
                    pageSize: 'LEGAL',
                    title: titulo,
                    messageTop: labelExame,
                    exportOptions: {
                        columns: [0, 1, 2, 3, 4, 5, 6, 7, 8]
                    }
                },
                {
                    extend: 'csvHtml5',
                    exportOptions: {
                        columns: [0, 1, 2, 3, 4, 5, 6, 7, 8]
                    }
                },
                {
                    extend: 'excelHtml5',
                    exportOptions: {
                        columns: [0, 1, 2, 3, 4, 5, 6, 7, 8]
                    }
                },

            ],
        })

    }

    function dataAtualFormatada(datInicio) {
        var data = new Date(datInicio),
            somaUmDia = data.setDate(data.getDate() + 1),
            dia = data.getDate().toString(),
            diaF = (dia.length == 1) ? '0' + dia : dia,
            mes = (data.getMonth() + 1).toString(), //+1 pois no getMonth Janeiro começa com zero.
            mesF = (mes.length == 1) ? '0' + mes : mes,
            anoF = data.getFullYear();
        return diaF + "/" + mesF + "/" + anoF;
    }

    function filtrarAgendamentosExames() {



        var form = $('#filtroExameForm');
        $.ajax({
            url: '<?php echo base_url('agendamentosExames/filtrarVagas') ?>',
            type: 'post',
            data: form.serialize(), // /converting the form data into array and sending it to server
            dataType: 'json',
            success: function(filtrar) {

                if (filtrar.success === true) {

                    //$('#data_tableagendamentos').DataTable().ajax.reload(null, false).draw(false);


                    $.ajax({
                        url: '<?php echo base_url('agendamentosExames/agendamentosExamesPorExameLista') ?>',
                        type: 'post',
                        dataType: 'json',
                        data: {
                            csrf_sandra: $("#csrf_sandraPrincipal").val(),
                        },
                        success: function(responseAgendamentos) {
                            swal.close();

                            if (responseAgendamentos.success === true) {

                                document.getElementById('slotsLivresAgendamentosExames').innerHTML = responseAgendamentos.slotsLivres;



                            }
                        }
                    }).always(
                        Swal.fire({
                            title: 'Estamos buscando possíveis vagas no sistema',
                            html: 'Aguarde....',
                            timerProgressBar: true,
                            didOpen: () => {
                                Swal.showLoading()


                            }

                        }))

                }
            }
        })
    }

    function filtrar() {




        if ($("#filtroForm #codEspecialidadeAdd").val() == "") {

            Swal.fire({
                icon: 'warning',
                title: 'Informe a especialidade para pesquisar por vagas',
                showConfirmButton: true,
                confirmButtonText: 'Ok',
            })
            throw new Error('Informe a especialidade para pesquisar por vagas');
        }


        var form = $('#filtroForm');
        $.ajax({
            url: '<?php echo base_url('agendamentos/filtrarVagas') ?>',
            type: 'post',
            data: form.serialize(), // /converting the form data into array and sending it to server
            dataType: 'json',
            success: function(filtrar) {

                if (filtrar.success === true) {

                    //$('#data_tableagendamentos').DataTable().ajax.reload(null, false).draw(false);


                    $.ajax({
                        url: '<?php echo base_url('agendamentos/agendamentosPorEspecialidade') ?>',
                        type: 'post',
                        dataType: 'json',
                        data: {
                            csrf_sandra: $("#csrf_sandraPrincipal").val(),
                        },
                        success: function(responseAgendamentos) {
                            swal.close();

                            if (responseAgendamentos.success === true) {

                                document.getElementById('slotsLivres').innerHTML = responseAgendamentos.slotsLivres;



                            }
                        }
                    }).always(
                        Swal.fire({
                            title: 'Estamos buscando possíveis vagas no sistema',
                            html: 'Aguarde....',
                            timerProgressBar: true,
                            didOpen: () => {
                                Swal.showLoading()


                            }

                        }))

                }
            }
        })
    }

    function carregaArquivo() {
        $('#tiraFotoModal').modal('hide');
        $('#carregaFotoModal').modal('show');

        document.getElementById("inp").addEventListener("change", readFile);

    }



    function readFile() {

        if (this.files && this.files[0]) {


            var FR = new FileReader();

            FR.addEventListener("load", function(e) {

                fotoPerfilTmp = e.target.result;
                // display fotoPerfilCadastro in page
                document.getElementById('fotoPerfilCadastroAdd').innerHTML =
                    '<img alt="" width="160px" height="125px" src="' + e.target.result + '"/>';

                document.getElementById('fotoPerfilCadastroEdit').innerHTML =
                    '<img alt="" width="160px" height="125px" src="' + e.target.result + '"/>';

                $('#carregaFotoModal').modal('hide');

            });

            FR.readAsDataURL(this.files[0]);
        }

    }


    function TiraFotoWebcam() {

        $('#tiraFotoModal').modal('hide');

        // take snapshot and get image data
        Webcam.snap(function(data_uri) {

            fotoPerfilTmp = data_uri;
            // display fotoPerfilCadastro in page
            document.getElementById('fotoPerfilCadastroAdd').innerHTML =
                '<img alt="" width="160px" height="auto" src="' + data_uri + '"/>';
            document.getElementById('fotoPerfilCadastroEdit').innerHTML =
                '<img alt="" width="160px" height="auto" src="' + data_uri + '"/>';



            Webcam.reset(); //desligar webcan

        });
    }
</script>


<script>

    function localizarPaciente() {

        var paciente = document.getElementById("pacienteFiltro").value;

        if (paciente !== null && paciente !== '' && paciente !== ' ') {

            $('#data_tablepaciente').DataTable({
                "bDestroy": true,
                "paging": true,
                "deferRender": true,
                "processing": true,
                "language": {
                    "processing": '<?php echo '<img style="width:150px; height:150px;"  src="' .   base_url('/imagens/loading2.gif') . '" >' ?>',
                },
                "lengthChange": false,
                "searching": true,
                "ordering": false,
                "info": true,
                "autoWidth": false,
                "responsive": true,
                "ajax": {
                    "url": '<?php echo base_url('Pacientes/pegaPaciente') ?>',
                    "type": "post",
                    "dataType": "json",
                    async: "true",
                    data: {
                        paciente: paciente,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                }
            });
        }

    }



    function relatoriosUrgenciaEmergencia() {

        $('#relatoriosUrgenciaEmergenciaModal').modal('show');

    }


    function filtrarMedicamentosPrescritosUrgenciaEmergencia() {


        datInicio = document.getElementById('dataInicioMedicamentosPrescritosUrgenciaEmergenciaAdd').value;
        datEncerramento = document.getElementById('dataEncerramentoMedicamentosPrescritosUrgenciaEmergenciaAdd').value;


        if (datInicio == '') {
            var periodo = "";
        } else {

            if (datEncerramento == '') {
                periodo = " de " + dataAtualFormatada(datInicio);
            } else {
                if (datEncerramento == datInicio) {
                    periodo = " de " + dataAtualFormatada(datInicio);
                } else {
                    inicio = dataAtualFormatada(datInicio);
                    fim = dataAtualFormatada(datEncerramento);
                    periodo = " de " + inicio + " a " + fim;
                }
            }


        }


        var form = $('#filtroMedicamentosPrescritosUrgenciaEmergenciaForm');
        $.ajax({
            url: '<?php echo base_url('atendimentos/filtrarMedicamentosPrescritosUrgenciaEmergencia') ?>',
            type: 'post',
            data: form.serialize(), // /converting the form data into array and sending it to server
            dataType: 'json',
            success: function(filtrar) {

                if (filtrar.success === true) {
                    Swal.close();


                    var labelEspecialidade = 'achar uma utilidade';



                    document.getElementById("setEstilo").innerHTML = '<style>@media screen {' +
                        '#printSection {' +
                        'display: none;' +

                        '}' +
                        '}' +

                        '@media print {' +
                        '@page {' +
                        'size: A4;' +
                        'margin-top: 15px;' +
                        'margin-bottom: 15px;' +
                        'margin-left: 15px;' +
                        'margin-right: 15px;' +
                        '}' +

                        'border: initial;' +
                        'border - radius: initial;' +
                        'width: initial;' +
                        'min - height: initial;' +
                        'box - shadow: initial;' +
                        'background: initial;' +
                        'page -' +
                        'break -after: always;' +
                        '}' +
                        '}' +

                        'body>*:not(#printSection) {' +
                        'display: none;' +
                        '}' +

                        '#printSection,' +
                        '#printSection * {' +
                        'visibility: visible;' +

                        '}' +
                        '#printSection {' +
                        'position: absolute;' +
                        'left: 0;' +
                        'top: 0;' +
                        'width: 210mm ;' +
                        'height: 297mm;' +

                        '}' +
                        '}</style>';


                    titulo = "Medicamentos Prescritos no PAMO " + periodo;



                    $('#data_tableMedicamentosPrescritosUrgenciaEmergencia').DataTable({
                        "bDestroy": true,
                        "paging": true,
                        "deferRender": true,
                        "lengthChange": false,
                        "searching": true,
                        "ordering": false,
                        "info": true,
                        "autoWidth": false,
                        "responsive": true,
                        "ajax": {
                            "url": '<?php echo base_url('atendimentos/medicamentosPrescritosUrgenciaEmergencia') ?>',
                            "type": "POST",
                            "dataType": "json",
                            async: "true",
                            data: {
                                csrf_sandra: $("#csrf_sandraPrincipal").val(),
                            },
                        },
                        dom: 'Bfrtip',
                        buttons: [{
                                extend: 'print',
                                text: "Imprimir",
                                title: titulo,
                                //messageTop: labelEspecialidade,
                                customize: function(win) {
                                    $(win.document.body)
                                        .css('font-size', '8pt')
                                        .prepend(
                                            '<div>' +
                                            '</div>' +
                                            '<img alt="" style="width:60px" src="<?php echo base_url() . "/imagens/organizacoes/" . session()->logo ?>" style="position:absolute; top:0; left:0;" />'
                                        );

                                    $(win.document.body).find('table')
                                        .addClass('compact')
                                        .css('font-size', 'inherit');
                                },
                                exportOptions: {

                                    columns: [0, 1, 2],
                                },

                            }, {
                                extend: 'pdfHtml5',
                                title: titulo,
                                //messageTop: labelEspecialidade,
                                exportOptions: {
                                    columns: [0, 1, 2]
                                }
                            },
                            {
                                extend: 'csvHtml5',
                                exportOptions: {
                                    columns: [0, 1, 2]
                                }
                            },
                            {
                                extend: 'excelHtml5',
                                exportOptions: {
                                    columns: [0, 1, 2]
                                }
                            },

                        ],
                    })



                }
            }
        }).always(
            Swal.fire({
                title: 'Estamos buscando os medicamentos',
                html: 'Aguarde....',
                timerProgressBar: true,
                didOpen: () => {
                    Swal.showLoading()


                }

            }))


    }


    function filtrarPacientesAtendidosUrgenciaEmergencia() {


        datInicio = document.getElementById('dataInicioAtendimentosUrgenciaEmergenciaAdd').value;
        datEncerramento = document.getElementById('dataEncerramentoAtendimentosUrgenciaEmergenciaAdd').value;


        if (datInicio == '') {
            var periodo = "";
        } else {

            if (datEncerramento == '') {
                periodo = " de " + dataAtualFormatada(datInicio);
            } else {
                if (datEncerramento == datInicio) {
                    periodo = " de " + dataAtualFormatada(datInicio);
                } else {
                    inicio = dataAtualFormatada(datInicio);
                    fim = dataAtualFormatada(datEncerramento);
                    periodo = " de " + inicio + " a " + fim;
                }
            }


        }


        var form = $('#filtroAtendimentosUrgenciaEmergenciaForm');
        $.ajax({
            url: '<?php echo base_url('atendimentos/filtrarAtendidosUrgenciaEmergencia') ?>',
            type: 'post',
            data: form.serialize(), // /converting the form data into array and sending it to server
            dataType: 'json',
            success: function(filtrar) {

                if (filtrar.success === true) {
                    Swal.close();


                    var labelEspecialidade = 'achar uma utilidade';



                    document.getElementById("setEstilo").innerHTML = '<style>@media screen {' +
                        '#printSection {' +
                        'display: none;' +

                        '}' +
                        '}' +

                        '@media print {' +
                        '@page {' +
                        'size: A4 landscape;' +
                        'margin-top: 15px;' +
                        'margin-bottom: 15px;' +
                        'margin-left: 15px;' +
                        'margin-right: 15px;' +
                        '}' +

                        'border: initial;' +
                        'border - radius: initial;' +
                        'width: initial;' +
                        'min - height: initial;' +
                        'box - shadow: initial;' +
                        'background: initial;' +
                        'page -' +
                        'break -after: always;' +
                        '}' +
                        '}' +

                        'body>*:not(#printSection) {' +
                        'display: none;' +
                        '}' +

                        '#printSection,' +
                        '#printSection * {' +
                        'visibility: visible;' +

                        '}' +
                        '#printSection {' +
                        'position: absolute;' +
                        'left: 0;' +
                        'top: 0;' +
                        'width: 297mm;' +
                        'height: 210mm;' +

                        '}' +
                        '}</style>';


                    titulo = "Pacientes atendidos no PAMO " + periodo;



                    $('#data_tableAtendidosUrgenciaEmergencia').DataTable({
                        "bDestroy": true,
                        "paging": true,
                        "deferRender": true,
                        "lengthChange": false,
                        "searching": true,
                        "ordering": false,
                        "info": true,
                        "autoWidth": false,
                        "responsive": true,
                        "ajax": {
                            "url": '<?php echo base_url('atendimentos/pacientesAtendidosUrgenciaEmergencia') ?>',
                            "type": "POST",
                            "dataType": "json",
                            async: "true",
                            data: {
                                csrf_sandra: $("#csrf_sandraPrincipal").val(),
                            },
                        },
                        dom: 'Bfrtip',
                        buttons: [{
                                extend: 'print',
                                text: "Imprimir",
                                pageSize: 'LEGAL',
                                orientation: 'landscape',
                                title: titulo,
                                //messageTop: labelEspecialidade,
                                customize: function(win) {
                                    $(win.document.body)
                                        .css('font-size', '8pt')
                                        .prepend(
                                            '<div>' +
                                            '</div>' +
                                            '<img alt="" style="width:60px" src="<?php echo base_url() . "/imagens/organizacoes/" . session()->logo ?>" style="position:absolute; top:0; left:0;" />'
                                        );

                                    $(win.document.body).find('table')
                                        .addClass('compact')
                                        .css('font-size', 'inherit');
                                },
                                exportOptions: {

                                    columns: [0, 1, 2, 3, 4, 5, 7, 8],
                                },

                            }, {
                                extend: 'pdfHtml5',
                                orientation: 'landscape',
                                pageSize: 'LEGAL',
                                title: titulo,
                                //messageTop: labelEspecialidade,
                                exportOptions: {
                                    columns: [0, 1, 2, 3, 4, 5, 7, 8]
                                }
                            },
                            {
                                extend: 'csvHtml5',
                                orientation: 'landscape',
                                pageSize: 'LEGAL',
                                exportOptions: {
                                    columns: [0, 1, 2, 3, 4, 5, 7, 8]
                                }
                            },
                            {
                                extend: 'excelHtml5',
                                exportOptions: {
                                    columns: [0, 1, 2, 3, 4, 5, 7, 8]
                                }
                            },

                        ],
                    })



                }
            }
        }).always(
            Swal.fire({
                title: 'Estamos buscando pacienets atendidos',
                html: 'Aguarde....',
                timerProgressBar: true,
                didOpen: () => {
                    Swal.showLoading()


                }

            }))


    }

    function pacientesAtendidosUrgenciaEmergencia() {

        $('#pacientesAtendidosUrgenciaEmergenciaModal').modal('show');


    }

    function medicamentosMaisPrescritosPAMO() {

        $('#medicamentosMaisPrescritosPAMO').modal('show');


    }

    function listarTodosPacientes() {

        $('#todosPacientesModal').modal('show');


        $('#data_outrosContatosAdd').DataTable({
            "bDestroy": true,
            "paging": false,
            "lengthChange": false,
            "searching": false,
            "ordering": false,
            "info": false,
            "autoWidth": false,
            "responsive": true,
            "ajax": {
                "url": '<?php echo base_url($controller . '/getOutrosContatosTmp') ?>',
                "type": "POST",
                "dataType": "json",
                async: "false",
                data: {
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },
            }
        });

    }


    function escolhaPaciente(codAgendamento) {
        // reset the form
        $("#escolhaPacienteForm")[0].reset();
        $(".form-control").removeClass('is-invalid').removeClass('is-valid');
        $('#showPacientesModal').modal('show');

        $("#escolhaPacienteForm #codAgendamentoMarcacao").val(codAgendamento);
        $("#escolhaPacienteForm #codPacienteMarcacao").val(codPacienteTmp);

        //UPDATE PARA RESERVAR POR 1 MINUTO O SLOT E EVITAR CONFLITOS
        $.ajax({
            url: '<?php echo base_url('agendamentos/reservaUmMinuto') ?>',
            type: 'post',
            data: {
                codAgendamento: codAgendamento,
                nomePaciente: nomePacienteTmp,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            dataType: 'json',
            success: function(reservaUmMinuto) {

                document.getElementById('dadosConfirmacao').innerHTML = reservaUmMinuto.dadosConfirmacao;





            }
        })


    }



    function escolhaPacienteExame(codExame) {
        // reset the form
        $("#escolhaPacienteExameForm")[0].reset();
        $(".form-control").removeClass('is-invalid').removeClass('is-valid');
        $('#showPacientesExameModal').modal('show');

        $("#escolhaPacienteExameForm #codExameMarcacao").val(codExame);
        $("#escolhaPacienteExameForm #codPacienteMarcacaoExame").val(codPacienteTmp);

        //UPDATE PARA RESERVAR POR 1 MINUTO O SLOT E EVITAR CONFLITOS
        $.ajax({
            url: '<?php echo base_url('agendamentosExames/reservaUmMinuto') ?>',
            type: 'post',
            data: {
                codExame: codExame,
                nomePaciente: nomePacienteTmp,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            dataType: 'json',
            success: function(reservaUmMinuto) {

                document.getElementById('dadosConfirmacaoExame').innerHTML = reservaUmMinuto.dadosConfirmacao;





            }
        })


    }




    function cartao(codPaciente) {
        $('#cartaoModal').modal('show');




        document.getElementById("botaoImprimirCartao").onclick = function() {
            printElement(document.getElementById("areaImpressaoCartao"));

            window.print();
        }




        $.ajax({
            url: '<?php echo base_url('pacientes/emissaoCartao') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                codPaciente: codPaciente,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(cartao) {
                document.getElementById("nomeCompletoCartao").innerHTML = cartao.nomeCompleto;
                document.getElementById("fotoPerfilCartao").src = '<?php echo base_url() . "/arquivos/imagens/pacientes/" ?>' + cartao.fotoPerfil;
                document.getElementById("cpfCartao").innerHTML = cartao.cpf;
                document.getElementById("tipoBeneficiarioCartao").innerHTML = cartao.nomeTipoBeneficiario;
                document.getElementById("postoGraduacaoCartao").innerHTML = cartao.descricaoCargo;
                document.getElementById("codProntuarioCartao").innerHTML = cartao.codProntuario;
                document.getElementById("codPlanoCartao").innerHTML = cartao.codPlano;
                document.getElementById("validadeCartao").innerHTML = cartao.validadeProntuario;
                document.getElementById("responsavelEmissaoCartao").innerHTML = cartao.responsavel;
                document.getElementById("dataEmissaoCartao").innerHTML = cartao.dataEmissao;
                var URLPacienteLogin = '<?php echo base_url() . "/verificalogin/?codPaciente=" ?>' + cartao.codPaciente + '&chechsum=' + cartao.valorChecksum;

                document.getElementById("qrcodeCartao").innerHTML = "";

                qrcode = new QRCode("qrcodeCartao", {
                    text: URLPacienteLogin,
                    width: 160,
                    height: 160,
                    colorDark: "#000000",
                    colorLight: "#ffffff",
                    correctLevel: QRCode.CorrectLevel.H
                });



                document.getElementById("setEstilo").innerHTML = '<style>@media screen {' +
                    '#printSection {' +
                    'display: none;' +

                    '}' +
                    '}' +

                    '@media print {' +
                    'body>*:not(#printSection) {' +
                    'display: none;' +
                    '}' +

                    '#printSection,' +
                    '#printSection * {' +
                    'visibility: visible;' +

                    '}' +
                    '#printSection {' +
                    'position: absolute;' +
                    'left: 0;' +
                    'top: 0;' +
                    'width: 210mm;' +
                    'height: 297mm;' +

                    '}' +
                    '}</style>';


            }

        })


    }

    function modificarContato(codContato) {
        $("#alteracaoContatoForm")[0].reset();
        $(".form-control").removeClass('is-invalid').removeClass('is-valid');
        $('#alteracaoOutrosContatosModal').modal('show');



        $.ajax({
            url: '<?php echo base_url('pacientes/getContato') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                codContato: codContato,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(modificaContato) {




                document.getElementById("codOutroContatoAlteracao").value = modificaContato.codOutroContato;
                document.getElementById("codTipoContatoAlteracao").value = modificaContato.codTipoContato;
                document.getElementById("codParentescoAlteracao").value = modificaContato.codParentesco;
                document.getElementById("nomeContatoAlteracao").value = modificaContato.nomeContato;
                document.getElementById("numeroContatoAlteracao").value = modificaContato.numeroContato;
                document.getElementById("observacoesAlteracao").value = modificaContato.observacoes;



                $.ajax({
                    url: '<?php echo base_url('pacientes/listaDropDownParentesco') ?>',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    success: function(parentescoEdit) {

                        $("#codParentescoEdit").select2({
                            data: parentescoEdit,
                        })

                        $('#codParentescoEdit').val(null);
                        $('#codParentescoEdit').trigger('change');
                        $(document).on('select2:open', () => {
                            document.querySelector('.select2-search__field').focus();
                        });

                    }
                })







            }
        })




    }





    function modalOutrosContatosEdit() {
        $("#editIncluiContatoForm")[0].reset();
        $(".form-control").removeClass('is-invalid').removeClass('is-valid');
        $('#editOutrosContatosModal').modal('show');




        $.ajax({
            url: '<?php echo base_url('pacientes/listaDropDownTiposContatos') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(tipoContatoEdit) {

                $("#codTipoContatoEdit").select2({
                    data: tipoContatoEdit,
                })

                $('#codTipoContatoEdit').val(null);
                $('#codTipoContatoEdit').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });

            }
        })

        $.ajax({
            url: '<?php echo base_url('pacientes/listaDropDownParentesco') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(parentescoEdit) {

                $("#codParentescoEdit").select2({
                    data: parentescoEdit,
                })

                $('#codParentescoEdit').val(null);
                $('#codParentescoEdit').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });

            }
        })

    }

    function modalOutrosContatos() {
        $("#incluiContatoForm")[0].reset();
        $(".form-control").removeClass('is-invalid').removeClass('is-valid');
        $('#addOutrosContatosModal').modal('show');




        $.ajax({
            url: '<?php echo base_url('pacientes/listaDropDownTiposContatos') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(tipoContatoAdd) {

                $("#codTipoContatoAdd").select2({
                    data: tipoContatoAdd,
                })

                $('#codTipoContatoAdd').val(null);
                $('#codTipoContatoAdd').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });

            }
        })

        $.ajax({
            url: '<?php echo base_url('pacientes/listaDropDownParentesco') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(parentescoAdd) {

                $("#codParentescoAdd").select2({
                    data: parentescoAdd,
                })

                $('#codParentescoAdd').val(null);
                $('#codParentescoAdd').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });

            }
        })

    }


    function numberOnly(id) {
        // Get element by id which passed as parameter within HTML element event
        var element = document.getElementById(id);
        // This removes any other character but numbers as entered by user
        element.value = element.value.replace(/[^0-9]/gi, "");
    }
    function wordOnly(id) {
        // Get element by id which passed as parameter within HTML element event
        var element = document.getElementById(id);
        // This removes any other character but numbers as entered by user
        element.value = element.value.replace(/[^a-zA-Z]/gi, "");
    }

    function verificaCPFAdd(i) {

        var v = i.value;

        if (isNaN(v[v.length - 1])) { // impede entrar outro caractere que não seja número
            i.value = v.substring(0, v.length - 1);
            return;
        }

        i.setAttribute("maxlength", "14");
        if (v.length == 3 || v.length == 7) i.value += ".";
        if (v.length == 11) i.value += "-";

        if (v.length == 14) {


            $.ajax({
                url: '<?php echo base_url('pacientes/verificaCPF') ?>',
                type: 'post',
                data: {
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    cpf: $("#addPacienteForm #cpfAdd").val()
                },
                dataType: 'json',
                success: function(verificaCPF) {

                    if (verificaCPF.existe === true) {

                        Swal.fire({
                            icon: 'error',
                            html: verificaCPF.messages,
                            showConfirmButton: true,
                            confirmButtonText: 'Ok',
                        })
                    } else {

                    }

                }
            })

        }

    }


    function addPaciente() {


        $("#addPacienteForm")[0].reset();
        $(".form-control").removeClass('is-invalid').removeClass('is-valid');
        $('#addPacienteModal').modal('show');


        fotoPerfilTmp = 0;
        // reset the form
        $.ajax({
            url: '<?php echo base_url('pacientes/limpaOutrosContatosTmp') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(limpaContatos) {}
        })

        $('#data_outrosContatosAdd').DataTable({
            "bDestroy": true,
            "paging": false,
            "lengthChange": false,
            "searching": false,
            "ordering": false,
            "info": false,
            "autoWidth": false,
            "responsive": true,
            "ajax": {
                "url": '<?php echo base_url($controller . '/getOutrosContatosTmp') ?>',
                "type": "POST",
                "dataType": "json",
                async: "false",
                data: {
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },
            }
        });


        //ADD text editor
        $('#informacoesComplementaresAdd').summernote({
            height: 150,
            maximumImageFileSize: 1024 * 1024, // 1Mb
            fontSizes: ['8', '9', '10', '11', '12', '14', '18', '20', '36', '72'],
            lineHeights: ['0.2', '0.3', '0.4', '0.5', '0.6', '0.8', '1.0', '1.2', '1.4', '1.5', '2.0', '3.0'],
            toolbar: [
                ['style', ['style']],
                ['fontname', ['fontname']],
                ['font', ['color', 'strikethrough', 'superscript', 'subscript', 'bold', 'underline', 'clear']],
                ['fontsize', ['fontsize']],
                ['height', ['height']],
                ['para', ['ul', 'ol', 'paragraph']],
                ['table', ['table']],
                ['insert', ['link', 'hr']],
                ['view', ['fullscreen', 'codeview', 'help']],
                ['redo'],
                ['undo'],
            ],

        })

        $('#informacoesComplementaresAdd').summernote('reset');

        document.getElementById('fotoPerfilCadastroAdd').innerHTML = '';

        var nomeExibicaoSistema = <?php echo session()->nomeExibicaoSistema; ?>


        $.ajax({
            url: '<?php echo base_url('pacientes/listaDropDownOm') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(codOmAdd) {

                $("#codOmAdd").select2({
                    data: codOmAdd,
                })

                $('#codOmAdd').val(null);
                $('#codOmAdd').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });

            }
        })

        $.ajax({
            url: '<?php echo base_url('pacientes/listaDropDownTipoBeneficiario') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(codTipoBeneficiarioAdd) {

                $("#codTipoBeneficiarioAdd").select2({
                    data: codTipoBeneficiarioAdd,
                })

                $('#codTipoBeneficiarioAdd').val(null);
                $('#codTipoBeneficiarioAdd').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });

            }
        })




        $.ajax({
            url: '<?php echo base_url('pacientes/listaDropDownCargos') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(cargosAdd) {

                $("#codCargoAdd").select2({
                    data: cargosAdd,
                })

                $('#codCargoAdd').val(null);
                $('#codCargoAdd').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });

            }
        })

        $.ajax({
            url: '<?php echo base_url('pacientes/listaDropDownForca') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(forcaAdd) {

                $("#forcaAdd").select2({
                    data: forcaAdd,
                })

                $('#forcaAdd').val(2);
                $('#forcaAdd').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });

            }
        })

        $.ajax({
            url: '<?php echo base_url('pacientes/listaDropDownStatusCadastroPaciente') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(codStatusCadastroPacienteAdd) {

                $("#codStatusCadastroPacienteAdd").select2({
                    data: codStatusCadastroPacienteAdd,
                })

                $('#codStatusCadastroPacienteAdd').val(1);
                $('#codStatusCadastroPacienteAdd').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });

            }
        })
        $.ajax({
            url: '<?php echo base_url('pacientes/listaDropDownTipoSanguineo') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(TipoSanguineoAdd) {

                $("#codTipoSanguineoAdd").select2({
                    data: TipoSanguineoAdd,
                })

                $('#codTipoSanguineoAdd').val(null);
                $('#codTipoSanguineoAdd').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });

            }
        })
        $.ajax({
            url: '<?php echo base_url('pacientes/listaDropDownRaca') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(racaAdd) {

                $("#codRacaAdd").select2({
                    data: racaAdd,
                })

                $('#codRacaAdd').val(null);
                $('#codRacaAdd').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });

            }
        })





        // submit the add from
        $.validator.setDefaults({
            highlight: function(element) {
                $(element).addClass('is-invalid').removeClass('is-valid');
            },
            unhighlight: function(element) {
                $(element).removeClass('is-invalid').addClass('is-valid');
            },
            errorElement: 'div ',
            errorClass: 'invalid-feedback',
            errorPlacement: function(error, element) {
                if (element.parent('.input-group').length) {
                    error.insertAfter(element.parent());
                } else if ($(element).is('.select')) {
                    element.next().after(error);
                } else if (element.hasClass('select2')) {
                    //error.insertAfter(element);
                    error.insertAfter(element.next());
                } else if (element.hasClass('selectpicker')) {
                    error.insertAfter(element.next());
                } else {
                    error.insertAfter(element);
                }
            },

            submitHandler: function(form) {

                var form = $('#addPacienteForm');
                // remove the text-danger
                $(".text-danger").remove();


                $.ajax({
                    url: '<?php echo base_url('pacientes/add') ?>',
                    type: 'post',
                    data: form.serialize(), // /converting the form data into array and sending it to server
                    dataType: 'json',
                    success: function(addPaciente) {


                        if (addPaciente.existe === true) {
                            Swal.fire({
                                position: 'bottom-end',
                                icon: 'error',
                                html: addPaciente.messages,
                                showConfirmButton: true,
                                confirmButtonText: 'Ok',
                            });                            
                            return false;

                        }

                        if (addPaciente.success === true) {

                            $('#addPacienteModal').modal('hide');

                            //ADICIONAR FOTO

                            if (fotoPerfilTmp !== 0) {

                                $.ajax({
                                    url: '<?php echo base_url('pacientes/uploadFoto') ?>',
                                    type: 'post',
                                    dataType: 'json',
                                    data: {
                                        imagem: fotoPerfilTmp,
                                        codPacienteCriado: addPaciente.codPacienteCriado,
                                        cpf: $("#addPacienteForm #cpfAdd").val(),
                                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                                    },
                                    success: function(uploadFoto) {

                                        if (uploadFoto.success === true) {


                                        }

                                    }
                                })
                            }

                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'top-end',
                                showConfirmButton: false,
                                timer: 5000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: addPaciente.messages
                            }).then(function() {
                                //$('#data_tablepaciente').DataTable().ajax.reload(null, false).draw(false);
                            })


                        }

                        if (addPaciente.success === false) {

                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'top-end',
                                showConfirmButton: false,
                                timer: 6000
                            });
                            Toast.fire({
                                icon: 'error',
                                title: addPaciente.messages
                            });
                            return false;

                        }

                    }
                }).always(
                    Swal.fire({
                        title: 'Estamos gerando novo prontuário',
                        html: 'Aguarde....',
                        timerProgressBar: true,
                        didOpen: () => {
                            Swal.showLoading()


                        }

                    }))

                return false;
            }
        });
        $('#addPacienteForm').validate();
    }




    function addatendimentoDiagnostico() {
        // reset the form
        $('#cidPrincipal').html('').select2({
            data: [{
                id: '',
                text: ''
            }]
        });

        $('input[name="tipoDiagnostico"]').prop('checked', false);



        $('#atendimentoDiagnosticoAddModal').modal('show');
        // submit the add from


        $("#cidPrincipal").select2({
            data: cidPrincipal,
            minimumInputLength: 3,
            quietMillis: 1000,
            dropdownParent: $('#atendimentoDiagnosticoAddModal .modal-content'),
        });

        //cid = editarAnamnese.cid;
        $('#cidPrincipal').val(null);
        $('#cidPrincipal').trigger('change');


        $(document).on('select2:open', () => {
            document.querySelector('.select2-search__field').focus();
        });




        $.validator.setDefaults({
            highlight: function(element) {
                $(element).addClass('is-invalid').removeClass('is-valid');
            },
            unhighlight: function(element) {
                $(element).removeClass('is-invalid').addClass('is-valid');
            },
            errorElement: 'div ',
            errorClass: 'invalid-feedback',
            errorPlacement: function(error, element) {
                if (element.parent('.input-group').length) {
                    error.insertAfter(element.parent());
                } else if ($(element).is('.select')) {
                    element.next().after(error);
                } else if (element.hasClass('select2')) {
                    //error.insertAfter(element);
                    error.insertAfter(element.next());
                } else if (element.hasClass('selectpicker')) {
                    error.insertAfter(element.next());
                } else {
                    error.insertAfter(element);
                }
            },

            submitHandler: function(form) {

                var form = $('#atendimentoDiagnosticoAddForm');
                // remove the text-danger
                $(".text-danger").remove();

                $.ajax({
                    url: '<?php echo base_url('atendimentoDiagnostico/add') ?>',
                    type: 'post',
                    data: form.serialize(), // /converting the form data into array and sending it to server
                    dataType: 'json',
                    beforeSend: function() {
                        //$('#atendimentoDiagnosticoAddForm-btn').html('<i class="fa fa-spinner fa-spin"></i>');
                    },
                    success: function(response) {

                        if (response.success === true) {
                            $('#atendimentoDiagnosticoAddModal').modal('hide');

                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {

                                if ($('#editarAtendimentoModal').is(':visible') == true) {

                                    $('#data_tableatendimentoDiagnostico').DataTable().ajax.reload(null, false).draw(false);

                                }
                                if ($('#controleAntimicrobianoAddModal').is(':visible') == true) {

                                    $('#data_tableatendimentoDiagnosticoAddControleAntimicrobiano').DataTable().ajax.reload(null, false).draw(false);

                                }



                            })

                        } else {

                            if (response.messages instanceof Object) {
                                $.each(response.messages, function(index, value) {
                                    var id = $("#" + index);

                                    id.closest('.form-control')
                                        .removeClass('is-invalid')
                                        .removeClass('is-valid')
                                        .addClass(value.length > 0 ? 'is-invalid' : 'is-valid');

                                    id.after(value);

                                });
                            } else {

                                var Toast = Swal.mixin({
                                    toast: true,
                                    position: 'bottom-end',
                                    showConfirmButton: false,
                                    timer: 2000
                                });
                                Toast.fire({
                                    icon: 'error',
                                    title: response.messages
                                })

                            }
                        }
                        $('#atendimentoDiagnosticoAddForm-btn').html('Adicionar');
                    }
                });

                return false;
            }
        });
        $('#atendimentoDiagnosticoAddForm').validate();
    }

    function perfilPaciente(codPaciente) {


        $('#perfilPacienteModal').modal('show');

        nomeStatusCadastroPacienteTmp = null;

        codPacienteTmp = codPaciente;




        $.ajax({
            url: '<?php echo base_url('pacientes/getOne') ?>',
            type: 'post',
            data: {
                codPaciente: codPaciente,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            dataType: 'json',
            success: function(responsePerfil) {

                swal.close();

                if (responsePerfil.acessoNegado === true) {
                    Swal.fire({
                        position: 'bottom-end',
                        icon: 'warning',
                        html: responsePerfil.messages,
                        showConfirmButton: false,
                        timer: 4000
                    })
                    //exit();
                    throw new Error(responsePerfil.messages);

                }
                if (responsePerfil.codProntuario !== null) {
                    prontuarioTitulo = responsePerfil.codProntuario
                } else {
                    prontuarioTitulo = "";
                }



                document.getElementById('fotoPerfilCadastroPerfil').innerHTML =
                    '<img style="width:200px;height:auto" class="profile-user-img img-fluid img-circle" alt="" src="arquivos/imagens/pacientes/' + responsePerfil.fotoPerfil + "?" + new Date().getTime() + '"/>';


                document.getElementById('nomeCompletoPerfil').innerHTML = responsePerfil.nomeCompleto;

                document.getElementById('nomeTipoBeneficiarioPerfil').innerHTML = responsePerfil.nomeTipoBeneficiario;



                document.getElementById('descricaoCargoPerfil').innerHTML = responsePerfil.descricaoCargo;

                document.getElementById('cpfPerfil').innerHTML = responsePerfil.cpf;
                document.getElementById('codPlanoPerfil').innerHTML = responsePerfil.codPlano;
                document.getElementById('enderecoPerfil').innerHTML = responsePerfil.endereco;
                document.getElementById('celularPerfil').innerHTML = responsePerfil.celular;
                document.getElementById('dataNascimentoPerfil').innerHTML = responsePerfil.dataNascimentoPerfil;
                document.getElementById('emailPessoalPerfil').innerHTML = responsePerfil.emailPessoal;

                document.getElementById('validadePerfil').innerHTML = responsePerfil.validadePerfil;

                document.getElementById('informacoesComplementaresPerfil').innerHTML = responsePerfil.informacoesComplementares;

                if (responsePerfil.idade > 0) {

                    document.getElementById('idadeInfo').innerHTML =
                        '<span>' + responsePerfil.idade + ' </span>';
                    idadePacienteTmp = '<span>' + responsePerfil.idade + '</span>';
                } else {

                    document.getElementById('idadeInfo').innerHTML =
                        '<span>' + responsePerfil.idade + '</span>';
                    idadePacienteTmp = '<span>' + responsePerfil.idade + '</span>';

                }

                nomePacienteTmp = responsePerfil.nomeCompleto;
                nomeCargoTmp = responsePerfil.siglaCargo;
                nomeTipoBeneficiarioTmp = responsePerfil.nomeTipoBeneficiario;
                siglaTipoBeneficiarioTmp = responsePerfil.siglaTipoBeneficiario;
                codPlanoTmp = responsePerfil.codPlano;
                cpfPacienteTmp = responsePerfil.cpf;
                codProntuarioTmp = prontuarioTitulo;

                document.getElementById("tituloPerfilModal").innerHTML = nomeCargoTmp + ' ' + nomePacienteTmp + ' | ' + siglaTipoBeneficiarioTmp + ' | ' + idadePacienteTmp + ' | PRONT: ' + codProntuarioTmp + ' | PREC: ' + codPlanoTmp;





                fotoPerfilPacienteTmp = '<img alt="" width="160px" height="125px" src="arquivos/imagens/pacientes/' + responsePerfil.fotoPerfil + '"/>';


                $status = '';
                if (responsePerfil.ativo == 1) {
                    status = '<div class="col-md-4">' +
                        '<button style="width:220px; height: 80px;" type="button" class="btn btn-lg btn-danger" data-toggle="tooltip" data-placement="top" onclick="confirmacaoDesativacao(' + codPaciente + ',\'' + responsePerfil.nomeCompleto + '\')"><i class="fa fa-user-slash"></i>DESATIVAR PACIENTE</button>' +
                        '</div>';
                } else {
                    status = '<div class="col-md-4">' +
                        '<button style="width:220px; height: 80px;" type="button" class="btn btn-lg btn-primary" data-toggle="tooltip" data-placement="top" onclick="reativarPaciente(' + codPaciente + ')"><i class="fa fa-user-slash"></i>REATIVAR PACIENTE</button>' +
                        '</div>';
                }



                document.getElementById('botoesPerfil').innerHTML =
                    '<div class="row">' +
                    '<div class="col-md-4">' +
                    '<button type="button" class="btn btn-lg btn-primary" data-toggle="tooltip" data-placement="top" onclick="agendarConsulta(' + codPaciente + ')"><i class="fa fa-edit"></i>MARCAÇÃO DE CONSULTA</button>' +
                    '</div>' +
                    '<div class="col-md-4">' +
                    '<button type="button" class="btn btn-lg btn-primary" data-toggle="tooltip" data-placement="top" onclick="agendarExame(' + codPaciente + ')"><i class="fa fa-edit"></i>MARCAÇÃO DE EXAME</button>' +
                    '</div>' +
                    '<div class="col-md-4">' +
                    '<button type="button" class="btn btn-lg btn-primary" data-toggle="tooltip" data-placement="top" onclick="prontuario(' + codPaciente + ')"><i class="fa fa-edit"></i>ABRIR PRONTUÁRIO</button>' +
                    '</div>' +

                    '</div>' +

                    '<div style="margin-top:20px" class="row">' +
                    '<div class="col-md-4">' +
                    '<button type="button" class="btn btn-lg btn-danger" data-toggle="tooltip" data-placement="top" onclick="iniciarAtendimentoUrgenciaEmergencia()"><i class="fa fa-edit"></i>INICIAR URG/EMERGÊNCIA</button>' +
                    '</div>' +
                    '<div class="col-md-4">' +
                    '<button type="button" class="btn btn-lg btn-primary" data-toggle="tooltip" data-placement="top" onclick="editPacienteForm(' + codPaciente + ')"><i class="fa fa-edit"></i>MODIFICAR CADASTRO</button>' +
                    '</div>' +
                    '<div class="col-md-4">' +
                    '<button  style="width:220px; height: 80px;" type="button" class="btn btn-lg btn-primary" data-toggle="tooltip" data-placement="top" onclick="trocasenhaPaciente(' + codPaciente + ')"><i class="fa fa-user-lock"></i>TROCAR SENHA</button>' +
                    '</div>' +
                    '</div>' +
                    '<div style="margin-top:20px" class="row">' +
                    '<div class="col-md-4">' +
                    '<button style="width:220px; height: 80px;" type="button" class="btn btn-lg btn-primary" data-toggle="tooltip" data-placement="top" onclick="cartao(' + codPaciente + ')"><i class="fa address-card"></i>IMPRIMIR CARTÃO</button>' +
                    '</div>' +

                    status +
                    '<div class="col-md-4">' +
                    '<button style="width:220px; height: 80px;" type="button" class="btn btn-lg btn-primary" data-toggle="tooltip" data-placement="top" onclick="relatoriosPaciente(' + codPaciente + ')"><i class="fa address-card"></i>RELATÓRIOS</button>' +
                    '</div>' +

                    '</div>';



                if (responsePerfil.codProntuario !== null) {
                    document.getElementById('codProntuarioInfo').innerHTML =
                        '<span>' + responsePerfil.codProntuario + '</span>';
                }

                nomeStatus = "";



                if (responsePerfil.codStatusCadastroPaciente == 1) {
                    nomeStatus = "NOVO";
                    document.getElementById("codStatusCadastroPacienteColor").style.backgroundColor = "#ff000091";
                    //document.getElementById("codStatusCadastroPacienteColor").style.color = "red";
                }
                if (responsePerfil.codStatusCadastroPaciente == 2) {
                    nomeStatus = "LIBERADO";
                    document.getElementById("codStatusCadastroPacienteColor").style.backgroundColor = "#28a74580";

                }
                if (responsePerfil.codStatusCadastroPaciente == 3) {
                    nomeStatus = "BLOQUEADO";
                    nomeStatusCadastroPacienteTmp = "BLOQUEADO";
                    document.getElementById("codStatusCadastroPacienteColor").style.backgroundColor = "#ff000091";

                }
                if (responsePerfil.codStatusCadastroPaciente == 4) {
                    nomeStatus = "DESBLOQUEADO";
                    document.getElementById("codStatusCadastroPacienteColor").style.backgroundColor = "#28a74580";

                }
                if (responsePerfil.codStatusCadastroPaciente == 5) {
                    nomeStatus = "ARQUIVADO";
                    document.getElementById("codStatusCadastroPacienteColor").style.backgroundColor = "#ff000091";

                }

                document.getElementById('codStatusCadastroPacienteInfo').innerHTML =
                    '<span>' + nomeStatus + '</span>';







                $('#data_tableProximasConsultas').DataTable({


                    "bDestroy": true,
                    "paging": false,
                    "lengthChange": false,
                    "searching": false,
                    "ordering": true,
                    "dateFormat": "dd-MM-YYYY",
                    order: [
                        [3, 'asc']
                    ],
                    "info": false,
                    "autoWidth": false,
                    "responsive": false,
                    "ajax": {
                        "url": '<?php echo base_url('agendamentos/proximasConsultas') ?>',
                        "type": "POST",
                        data: {
                            codPaciente: codPacienteTmp,
                            csrf_sandra: $("#csrf_sandraPrincipal").val(),
                        },
                        "dataType": "json",
                        async: "true",
                    }
                });

                $('#data_tableProximosAgendamentosExames').DataTable({


                    "bDestroy": true,
                    "paging": false,
                    "lengthChange": false,
                    "searching": false,
                    "ordering": true,
                    "dateFormat": "dd-MM-YYYY",
                    order: [
                        [3, 'asc']
                    ],
                    "info": false,
                    "autoWidth": false,
                    "responsive": false,
                    "ajax": {
                        "url": '<?php echo base_url('agendamentosExames/proximosAgendamentosExames') ?>',
                        "type": "POST",
                        data: {
                            codPaciente: codPacienteTmp,
                            csrf_sandra: $("#csrf_sandraPrincipal").val(),
                        },
                        "dataType": "json",
                        async: "true",
                    }
                });


                $('#data_tableagendamentosFaltas').DataTable({
                    "bDestroy": true,
                    "paging": true,
                    "deferRender": true,
                    "lengthChange": false,
                    "searching": true,
                    "ordering": true,
                    "info": true,
                    "autoWidth": false,
                    "responsive": true,
                    "ajax": {
                        "url": '<?php echo base_url('agendamentosFaltas/faltasPaciente') ?>',
                        "type": "POST",
                        "dataType": "json",
                        async: "true",
                        data: {
                            codPaciente: codPacienteTmp,
                            csrf_sandra: $("#csrf_sandraPrincipal").val(),
                        },
                    }
                });


                $('#data_tableAgendamentosPassados').DataTable({

                    "bDestroy": true,
                    "paging": true,
                    "deferRender": true,
                    "lengthChange": false,
                    "searching": true,
                    "ordering": false,
                    "info": true,
                    "autoWidth": false,
                    "responsive": true,
                    "ajax": {
                        "url": '<?php echo base_url('agendamentos/meusAgendamentosPassados') ?>',
                        "type": "POST",
                        "dataType": "json",
                        async: "true",
                        data: {
                            codPaciente: codPacienteTmp,
                            csrf_sandra: $("#csrf_sandraPrincipal").val(),
                        },
                    }
                })


            }
        }).always(
            Swal.fire({
                title: 'Estamos buscando as informações',
                html: 'Aguarde....',
                timerProgressBar: true,
                didOpen: () => {
                    Swal.showLoading()
                }

            }));



    }


    function salvarAnamnese() {



        //VERIFICAÇÃO ATENDIMENTO ATUAL
        if (document.getElementById('codAtendimentoAnamnese').value != codAtendimentoTmp) {

            Swal.fire({
                icon: 'warning',
                html: 'Falha na validação do atendimento atual.  Atualize a página (F5) ou entre novamente no sistema. Recomendamos a utilização do Google Chrome atualizado.',
                showConfirmButton: true,
                confirmButtonText: 'Ok',

            })
            throw new Error('Falha na validação do atendimento atual.  Atualize a página (F5) ou entre novamente no sistema. Recomendamos a utilização do Google Chrome atualizado.');

        }



        totalPalavrasHda = $('#hdaTextarea').summernote('code').replace(/&nbsp;/gi, "").length;

        totalPalavraQueixa = $('#queixaPrincipalTextarea').summernote('code').replace(/&nbsp;/gi, "").length;

        if (especialidadeAuxiliar !== '1') {

            if (totalPalavrasHda < 12) {
                Swal.fire({
                    position: 'bottom-end',
                    icon: 'error',
                    html: 'Forneça mais informações sobre a <b>"HDA"</b> .',
                    showConfirmButton: true,
                    confirmButtonText: 'Ok',

                })
                throw new Error('Forneça mais informações sobre a <b>"HDA"</b>');

            }
        }

        if (statusMinhasEspecialidades == 0) {
            if (totalPalavraQueixa < 12) {
                Swal.fire({
                    position: 'bottom-end',
                    icon: 'error',
                    html: 'Forneça mais informações sobre a <b>"Queixa do Paciente"</b> .',
                    showConfirmButton: true,
                    confirmButtonText: 'Ok',

                })
                throw new Error('Forneça mais informações sobre a <b>"Queixa do Paciente"</b>');

            }


        }
        if (document.getElementById('queixaPrincipalTextarea').value.length > 300) {
            Swal.fire({
                position: 'bottom-end',
                icon: 'error',
                html: 'Caro profissional de Saúde, a ABA  <b>"Queixa principal"</b> é apenas um resumo do problema do paciente, com no máximo 300 caracteres. O lançamento completo das informações do paciente deven ser lançadas nas abas <b>"HDA"</b>, e/ou <b>"CONDUTAS"</b> e/ou <b>"EVOLUÇÕES"</b>.',
                showConfirmButton: true,
                confirmButtonText: 'Ok',

            })
            throw new Error('Caro profissional de Saúde, a ABA  <b>"Queixa principal"</b> é apenas um resumo do problema do paciente, com no máximo 300 caracteres. O lançamento completo das informações do paciente deven ser lançadas nas abas <b>"HDA"</b>, e/ou <b>"CONDUTAS"</b> e/ou <b>"EVOLUÇÕES"</b>.');

        }

        $.ajax({
            url: '<?php echo base_url('AtendimentoAnamnese/salvarAnamnese') ?>',
            type: 'post',
            data: {
                codAtendimento: codAtendimentoTmp,
                queixaPrincipal: document.getElementById('queixaPrincipalTextarea').value,
                hda: document.getElementById('hdaTextarea').value,
                hmp: document.getElementById('hmpTextarea').value,
                exameFisico: document.getElementById('exameFisicoTextarea').value,
                historiaAlergias: document.getElementById('historiaAlergiasTextarea').value,
                historiaMedicamentos: document.getElementById('historiaMedicamentosContinuoTextarea').value,
                outrasInformacoes: document.getElementById('outrasInformacoesTextarea').value,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),


                // DADOS DE ANTROPOMETRIA
                peso: document.getElementById('peso').value,
                altura: document.getElementById('altura').value,


                perimetroCefalico: document.getElementById('perimetroCefalico').value,
                parimetroAbdominal: document.getElementById('parimetroAbdominal').value,
                paSistolica: document.getElementById('paSistolica').value,
                paDiastolica: document.getElementById('paDiastolica').value,
                fc: document.getElementById('fc').value,
                fr: document.getElementById('fr').value,
                temperatura: document.getElementById('temperatura').value,
                saturacao: document.getElementById('saturacao').value,
                glicemiaJejum: document.getElementById('glicemiaJejum').value,
                glicemiaPosPrandial: document.getElementById('glicemiaPosPrandial').value,




                //DADOS COMORNIDADES
                diabetesMellitus: document.getElementById('diabetesMellitus').checked,
                pneumopatiaCronicaGrave: document.getElementById('pneumopatiaCronicaGrave').checked,
                har: document.getElementById('har').checked,
                hae3: document.getElementById('hae3').checked,
                hae12: document.getElementById('hae12').checked,
                ic: document.getElementById('ic').checked,
                cphp: document.getElementById('cphp').checked,
                ch: document.getElementById('ch').checked,
                sc: document.getElementById('sc').checked,
                valvopatia: document.getElementById('valvopatia').checked,
                miocarPericar: document.getElementById('miocarPericar').checked,
                aortaVasosFistulas: document.getElementById('aortaVasosFistulas').checked,
                arritimiasCardiacas: document.getElementById('arritimiasCardiacas').checked,
                cardiopatiaCongenitaAdulto: document.getElementById('cardiopatiaCongenitaAdulto').checked,
                protesesValvaresDispCardImplatados: document.getElementById('protesesValvaresDispCardImplatados').checked,
                doencaCerebroVascular: document.getElementById('doencaCerebroVascular').checked,
                doencaRenalCronica: document.getElementById('doencaRenalCronica').checked,
                imuninosuprimido: document.getElementById('imuninosuprimido').checked,
                hemoglobinopatiaGrave: document.getElementById('hemoglobinopatiaGrave').checked,
                obesidadeMorbida: document.getElementById('obesidadeMorbida').checked,
                sindromeDown: document.getElementById('sindromeDown').checked,
                cirroseHepatica: document.getElementById('cirroseHepatica').checked,

            },
            dataType: 'json',
            success: function(salvarAnamnese) {
                if (salvarAnamnese.success === true) {



                    peso = document.getElementById('peso').value;
                    altura = document.getElementById('altura').value;

                    imc = '';

                    if (parseFloat(peso).toFixed(2) > 0 && parseFloat(altura).toFixed(2) > 0) {
                        peso = parseFloat(peso).toFixed(2);
                        altura = parseFloat(altura).toFixed(2);
                        imc = parseFloat(peso / Math.pow(altura, 2)).toFixed(2);

                    }

                    document.getElementById('imcAdd').innerHTML = imc;





                    if ($('#prontuarioModal').is(':visible') == true) {
                        todosAtendimentos(codPacienteTmp);
						//$('#data_tableAtendimentos').DataTable().ajax.reload(null, false).draw(false);
                    }

                    var Toast = Swal.mixin({
                        toast: true,
                        position: 'bottom-end',
                        showConfirmButton: false,
                        timer: 5000
                    });
                    Toast.fire({
                        icon: 'success',
                        title: salvarAnamnese.messages,
                    })

                } else {
                    Swal.fire({
                        position: 'bottom-end',
                        icon: 'error',
                        title: salvarAnamnese.messages,
                        showConfirmButton: false,
                        timer: 4000
                    })
                }

            }
        }).always(
            Swal.fire({
                title: 'Estamos salvando as informações',
                html: 'Aguarde....',
                timerProgressBar: true,
                didOpen: () => {
                    Swal.showLoading()
                }

            }));

        /*
        		alert(codPacienteTmp);
        		alert(document.getElementById('queixaPrincipalTextarea').value);
        		alert(document.getElementById('hdaTextarea').value);
        		alert(document.getElementById('hmpTextarea').value);
        		alert(document.getElementById('historiaAlergiasTextarea').value);
        		alert(document.getElementById('historiaMedicamentosContinuoTextarea').value);
        */
    }


    function addAlergia() {
        var form = $('#addAlergiasForm');

        $.ajax({
            url: '<?php echo base_url('pacientesAlergia/add') ?>',
            type: 'post',
            data: form.serialize(), // /converting the form data into array and sending it to server
            dataType: 'json',
            success: function(AddAlergias) {
                if (AddAlergias.success === true) {
                    $('#addAlergiasModal').modal('hide');
                    $('#data_tablepacientesAlergia').DataTable().ajax.reload(null, false).draw(false);

                    Swal.fire({
                        position: 'bottom-end',
                        icon: 'success',
                        title: AddAlergias.messages,
                        showConfirmButton: false,
                        timer: 4000
                    })


                    //ALERGIAS
                    $.ajax({
                        url: '<?php echo base_url('Atendimentos/pegaAlergias') ?>',
                        type: 'post',
                        dataType: 'json',
                        data: {
                            codAtendimento: codAtendimentoTmp,
                            csrf_sandra: $("#csrf_sandraPrincipal").val(),
                        },
                        success: function(alergias) {

                            if (alergias.listaAlergia !== null) {

                                document.getElementById('listaAlergia').innerHTML = alergias.listaAlergia;
                            } else {

                                document.getElementById('listaAlergia').innerHTML = 'Não Informado';
                            }

                        }
                    })



                } else {
                    Swal.fire({
                        position: 'bottom-end',
                        icon: 'error',
                        title: AddAlergias.messages,
                        showConfirmButton: false,
                        timer: 4000
                    })
                }
            }
        })

    }

    function adicionarMedicamento() {
        //alert(codPacienteTmp);
    }

    function addMedicamentoContinuo() {
        var el = document.getElementById('codMedicamentoAdd');
        var descricaoMedicamento = el.options[el.selectedIndex].innerHTML;

        $.ajax({
            url: '<?php echo base_url('PacientesMedicamentosContinuo/add') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                codPaciente: codPacienteTmp,
                descricaoMedicamento: descricaoMedicamento,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(medicamentoContino) {
                if (medicamentoContino.success === true) {

                    $('#data_tablepacientesMedicamentosContinuo').DataTable().ajax.reload(null, false).draw(false);


                    $('#codMedicamentoAdd').empty();
                    $('#addMedicamentosContinuoModal').modal('hide');

                    Swal.fire({
                        position: 'bottom-end',
                        icon: 'success',
                        title: medicamentoContino.messages,
                        showConfirmButton: false,
                        timer: 4000
                    })
                } else {
                    Swal.fire({
                        position: 'bottom-end',
                        icon: 'error',
                        title: medicamentoContino.messages,
                        showConfirmButton: false,
                        timer: 4000
                    })
                }
            }
        })



    }

    function gerarProntuarioCompleto() {



        //DADOS DO PACIENTE

        $.ajax({
            url: '<?php echo base_url('atendimentos/dadosPaciente') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                codPaciente: codPacienteTmp,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(dadosPaciente) {

                if (dadosPaciente.descricaoCargo == null) {
                    cargo = "";
                } else {
                    cargo = dadosPaciente.descricaoCargo;
                }
                document.getElementById('nomeExibicaoProntuarioCompleto').innerHTML = ' ' + dadosPaciente.nomeExibicao + ', ' + dadosPaciente.idade + ' anos';
                document.getElementById('codPlanoProntuarioCompleto').innerHTML = 'Nº Plano: ' + dadosPaciente.codPlano;
                document.getElementById('codProntuarioProntuarioCompleto').innerHTML = 'Prontuário: ' + dadosPaciente.codProntuario;
                document.getElementById('codCargoProntuarioCompleto').innerHTML = 'Cargo: ' + cargo;
                document.getElementById('validadeProntuarioProntuarioCompleto').innerHTML = 'Validade: ' + dadosPaciente.validadePerfil;
                document.getElementById('cpfProntuarioCompleto').innerHTML = 'CPF: ' + dadosPaciente.cpf;
                document.getElementById('sexoProntuarioCompleto').innerHTML = 'Sexo: ' + dadosPaciente.sexo;
                document.getElementById('nomeMaeProntuarioCompleto').innerHTML = 'Mãe: ' + dadosPaciente.nomeMae;
                document.getElementById('situacaoProntuarioCompleto').innerHTML = 'Situação: ' + dadosPaciente.nomeTipoBeneficiario;
                document.getElementById('dataNascimentoProntuarioCompleto').innerHTML = 'Data Nascimento: ' + dadosPaciente.dataNascimentoPerfil;



            }
        })



        $.ajax({
            url: '<?php echo base_url('atendimentos/dadosAtendimentos') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                codPaciente: codPacienteTmp,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(dadosAtendimentos) {



                if (dadosAtendimentos.success === false) {

                    if ($('#relatoriosPacienteModal').is(':visible') == true) {
                        $('#relatoriosPacienteModal').modal('hide');
                    }


                    Swal.fire({
                        position: 'bottom-end',
                        icon: 'warning',
                        html: dadosAtendimentos.messages,
                        showConfirmButton: false,
                        timer: 4000
                    })

                }

                if (dadosAtendimentos.success === true) {

                    $('#prontuarioCompletoPacienteModal').modal('show');
                    swal.close();
                    document.getElementById('dadosAtendimentos').innerHTML = dadosAtendimentos.html;


                    printElement(document.getElementById("areaImpressaoProntuarioCompleto"));

                    document.getElementById("setEstilo").innerHTML = '<style>@media screen {' +
                        '#printSection {' +
                        'display: none;' +

                        '}' +
                        '}' +

                        '@media print {' +
                        '@page {' +
                        'size: A4;' +
                        'margin-top: 20px;' +
                        'margin-bottom: 30px;' +
                        'margin-left: 0px;' +
                        'margin-right: 0px;' +
                        '}' +

                        'body>*:not(#printSection) {' +
                        'display: none;' +
                        '}' +

                        '#printSection,' +
                        '#printSection * {' +
                        'visibility: visible;' +

                        '}' +
                        '#printSection {' +
                        'position: absolute;' +
                        'left: 0;' +
                        'top: 0;' +
                        'width: 210mm;' +
                        'height: 297mm;' +

                        '}' +
                        '}</style>';


                }



            }
        }).always(
            Swal.fire({
                title: 'Estamos buscando todas as informações do prontuário',
                html: 'Aguarde....',
                timerProgressBar: true,
                didOpen: () => {
                    Swal.showLoading()
                }

            }));

    }



    function imprimirAtestadosAtendimento(codAtendimento) {
        Swal.fire({
            icon: 'info',
            html: 'Está em desenvolvimento...',
            showConfirmButton: false,
            timer: 4000
        })
    }



    function adicionarPrevisaoAlta(codAtendimento) {

        if (codAtendimento !== null || codAtendimento !== "" || codAtendimento !== 0) {
            codAtendimento = codAtendimentoTmp;
        }


        document.getElementById('codAtendimentoPrevisaoAlta').value = codAtendimento;

        $("#previsaoAltaAddForm")[0].reset();

        $(".form-control").removeClass('is-invalid').removeClass('is-valid');
        $('#previsaoAltaAddModal').modal('show');
        // submit the add from


        document.getElementById('dataPrevAlta').style.display = 'inline';
        document.getElementById('dataPrevAltaLabel').style.display = 'inline';
        document.getElementById('condicaoAltaLabel').style.display = 'inline';
        document.getElementById('condicaoAlta').style.display = 'inline';
        document.getElementById("dataPrevAlta").required = true;
        document.getElementById("condicaoAlta").required = true;


        $('#previsaoIndeterminada').change(function() {
            if (!this.checked) {
                document.getElementById('dataPrevAlta').style.display = 'inline';
                document.getElementById('dataPrevAltaLabel').style.display = 'inline';
                document.getElementById('condicaoAltaLabel').style.display = 'inline';
                document.getElementById('condicaoAlta').style.display = 'inline';
                document.getElementById("dataPrevAlta").required = true;
                document.getElementById("condicaoAlta").required = true;
            } else {
                document.getElementById('dataPrevAlta').style.display = 'none';
                document.getElementById('condicaoAlta').style.display = 'none';
                document.getElementById('dataPrevAltaLabel').style.display = 'none';
                document.getElementById('condicaoAltaLabel').style.display = 'none';
                document.getElementById("dataPrevAlta").required = false;
                document.getElementById("condicaoAlta").required = false;
            }
        });

        $.validator.setDefaults({
            highlight: function(element) {
                $(element).addClass('is-invalid').removeClass('is-valid');
            },
            unhighlight: function(element) {
                $(element).removeClass('is-invalid').addClass('is-valid');
            },
            errorElement: 'div ',
            errorClass: 'invalid-feedback',
            errorPlacement: function(error, element) {
                if (element.parent('.input-group').length) {
                    error.insertAfter(element.parent());
                } else if ($(element).is('.select')) {
                    element.next().after(error);
                } else if (element.hasClass('select2')) {
                    //error.insertAfter(element);
                    error.insertAfter(element.next());
                } else if (element.hasClass('selectpicker')) {
                    error.insertAfter(element.next());
                } else {
                    error.insertAfter(element);
                }
            },

            submitHandler: function(form) {

                var form = $('#previsaoAltaAddForm');
                // remove the text-danger
                $(".text-danger").remove();

                $.ajax({
                    url: '<?php echo base_url('previsaoAlta/add') ?>',
                    type: 'post',
                    data: form.serialize(), // /converting the form data into array and sending it to server
                    dataType: 'json',
                    beforeSend: function() {
                        //$('#previsaoAltaAddForm-btn').html('<i class="fa fa-spinner fa-spin"></i>');
                    },
                    success: function(response) {

                        if (response.success === true) {
                            $('#previsaoAltaAddModal').modal('hide');

                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {



                                if ($('#editarAtendimentoModal').is(':visible') == true) {
                                    $('#data_tableprevisaoAlta').DataTable().ajax.reload(null, false).draw(false);
                                }


                                if ($('#listaInternadosModal').is(':visible') == true) {
                                    $('#data_tableListarInternados').DataTable().ajax.reload(null, false).draw(false);
                                }


                                //PREVISÃO DE ALTA
                                $.ajax({
                                    url: '<?php echo base_url('Atendimentos/previsaoAlta') ?>',
                                    type: 'post',
                                    dataType: 'json',
                                    data: {
                                        codAtendimento: codAtendimentoTmp,
                                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                                    },
                                    success: function(dataAlta) {


                                        if (dataAlta.dataPrevAlta !== null) {

                                            document.getElementById('previsaoAltaInfo').innerHTML = dataAlta.dataPrevAlta;
                                            document.getElementById('diasParaAltaInfo').innerHTML = dataAlta.diasParaAlta;
                                        } else {

                                            if (dataAlta.indeterminado == 1) {

                                                document.getElementById('previsaoAltaInfo').innerHTML = 'Indeterminado';
                                                document.getElementById('diasParaAltaInfo').innerHTML = null;
                                            } else {

                                                document.getElementById('previsaoAltaInfo').innerHTML = 'Não Informado';
                                                document.getElementById('diasParaAltaInfo').innerHTML = null;

                                                document.getElementById('diasParaAltaInfo').innerHTML = dataAlta.diasParaAlta;

                                            }



                                        }

                                    }
                                })

                            })

                        } else {

                            if (response.messages instanceof Object) {
                                $.each(response.messages, function(index, value) {
                                    var id = $("#" + index);

                                    id.closest('.form-control')
                                        .removeClass('is-invalid')
                                        .removeClass('is-valid')
                                        .addClass(value.length > 0 ? 'is-invalid' : 'is-valid');

                                    id.after(value);

                                });
                            } else {

                                var Toast = Swal.mixin({
                                    toast: true,
                                    position: 'bottom-end',
                                    showConfirmButton: false,
                                    timer: 2000
                                });
                                Toast.fire({
                                    icon: 'error',
                                    title: response.messages
                                })

                            }
                        }
                        $('#previsaoAltaAddForm-btn').html('Adicionar');
                    }
                });

                return false;
            }
        });
        $('#previsaoAltaAddForm').validate();
    }



    function imprimirBoletimAtendimento(codAtendimento) {


        if (codAtendimento !== null || codAtendimento !== "" || codAtendimento !== 0) {
            codAtendimentoTmp = codAtendimento;
        }


        $.ajax({
            url: '<?php echo base_url('atendimentos/dadosBoletimAtendimento') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                codPaciente: codPacienteTmp,
                codAtendimento: codAtendimentoTmp,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(dadosAtendimentos) {



                if (dadosAtendimentos.success === false) {

                    if ($('#relatoriosPacienteModal').is(':visible') == true) {
                        $('#relatoriosPacienteModal').modal('hide');
                    }


                    Swal.fire({
                        position: 'bottom-end',
                        icon: 'warning',
                        html: dadosAtendimentos.messages,
                        showConfirmButton: false,
                        timer: 4000
                    })

                }

                if (dadosAtendimentos.success === true) {

                    $('#boletimAtendimentoPacienteModal').modal('show');
                    swal.close();
                    document.getElementById('dadosAtendimentosBoletimAtendimento').innerHTML = dadosAtendimentos.html;


                    printElement(document.getElementById("areaImpressaoBoletimAtendimento"));

                    document.getElementById("setEstilo").innerHTML = '<style>@media screen {' +
                        '#printSection {' +
                        'display: none;' +

                        '}' +
                        '}' +

                        '@media print {' +
                        '@page {' +
                        'size: A4;' +
                        'margin-top: 20px;' +
                        'margin-bottom: 30px;' +
                        'margin-left: 0px;' +
                        'margin-right: 0px;' +
                        '}' +

                        'body>*:not(#printSection) {' +
                        'display: none;' +
                        '}' +

                        '#printSection,' +
                        '#printSection * {' +
                        'visibility: visible;' +

                        '}' +
                        '#printSection {' +
                        'position: absolute;' +
                        'left: 0;' +
                        'top: 0;' +
                        'width: 210mm;' +
                        'height: 297mm;' +

                        '}' +
                        '}</style>';


                }



            }
        }).always(
            Swal.fire({
                title: 'Estamos buscando todas as informações do prontuário',
                html: 'Aguarde....',
                timerProgressBar: true,
                didOpen: () => {
                    Swal.showLoading()
                }

            }));

    }


    function relatoriosPaciente() {
        $('#relatoriosPacienteModal').modal('show');



    }


    function addMedicamentoContinuoModal() {
        $('#addMedicamentosContinuoModal').modal('show');

        document.getElementById('codPacienteMedicamentosContinuoAdd').value = codPacienteTmp;
        $.ajax({
            url: '<?php echo base_url('itensFarmacia/listaDropDownMedicamentosAnvisa') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(medicamentos) {

                $("#codMedicamentoAdd").select2({
                    minimumInputLength: 3,
                    quietMillis: 1000,
                    dropdownParent: $('#addMedicamentosContinuoModal .modal-content'),
                    data: medicamentos,
                    allowClear: true,
                    placeholder: 'Procurar Medicamento',

                })

                $('#codMedicamentoAdd').select2({
                    dropdownParent: $('#addMedicamentosContinuoModal')
                });


                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });

            }
        })



    }

    function addAlergiaModal() {
        $('#addAlergiasModal').modal('show');



        $("#addAlergiasForm")[0].reset();

        document.getElementById('codPacienteAlergiaAdd').value = codPacienteTmp;

        $.ajax({
            url: '<?php echo base_url('PacientesAlergia/listaDropDown') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(TipoAlergenicoAdd) {

                $("#codTipoAlergenicoAdd").select2({
                    data: TipoAlergenicoAdd,
                })

                $('#codTipoAlergenicoAdd').val(null);
                $('#codTipoAlergenicoAdd').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });



            }
        })



    }




    function statusEncerramentoAtendimentAgora() {


        $.ajax({
            url: '<?php echo base_url('atendimentos/statusEncerramentoAtendimentAgora') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                codAtendimento: codAtendimentoTmp,
                codStatus: document.getElementById('codStatusEncerramentoAtendimentoAlter').value,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(StatusEncerramentoAtendimentos) {


                if (StatusEncerramentoAtendimentos.success === true) {

                    if ($('#statusEncerramentoAtendimentoModal').is(':visible') == true) {
                        $('#statusEncerramentoAtendimentoModal').modal('hide');
                    }


                    if ($('#editarAtendimentoModal').is(':visible') == true) {
                        $('#editarAtendimentoModal').modal('hide');
                    }


                    if ($('#perfilPacienteModal').is(':visible') == true) {
                        $('#perfilPacienteModal').modal('hide');
                    }

                    if ($('#agendadosAmbulatorioModal').is(':visible') == true) {
                        $('#data_tableagendamentos').DataTable().ajax.reload(null, false).draw(false);

                    }

                    if ($('#prontuarioModal').is(':visible') == true) {
                        todosAtendimentos(codPacienteTmp);
						//$('#data_tableAtendimentos').DataTable().ajax.reload(null, false).draw(false);

                    }

                    Swal.fire({
                        position: 'bottom-end',
                        icon: 'success',
                        html: StatusEncerramentoAtendimentos.messages,
                        showConfirmButton: false,
                        timer: 3000
                    })
                }


                if (StatusEncerramentoAtendimentos.success === false) {

                    {

                        $('#statusEncerramentoAtendimentoModal').modal('hide');
                        Swal.fire({
                            position: 'bottom-end',
                            icon: 'error',
                            html: StatusEncerramentoAtendimentos.messages,
                            showConfirmButton: false,
                            timer: 4000
                        })

                    }


                }


            }
        })

    }


    function modificarStatusAgora() {


        $.ajax({
            url: '<?php echo base_url('atendimentos/modificarStatusAgora') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                codAtendimento: codAtendimentoTmp,
                codStatus: document.getElementById('codStatusAtendimentoAlter').value,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(StatusAtendimentos) {

                if (StatusAtendimentos.success === true) {
                    $('#modificarStatusAtendimentoModal').modal('hide');
                    $codStatusTmp = document.getElementById('codStatusAtendimentoAlter').value;

                    document.getElementById('AtendimentoStatusInfo').innerHTML = StatusAtendimentos.descricaoStatusAtendimento;

                    if ($('#prontuarioModal').is(':visible') == true) {
                        todosAtendimentos(codPacienteTmp);
						//$('#data_tableAtendimentos').DataTable().ajax.reload(null, false).draw(false);
                    }

                    if ($('#listaUrgenciaEmergenciaModal').is(':visible') == true) {
                        $('#data_tableListarUrgenciaEmergenciaAcolhimento').DataTable().ajax.reload(null, false).draw(false);
                        $('#data_tableListarUrgenciaEmergenciaEmAtendimento').DataTable().ajax.reload(null, false).draw(false);

                    }
                    if ($('#listaInternadosModal').is(':visible') == true) {
                        $('#data_tableListarInternados').DataTable().ajax.reload(null, false).draw(false);

                    }

                    Swal.fire({
                        position: 'bottom-end',
                        icon: 'success',
                        html: StatusAtendimentos.messages,
                        showConfirmButton: false,
                        timer: 3000
                    })
                }


                if (StatusAtendimentos.success === false) {

                    {

                        $('#modificarStatusAtendimentoModal').modal('hide');
                        Swal.fire({
                            position: 'bottom-end',
                            icon: 'error',
                            html: StatusAtendimentos.messages,
                            showConfirmButton: false,
                            timer: 4000
                        })

                    }


                }


            }
        })

    }

    function btnReabrirAtendimento() {




        Swal.fire({
            title: 'Você tem certeza que deseja reabrir esta atendimento',
            icon: 'info',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Sim',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {


                $.ajax({
                    url: '<?php echo base_url('atendimentos/reabrirAtendimento') ?>',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        codAtendimento: codAtendimentoTmp,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    success: function(StatusAtendimentos) {

                        if (StatusAtendimentos.success == 'ocupado') {

                            Swal.fire({
                                icon: 'warning',
                                title: StatusAtendimentos.messages1,
                                html: StatusAtendimentos.messages2,
                                showConfirmButton: true,
                                showCancelButton: true,
                                confirmButtonColor: '#3085d6',
                                cancelButtonColor: '#d33',
                                confirmButtonText: 'Selecionar leito',
                                cancelButtonText: 'Cancelar',
                            }).then((result) => {

                                if (result.value) {

                                    transferirPaciente(codAtendimentoTmp);

                                }


                            })

                        }

                        if (StatusAtendimentos.success === true) {
                            $('#modificarStatusAtendimentoModal').modal('hide');
                            $codStatusTmp = document.getElementById('codStatusAtendimentoAlter').value;

                            document.getElementById('AtendimentoStatusInfo').innerHTML = StatusAtendimentos.descricaoStatusAtendimento;

                            if ($('#prontuarioModal').is(':visible') == true) {
                                todosAtendimentos(codPacienteTmp);
						//$('#data_tableAtendimentos').DataTable().ajax.reload(null, false).draw(false);
                            }

                            if ($('#listaUrgenciaEmergenciaModal').is(':visible') == true) {
                                $('#data_tableListarUrgenciaEmergenciaAcolhimento').DataTable().ajax.reload(null, false).draw(false);
                                $('#data_tableListarUrgenciaEmergenciaEmAtendimento').DataTable().ajax.reload(null, false).draw(false);

                            }
                            if ($('#listaInternadosModal').is(':visible') == true) {
                                $('#data_tableListarInternados').DataTable().ajax.reload(null, false).draw(false);

                            }


                            Swal.fire({
                                position: 'bottom-end',
                                icon: 'success',
                                html: StatusAtendimentos.messages,
                                showConfirmButton: false,
                                timer: 3000
                            })


                            editarAtendimento(codAtendimentoTmp)


                        }




                        if (StatusAtendimentos.success === false) {

                            {

                                $('#modificarStatusAtendimentoModal').modal('hide');
                                Swal.fire({
                                    position: 'bottom-end',
                                    icon: 'error',
                                    html: StatusAtendimentos.messages,
                                    showConfirmButton: false,
                                    timer: 4000
                                })

                            }


                        }


                    }
                })


            }
        })

    }


    function modificarStatus() {

        $('#modificarStatusAtendimentoModal').modal('show');




        $.ajax({
            url: '<?php echo base_url('atendimentos/listaDropDownStatusAtendimento') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(StatusAtendimentos) {

                $("#codStatusAtendimentoAlter").select2({
                    data: StatusAtendimentos,
                })

                $('#codStatusAtendimentoAlter').val(null);
                $('#codStatusAtendimentoAlter').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });



            }
        });



    }


    function btnEncerrarAtendimento() {

        $('#statusEncerramentoAtendimentoModal').modal('show');




        $.ajax({
            url: '<?php echo base_url('atendimentos/listaDropDownStatusEncerramentoAtendimento') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(StatusAtendimentos) {

                $("#codStatusEncerramentoAtendimentoAlter").select2({
                    data: StatusAtendimentos,
                })

                $('#codStatusEncerramentoAtendimentoAlter').val(null);
                $('#codStatusEncerramentoAtendimentoAlter').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });



            }
        });



    }

    function editarAtendimento(codAtendimento) {


        codAtendimentoTmp = codAtendimento;

        document.getElementById('htmlHistoricoPaciente').innerHTML = '';


        document.getElementById('codAtendimentoAnamnese').value = codAtendimento;
        document.getElementById('codAtendimentoPrescricoesAdd').value = codAtendimento;
        document.getElementById('codAtendimentoDiagnosticoAdd').value = codAtendimento;
        document.getElementById("editarAtendimentoModalHeader").innerHTML = nomeCargoTmp + ' ' + nomePacienteTmp + ' | ' + siglaTipoBeneficiarioTmp + ' | ' + idadePacienteTmp + ' | PRONT: ' + codProntuarioTmp + ' | PREC: ' + codPlanoTmp;


        if (especialidadeAuxiliar == 1) {
            document.getElementById("anamneseTabs-hda-tab").style.display = "none";
            document.getElementById("anamneseTabs-hmp-tab").style.display = "none";
            document.getElementById("anamneseTabs-alergias-tab").style.display = "none";
            document.getElementById("anamneseTabs-medicamentos-tab").style.display = "none";
            document.getElementById("editarAtendimento-diagnostico-tab").style.display = "none";
            document.getElementById("editarAtendimento-condutas-tab").style.display = "none";
            //document.getElementById("editarAtendimento-evolucao-tab").style.display = "none";  -- EVOLUÇÃO DO PACIENTE É VISTA PELOS ENFERMEIROS. ALTERADO POR EMANUEL EM 04/09/22
            document.getElementById("editarAtendimento-parecer-tab").style.display = "none";
            document.getElementById("btnEncerrarAtendimento").style.display = "none";

        }




        $.ajax({
            url: '<?php echo base_url('AtendimentoAnamnese/getOnePorCodAtendimento') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                codAtendimento: codAtendimento,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(editarAnamnese) {

                codLocalAtendimentoTmp = editarAnamnese.codLocalAtendimento;

                if ($('#prontuarioModal').is(':visible') == true) {
                    //$('#prontuarioModal').modal('hide');
                }

                $('#editarAtendimentoModal').modal('show');

                //DEFAULT
                document.getElementById("classificacaoManchesterHeader").style.backgroundColor = 'blue';
                document.getElementById("classificacaoManchesterHeader").style.color = '#fff';


                if (editarAnamnese.codClasseRisco == 1) {
                    document.getElementById("classificacaoManchesterHeader").style.backgroundColor = 'blue';
                    document.getElementById("classificacaoManchesterHeader").style.color = '#fff';

                }
                if (editarAnamnese.codClasseRisco == 2) {
                    document.getElementById("classificacaoManchesterHeader").style.backgroundColor = 'green';
                    document.getElementById("classificacaoManchesterHeader").style.color = '#000';

                }
                if (editarAnamnese.codClasseRisco == 3) {
                    document.getElementById("classificacaoManchesterHeader").style.backgroundColor = '#ffc1079e';
                    document.getElementById("classificacaoManchesterHeader").style.color = '#000';

                }
                if (editarAnamnese.codClasseRisco == 4) {
                    document.getElementById("classificacaoManchesterHeader").style.backgroundColor = 'orange';
                    document.getElementById("classificacaoManchesterHeader").style.color = '#fff';

                }
                if (editarAnamnese.codClasseRisco == 5) {
                    document.getElementById("classificacaoManchesterHeader").style.backgroundColor = 'blue';
                    document.getElementById("classificacaoManchesterHeader").style.color = '#fff';

                }

                //botao Boletim
                document.getElementById('btnImprimirBoletimAtendimento').innerHTML = '<div class="col-md-12">' +
                    '<button type="button" class="btn btn-sm btn-light" onclick="imprimirBoletimAtendimento(' + codAtendimento + ')">' +
                    'Imprimir Boletim de Atendimento' +
                    '</button>' +
                    '</div>';



                //botao Documento Cirurgico
                document.getElementById('addBtnAtoCirurgico').innerHTML = '<div class="row">' +
                    '<button id="btnAtoCirurgico" type="button" class="btn btn-primary" onclick="addatoCirurgico(' + codAtendimento + ')">' +
                    'Novo' +
                    '</button>' +
                    '</div>';

                //botao Transferir

                document.getElementById('btnTransferirLeito').innerHTML = '';
                if (editarAnamnese.codTipoAtendimento == 5 || editarAnamnese.codTipoAtendimento == 1 || editarAnamnese.codTipoAtendimento == 4 || editarAnamnese.codStatusAtendimento == 7) {
                    document.getElementById('btnTransferirLeito').innerHTML = '<div class="col-md-12">' +
                        '<button  style="margin-top:5px; font-weight: bold;;width: 120px !important;" type="button" class="btn btn-xs btn-success" onclick="transferirPaciente(' + codAtendimento + ')">' +
                        'Transferir de Leito' +
                        '</button>' +
                        '</div>';
                }


                //botao Boletim
                document.getElementById('btnHistoricoPaciente').innerHTML = '<div class="col-md-6">' +
                    '<button type="button" class="btn btn-sm btn-primary" onclick="pegaHistoricoPaciente()">' +
                    'Ver Histórico do Paciente' +
                    '</button>' +
                    '</div>';


                document.getElementById('AtendimentoStatusInfo').innerHTML = editarAnamnese.descricaoStatusAtendimento;

                codStatusTmp = editarAnamnese.codStatusAtendimento;


                swal.close();



                //PARAMETROS CLINICOS

                if (editarAnamnese.altura == null) {
                    setAutura = '';
                } else {
                    setAutura = editarAnamnese.altura;
                }

                imc = '';

                if (editarAnamnese.peso > 0 && setAutura > 0) {
                    peso = parseFloat(editarAnamnese.peso).toFixed(2);
                    altura = parseFloat(editarAnamnese.altura).toFixed(2);
                    imc = parseFloat(peso / Math.pow(altura, 2)).toFixed(2);
                }

                if (imc > 0) {
                    document.getElementById('imcAdd').innerHTML = imc;
                } else {
                    document.getElementById('imcAdd').innerHTML = '';
                }




                document.getElementById('peso').value = editarAnamnese.peso;
                document.getElementById('altura').value = setAutura;
                document.getElementById('perimetroCefalico').value = editarAnamnese.perimetroCefalico;
                document.getElementById('parimetroAbdominal').value = editarAnamnese.parimetroAbdominal;
                document.getElementById('paSistolica').value = editarAnamnese.paSistolica;
                document.getElementById('paDiastolica').value = editarAnamnese.paDiastolica;
                document.getElementById('fc').value = editarAnamnese.fc;
                document.getElementById('fr').value = editarAnamnese.fr;
                document.getElementById('temperatura').value = editarAnamnese.temperatura;
                document.getElementById('saturacao').value = editarAnamnese.saturacao;
                document.getElementById('glicemiaJejum').value = editarAnamnese.glicemiaJejum;
                document.getElementById('glicemiaPosPrandial').value = editarAnamnese.glicemiaPosPrandial;




                //COMORBIDADES


                if (editarAnamnese.diabetesMellitus == 1) {
                    document.getElementById("diabetesMellitus").checked = true;
                } else {
                    document.getElementById("diabetesMellitus").checked = false;
                }


                if (editarAnamnese.pneumopatiaCronicaGrave == 1) {
                    document.getElementById("pneumopatiaCronicaGrave").checked = true;
                } else {
                    document.getElementById("pneumopatiaCronicaGrave").checked = false;
                }

                if (editarAnamnese.har == 1) {
                    document.getElementById("har").checked = true;
                } else {
                    document.getElementById("har").checked = false;
                }


                if (editarAnamnese.hae3 == 1) {
                    document.getElementById("hae3").checked = true;
                } else {
                    document.getElementById("hae3").checked = false;
                }

                if (editarAnamnese.hae12 == 1) {
                    document.getElementById("hae12").checked = true;
                } else {
                    document.getElementById("hae12").checked = false;
                }

                if (editarAnamnese.miocarPericar == 1) {
                    document.getElementById("miocarPericar").checked = true;
                } else {
                    document.getElementById("miocarPericar").checked = false;
                }

                if (editarAnamnese.ic == 1) {
                    document.getElementById("ic").checked = true;
                } else {
                    document.getElementById("ic").checked = false;
                }


                if (editarAnamnese.cphp == 1) {
                    document.getElementById("cphp").checked = true;
                } else {
                    document.getElementById("cphp").checked = false;
                }


                if (editarAnamnese.ch == 1) {
                    document.getElementById("ch").checked = true;
                } else {
                    document.getElementById("ch").checked = false;
                }


                if (editarAnamnese.sc == 1) {
                    document.getElementById("sc").checked = true;
                } else {
                    document.getElementById("sc").checked = false;
                }


                if (editarAnamnese.valvopatia == 1) {
                    document.getElementById("valvopatia").checked = true;
                } else {
                    document.getElementById("valvopatia").checked = false;
                }


                if (editarAnamnese.aortaVasosFistulas == 1) {
                    document.getElementById("aortaVasosFistulas").checked = true;
                } else {
                    document.getElementById("aortaVasosFistulas").checked = false;
                }

                if (editarAnamnese.arritimiasCardiacas == 1) {
                    document.getElementById("arritimiasCardiacas").checked = true;
                } else {
                    document.getElementById("arritimiasCardiacas").checked = false;
                }



                if (editarAnamnese.cardiopatiaCongenitaAdulto == 1) {
                    document.getElementById("cardiopatiaCongenitaAdulto").checked = true;
                } else {
                    document.getElementById("cardiopatiaCongenitaAdulto").checked = false;
                }


                if (editarAnamnese.protesesValvaresDispCardImplatados == 1) {
                    document.getElementById("protesesValvaresDispCardImplatados").checked = true;
                } else {
                    document.getElementById("protesesValvaresDispCardImplatados").checked = false;
                }



                if (editarAnamnese.doencaCerebroVascular == 1) {
                    document.getElementById("doencaCerebroVascular").checked = true;
                } else {
                    document.getElementById("doencaCerebroVascular").checked = false;
                }


                if (editarAnamnese.doencaRenalCronica == 1) {
                    document.getElementById("doencaRenalCronica").checked = true;
                } else {
                    document.getElementById("doencaRenalCronica").checked = false;
                }


                if (editarAnamnese.imuninosuprimido == 1) {
                    document.getElementById("imuninosuprimido").checked = true;
                } else {
                    document.getElementById("imuninosuprimido").checked = false;
                }

                if (editarAnamnese.hemoglobinopatiaGrave == 1) {
                    document.getElementById("hemoglobinopatiaGrave").checked = true;
                } else {
                    document.getElementById("hemoglobinopatiaGrave").checked = false;
                }


                if (editarAnamnese.obesidadeMorbida == 1) {
                    document.getElementById("obesidadeMorbida").checked = true;
                } else {
                    document.getElementById("obesidadeMorbida").checked = false;
                }


                if (editarAnamnese.sindromeDown == 1) {
                    document.getElementById("sindromeDown").checked = true;
                } else {
                    document.getElementById("sindromeDown").checked = false;
                }

                if (editarAnamnese.cirroseHepatica == 1) {
                    document.getElementById("cirroseHepatica").checked = true;
                } else {
                    document.getElementById("cirroseHepatica").checked = false;
                }

                //PEGA TEMPO ATENDIMENTO
                $.ajax({
                    url: '<?php echo base_url('Atendimentos/pegaDiasAtendimento') ?>',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        codAtendimento: codAtendimento,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    success: function(resultado) {



                        if (resultado.dataEncerramento !== null) {
                            document.getElementById('tempoAtendimentoInfoContador').style.display = 'none';
                            document.getElementById('tempoAtendimentoInfo').style.display = 'inline';
                            document.getElementById('tempoAtendimentoInfo').innerHTML = resultado.tempoAtendimento;

                        } else {

                            document.getElementById('tempoAtendimentoInfoContador').style.display = 'inline';
                            document.getElementById('tempoAtendimentoInfo').style.display = 'none';

                            document.getElementById('tempoAtendimentoInfoContador').innerHTML = resultado.tempoAtendimento;
                        }

                    }
                })




                if (editarAnamnese.codTipoAtendimento == 4) {


                    //PREVISÃO DE ALTA
                    $.ajax({
                        url: '<?php echo base_url('Atendimentos/previsaoAlta') ?>',
                        type: 'post',
                        dataType: 'json',
                        data: {
                            codAtendimento: codAtendimento,
                            csrf_sandra: $("#csrf_sandraPrincipal").val(),
                        },
                        success: function(dataAlta) {


                            if (dataAlta.dataPrevAlta !== null) {

                                document.getElementById('previsaoAltaInfo').innerHTML = dataAlta.dataPrevAlta;
                                document.getElementById('diasParaAltaInfo').innerHTML = dataAlta.diasParaAlta;
                            } else {

                                if (dataAlta.indeterminado == 1) {

                                    document.getElementById('previsaoAltaInfo').innerHTML = 'Indeterminado';
                                    document.getElementById('diasParaAltaInfo').innerHTML = null;
                                } else {

                                    document.getElementById('previsaoAltaInfo').innerHTML = 'Não Informado';
                                    document.getElementById('diasParaAltaInfo').innerHTML = null;

                                    document.getElementById('diasParaAltaInfo').innerHTML = dataAlta.diasParaAlta;

                                    if (dataAlta.perguntar == '1' && dataAlta.indeterminado !== 1) {
                                        Swal.fire({
                                            title: 'Não identificamos a previsão de alta',
                                            text: "Deseja informar agora?",
                                            icon: 'warning',
                                            showCancelButton: true,
                                            confirmButtonColor: '#3085d6',
                                            cancelButtonColor: '#d33',
                                            confirmButtonText: 'Sim',
                                            cancelButtonText: 'Depois'
                                        }).then((result) => {
                                            if (result.value) {

                                                adicionarPrevisaoAlta(codAtendimento)
                                            }


                                        })
                                    } else {
                                        document.getElementById('previsaoAltaInfo').innerHTML = 'Não se aplica';

                                    }


                                }



                            }

                        }
                    })


                    //botao Boletim
                    document.getElementById('btnprevisaoAlta').innerHTML = '<div class="col-md-12">' +
                        '<button id="btnAadicionarPrevisaoAlta" type="button" class="btn btn-sm btn-light" onclick="adicionarPrevisaoAlta(' + codAtendimento + ')">' +
                        'Adicionar Previsão' +
                        '</button>' +
                        '</div>';


                    document.getElementById('btnprevisaoAlta2').innerHTML = '<div class="col-md-12">' +
                        '<button id="btnAadicionarPrevisaoAlta" type="button" class="btn btn-sm btn-primary" onclick="adicionarPrevisaoAlta(' + codAtendimento + ')">' +
                        'Adicionar Previsão' +
                        '</button>' +
                        '</div>';
                } else {

                    document.getElementById('tituloPrevisaoAlta').innerHTML = 'Tipo Atendimento';

                    document.getElementById('previsaoAltaInfo').innerHTML = editarAnamnese.descricaoTipoAtendimento;
                }





                //ALERGIAS
                $.ajax({
                    url: '<?php echo base_url('Atendimentos/pegaAlergias') ?>',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        codAtendimento: codAtendimento,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    success: function(alergias) {

                        if (alergias.listaAlergia !== null) {

                            document.getElementById('listaAlergia').innerHTML = alergias.listaAlergia;
                        } else {

                            document.getElementById('listaAlergia').innerHTML = 'Não Informado';
                        }

                    }
                })



                if (editarAnamnese.codTipoAtendimento == 2) {
                    //CONSULTA AMBULATÓRIO
                    $("#abaPrescricoes").show();
                    $("#abaConduta").show();
                }
                $("#queixaPrincipalTextarea").summernote("code", editarAnamnese.queixaPrincipal);
                $("#hdaTextarea").summernote("code", editarAnamnese.hda);
                $("#hmpTextarea").summernote("code", editarAnamnese.hmp);
                $("#exameFisicoTextarea").summernote("code", editarAnamnese.exameFisico);
                $("#historiaAlergiasTextarea").summernote("code", editarAnamnese.historiaAlergias);
                $("#historiaMedicamentosContinuoTextarea").summernote("code", editarAnamnese.historiaMedicamentos);
                $("#outrasInformacoesTextarea").summernote("code", editarAnamnese.outrasInformacoes);

                codPessoaTmp = '<?php echo session()->codPessoa ?>';


                $("#hdaTextarea").summernote("enable");
                $("#queixaPrincipalTextarea").summernote("enable");
                $("#hmpTextarea").summernote("enable");
                $("#exameFisicoTextarea").summernote("enable");

                /*
                if (editarAnamnese.passou24Horas == 1 && editarAnamnese.hda !== null) {
                	$("#hdaTextarea").summernote("disable");
                	$("#queixaPrincipalTextarea").summernote("disable");
                	$("#hmpTextarea").summernote("disable");
                }
                */



                statusConcluido = ['2', '3', '8', '9', '11'];


                if (statusConcluido.includes(editarAnamnese.codStatusAtendimento)) {
                    $("#hdaTextarea").summernote("disable");
                    $("#queixaPrincipalTextarea").summernote("disable");
                    $("#hmpTextarea").summernote("disable");
                    $("#exameFisicoTextarea").summernote("disable");
                    $('#btnReabrirAtendimento').show();
                    $('#modificaStatusAtendimento').hide();
                    $('#btnclassificacaoRiscoUrgenciaEmergencia').hide();
                    $('#btnTransferirLeito').hide();
                    $('#btnSalvarAnamnese').hide();
                    $('#btnAtendimentoDiagnostico').hide();
                    $('#btnAtendimentosCondutas').hide();
                    $('#btnAtendimentosEvolucoes').hide();
                    $('#criarNovaPrescricao').hide();
                    $('#btnAtendimentosPareceres').hide();
                    $('#btnAtendimentosReceita').hide();
                    $('#btnAadicionarPrevisaoAlta').hide();
                    $('#editarAtendimento-PrevisaoAltaPaciente-tab').hide();




                } else {

                    $('#btnReabrirAtendimento').hide();
                    $('#modificaStatusAtendimento').show();
                    $('#btnclassificacaoRiscoUrgenciaEmergencia').show();
                    $('#btnTransferirLeito').show();
                    $('#btnSalvarAnamnese').show();
                    $('#btnAtendimentoDiagnostico').show();
                    $('#btnAtendimentosCondutas').show();
                    $('#btnAtendimentosEvolucoes').show();
                    $('#criarNovaPrescricao').show();
                    $('#btnAtendimentosPareceres').show();
                    $('#btnAtendimentosReceita').show();
                    $('#btnAadicionarPrevisaoAlta').show();
                    $('#editarAtendimento-PrevisaoAltaPaciente-tab').show();

                    if (editarAnamnese.codTipoAtendimento == 4 || editarAnamnese.codTipoAtendimento == 1) {

                        $('#btnprevisaoAlta').show();
                    } else {

                        $('#btnprevisaoAlta').hide();
                    }

                }





                if (editarAnamnese.autorAtendimento !== codPessoaTmp && editarAnamnese.hda !== null) {
                    $("#hdaTextarea").summernote("disable");
                    $("#queixaPrincipalTextarea").summernote("disable");
                    $("#hmpTextarea").summernote("disable");
                    $("#exameFisicoTextarea").summernote("disable");
                }


            }
        }).always(
            Swal.fire({
                title: 'Estamos buscando todas as informações do atendimento',
                html: 'Aguarde....',
                timerProgressBar: true,
                didOpen: () => {
                    Swal.showLoading()
                }

            }));









        //DIAGNÓSTICO

        $('#data_tableatendimentoDiagnostico').DataTable({
            "bDestroy": true,
            "paging": true,
            "deferRender": true,
            "lengthChange": false,
            "searching": true,
            "ordering": false,
            "info": true,
            "autoWidth": false,
            "responsive": true,
            "ajax": {
                "url": '<?php echo base_url('atendimentoDiagnostico/getAllPorAtendimento') ?>',
                "type": "POST",
                "dataType": "json",
                async: "true",
                data: {
                    codAtendimento: codAtendimento,
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },
            }
        });

        //DIAGNÓSTICO HISTÓRICO

        $('#data_tableatendimentoDiagnosticoHistorico').DataTable({
            "bDestroy": true,
            "paging": true,
            "pageLength": 50,
            "deferRender": true,
            "lengthChange": false,
            "searching": true,
            "ordering": false,
            "info": true,
            "autoWidth": false,
            "responsive": true,
            "ajax": {
                "url": '<?php echo base_url('atendimentoDiagnostico/getAllPorAtendimentoHistorico') ?>',
                "type": "POST",
                "dataType": "json",
                async: "true",
                data: {
                    codAtendimento: codAtendimento,
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },
            }
        });

        //CONDUTAS

        $('#data_tableatendimentosCondutas').DataTable({
            "bDestroy": true,
            "paging": true,
            "deferRender": true,
            "lengthChange": false,
            "searching": true,
            "ordering": false,
            "info": true,
            "autoWidth": false,
            "responsive": true,
            "ajax": {
                "url": '<?php echo base_url('atendimentosCondutas/getAllCondutas') ?>',
                "type": "POST",
                "dataType": "json",
                async: "true",
                data: {
                    codAtendimento: codAtendimento,
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },
            }
        });



        $('#data_tableatendimentosEvolucoes').DataTable({
            "bDestroy": true,
            "paging": true,
            "deferRender": true,
            "lengthChange": false,
            "searching": true,
            "ordering": false,
            "info": true,
            "autoWidth": false,
            "responsive": true,
            "ajax": {
                "url": '<?php echo base_url('atendimentosEvolucoes/getAllEvolucoes') ?>',
                "type": "POST",
                "dataType": "json",
                async: "true",
                data: {
                    codAtendimento: codAtendimento,
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },
            }
        });

        $('#data_tableatendimentosPareceres').DataTable({
            "bDestroy": true,
            "paging": true,
            "deferRender": true,
            "lengthChange": false,
            "searching": true,
            "ordering": false,
            "info": true,
            "autoWidth": false,
            "responsive": true,
            "ajax": {
                "url": '<?php echo base_url('atendimentosPareceres/getAllPareceres') ?>',
                "type": "POST",
                "dataType": "json",
                async: "true",
                data: {
                    codAtendimento: codAtendimento,
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },
            }
        });

        $('#data_tableatendimentosDocumentos').DataTable({
            "bDestroy": true,
            "paging": true,
            "deferRender": true,
            "lengthChange": false,
            "searching": true,
            "ordering": false,
            "info": true,
            "autoWidth": false,
            "responsive": true,
            "ajax": {
                "url": '<?php echo base_url('atendimentosDocumentos/getAllDocumentos') ?>',
                "type": "POST",
                "dataType": "json",
                async: "true",
                data: {
                    codAtendimento: codAtendimento,
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },
            }
        });

        $('#data_tableatoCirurgico').DataTable({
            "bDestroy": true,
            "paging": true,
            "deferRender": true,
            "lengthChange": false,
            "searching": true,
            "ordering": true,
            "info": true,
            "autoWidth": false,
            "responsive": true,
            "ajax": {
                "url": '<?php echo base_url('atoCirurgico/getAllDocumentosCirurgicos') ?>',
                "type": "POST",
                "dataType": "json",
                async: "true",
                data: {
                    codAtendimento: codAtendimento,
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },
            }
        });

        $('#data_tableatendimentosPrescricoes').DataTable({
            "bDestroy": true,
            "paging": true,
            "deferRender": true,
            "lengthChange": false,
            "searching": true,
            "ordering": false,
            "info": true,
            "autoWidth": false,
            "responsive": true,
            "ajax": {
                "url": '<?php echo base_url('atendimentosPrescricoes/getAllPrescricoes') ?>',
                "type": "POST",
                "dataType": "json",
                async: "true",
                data: {
                    codAtendimento: codAtendimento,
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },
            }
        });



        $('#data_tablepacientesAlergia').DataTable({


            bDestroy: true,
            "paging": false,
            "lengthChange": false,
            "searching": false,
            "ordering": false,
            "info": false,
            "autoWidth": false,
            "responsive": false,
            "ajax": {
                "url": '<?php echo base_url('pacientes/pacientesAlergia') ?>',
                "type": "POST",
                data: {
                    codPaciente: codPacienteTmp,
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },
                "dataType": "json",
                async: "true",
            }
        });

        $('#data_tablepacientesMedicamentosContinuo').DataTable({
            "bDestroy": true,
            "paging": false,
            "lengthChange": false,
            "searching": false,
            "ordering": false,
            "info": false,
            "autoWidth": false,
            "responsive": false,
            "ajax": {
                "url": '<?php echo base_url('pacientesMedicamentosContinuo/getAllcodPaciente') ?>',
                "type": "POST",
                data: {
                    codPaciente: codPacienteTmp,
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },
                "dataType": "json",
                async: "true",
            }
        });

        $('#data_tableindicacoesClinicas').DataTable({
            "bDestroy": true,
            "paging": true,
            "lengthChange": false,
            "searching": true,
            "ordering": false,
            "info": false,
            "autoWidth": false,
            "responsive": false,
            "ajax": {
                "url": '<?php echo base_url('IndicacoesClinicas/indicacoesPaciente') ?>',
                "type": "POST",
                data: {
                    codPaciente: codPacienteTmp,
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },
                "dataType": "json",
                async: "true",
            }
        });

        $('#data_tableprevisaoAlta').DataTable({
            "bDestroy": true,
            "paging": true,
            "deferRender": true,
            "lengthChange": false,
            "searching": true,
            "ordering": true,
            "info": true,
            "autoWidth": false,
            "responsive": true,
            "ajax": {
                "url": '<?php echo base_url('previsaoAlta/getAll') ?>',
                "type": "POST",
                "dataType": "json",
                async: "true",
                data: {
                    codAtendimento: codAtendimento,
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },
            }
        });


    }




    function prontuarioAPartirdoPamo(codPaciente) {


        perfilPaciente(codPaciente);
        prontuario(codPaciente);
    }

    function prontuario(codPaciente) {

        

        
        		//LIMPA FILTRO

        		codEspecialidadeFiltroProntuario = 0;
        		codTipoAtendimentoFiltroProntuario = 0;

        				$.ajax({
        					url: '<?php echo base_url('atendimentos/limpaFiltroProntuario') ?>',
        					type: 'post',
        					dataType: 'json',
        					data: {
        						csrf_sandra: $("#csrf_sandraPrincipal").val(),
        					},
        					success: function(limpaFiltroProntuario) {

        						if (limpaFiltroProntuario.success === true) {
                                                    
                                $('#codEspecialidadeFiltroProntuario').val(0);
                                $('#codEspecialidadeFiltroProntuario').trigger('change');

                                $('#codTipoAtendimentoFiltroProntuario').val(0);
                                $('#codTipoAtendimentoFiltroProntuario').trigger('change');


        						}
        					}
        				})
        		

        statusMinhasEspecialidades = '<?php echo $statusMinhasEspecialidades ?>';
        perfilAdmin = '<?php echo session()->perfilAdmin ?>';

        if (statusMinhasEspecialidades == 0) {

            Swal.fire({
                position: 'bottom-end',
                icon: 'warning',
                title: 'Apenas profissionais de saúde tem acesso a este recurso',
                showConfirmButton: false,
                timer: 4000
            });
            //exit();
            throw new Error('Apenas profissionais de saúde tem acesso a este recurso');

        }
        if (statusMinhasEspecialidades == 1 || perfilAdmin == 1) {
            $('#prontuarioModal').modal('show');

            avisoPesquisa('Prontuário Eletrônico', 7);

            document.getElementById("tituloProntuarioModal").innerHTML = nomeCargoTmp + ' ' + nomePacienteTmp + ' | ' + siglaTipoBeneficiarioTmp + ' | ' + idadePacienteTmp + ' | PRONT: ' + codProntuarioTmp + ' | PREC: ' + codPlanoTmp;

            document.getElementById("botaoIniciaAtendimentoProntuario").innerHTML = '<div><button type="button" class="btn btn-lg btn-primary" data-toggle="tooltip" data-placement="top" onclick="iniciarAtendimento(' + codPaciente + ')"><i class="fa fa-edit"></i>NOVO CASO CLÍNICO</button></div>';



			todosAtendimentos(codPaciente);



            $('#data_tableindicacoesClinicasGeral').DataTable({
                "bDestroy": true,
                "paging": true,
                "lengthChange": false,
                "searching": true,
                "ordering": false,
                "info": false,
                "autoWidth": false,
                "responsive": false,
                "ajax": {
                    "url": '<?php echo base_url('IndicacoesClinicas/indicacoesPaciente') ?>',
                    "type": "POST",
                    data: {
                        codPaciente: codPacienteTmp,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    "dataType": "json",
                    async: "true",
                }
            });



            $.ajax({
                url: '<?php echo base_url('especialidades/listaDropDownEspecialidades') ?>',
                type: 'post',
                dataType: 'json',
                data: {
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },
                success: function(EspecialidadeFiltroProntuario) {

                    $("#codEspecialidadeFiltroProntuario").select2({
                        data: EspecialidadeFiltroProntuario,
                    })


                }
            });



            $.ajax({
                url: '<?php echo base_url('atendimentos/listaDropDownTiposAtendimentos') ?>',
                type: 'post',
                dataType: 'json',
                data: {
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },
                success: function(TipoAtendimentoFiltroProntuario) {

                    $("#codTipoAtendimentoFiltroProntuario").select2({
                        data: TipoAtendimentoFiltroProntuario,
                    })




                }
            });




        }



    }




	function todosAtendimentos(codPaciente) {

        
		$("#verTodosAtendimentos").html('');
		$.ajax({
				url: '<?php echo base_url('atendimentos/todosAtendimentos') ?>',
				type: 'post',
				dataType: 'json',
				data: {
					codPaciente: codPaciente,
					csrf_sandra: $("#csrf_sandraPrincipal").val(),
				},
				success: function(todosAtendimentos) {

					$("#verTodosAtendimentos").html(todosAtendimentos.html);
					
				}
			});
	}

	


    function iniciarAtendimentoAgendado(codAgendamento) {


        //marcar que chegou

        $.ajax({
            url: '<?php echo base_url('agendamentos/chegou') ?>',
            type: 'post',
            data: {
                codAgendamento: codAgendamento,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            dataType: 'json',
            success: function(response) {
                $('#data_tableagendamentos').DataTable().ajax.reload(null, false).draw(false);

            }
        })



        statusMinhasEspecialidades = '<?php echo $statusMinhasEspecialidades ?>';

        if (statusMinhasEspecialidades == 0) {
            Swal.fire({
                position: 'bottom-end',
                icon: 'warning',
                title: 'Apenas profissionais de saúde tem acesso a este recurso',
                showConfirmButton: false,
                timer: 4000
            })
            throw new Error('Apenas profissionais de saúde tem acesso a este recurso');


        }


        $.ajax({
            url: '<?php echo base_url('atendimentos/iniciarAtendimentoAgendado') ?>',
            type: 'post',
            data: {
                codAgendamento: codAgendamento,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            dataType: 'json',
            success: function(iniciarAtendimentoAgendado) {
                nomePacienteTmp = iniciarAtendimentoAgendado.nomeCompleto;
                codProntuarioTmp = iniciarAtendimentoAgendado.codProntuario;
                siglaTipoBeneficiarioTmp = iniciarAtendimentoAgendado.siglaTipoBeneficiario;
                codPlanoTmp = iniciarAtendimentoAgendado.codPlano;
                idadePacienteTmp = iniciarAtendimentoAgendado.idade;
                nomeCargoTmp = iniciarAtendimentoAgendado.siglaCargo;
                nomeTipoBeneficiarioTmp = iniciarAtendimentoAgendado.nomeTipoBeneficiario;
                Swal.close();

                if (iniciarAtendimentoAgendado.success === true) {
                    perfilPaciente(iniciarAtendimentoAgendado.codPaciente);
                    prontuario(iniciarAtendimentoAgendado.codPaciente);
                    editarAtendimento(iniciarAtendimentoAgendado.codAtendimento);
                }

                if (iniciarAtendimentoAgendado.success === false) {
                    Swal.fire({
                        position: 'bottom-end',
                        icon: 'error',
                        title: iniciarAtendimentoAgendado.messages,
                        showConfirmButton: false,
                        timer: 4000
                    })
                }

                if (iniciarAtendimentoAgendado.success === 'info') {
                    Swal.fire({
                        position: 'bottom-end',
                        icon: 'info',
                        title: iniciarAtendimentoAgendado.messages,
                        showConfirmButton: true,
                        confirmButtonText: 'Ok',

                    }).then(function() {

                        perfilPaciente(iniciarAtendimentoAgendado.codPaciente);
                        prontuario(iniciarAtendimentoAgendado.codPaciente);
                        editarAtendimento(iniciarAtendimentoAgendado.codAtendimento);
                    })

                }

            }
        }).always(
            Swal.fire({
                title: 'Estamos iniciando o atendimento',
                html: 'Aguarde....',
                timerProgressBar: true,
                didOpen: () => {
                    Swal.showLoading()
                }

            }))


    }

    function gravaClassificacaoRisco(codClasseRisco) {


        $('#classificacaoRiscoModal').modal('hide');


        $.ajax({
            url: '<?php echo base_url('atendimentos/gravaClassificacaoRisco') ?>',
            type: 'post',
            data: {
                codAtendimento: codAtendimentoTmp,
                codClasseRisco: codClasseRisco,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            dataType: 'json',
            success: function(gravaClassificacaoRisco) {


                if ($('#listaUrgenciaEmergenciaModal').is(':visible') == true) {
                    $('#data_tableListarUrgenciaEmergenciaAcolhimento').DataTable().ajax.reload(null, false).draw(false);
                    $('#data_tableListarUrgenciaEmergenciaEmAtendimento').DataTable().ajax.reload(null, false).draw(false);

                }

                Swal.fire({
                    position: 'bottom-end',
                    icon: 'success',
                    title: gravaClassificacaoRisco.messages,
                    showConfirmButton: false,
                    timer: 4000
                })

            }
        })





    }

    function classificacaoRiscoUrgenciaEmergencia(codAtendimento) {

        codAtendimentoTmp = codAtendimento;

        $('#classificacaoRiscoModal').modal('show');

    }

    function btnChamaClassificacaoRiscoUrgenciaEmergencia() {



        if (document.getElementById('saturacao').value == '') {
            Swal.fire({
                icon: 'warning',
                html: 'Primeiro, informe os "Parametros Clínicos" básicos.  <b>Frequência Cardíaca e Saturação são obrigatórios<b>',
                showConfirmButton: true,
                confirmButtonText: 'Ok',
            })
            throw new Error('Primeiro, informe os "Parametros Clínicos" básicos');


        }




        $('#classificacaoRiscoModal').modal('show');


        if ($('#editarAtendimentoModal').is(':visible') == true) {
            $('#editarAtendimentoModal').modal('hide');
        }
    }



    function imprimirEtiquetaEmergencia(codAtendimento) {


        $.ajax({
            url: '<?php echo base_url('atendimentos/imprimirEtiquetaEmergencia') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                codAtendimento: codAtendimento,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(imprimirEtiquetaEmergencia) {
                if (imprimirEtiquetaEmergencia.success === true) {

                    document.getElementById("imprimirEtiquetaEmergenciaAdd").innerHTML = imprimirEtiquetaEmergencia.html;

                    document.getElementById("setEstilo").innerHTML = '<style>@media screen {' +
                        '#printSection {' +
                        'display: none;' +

                        '}' +
                        '}' +

                        '@media print {' +
                        '@page {' +
                        'size: 100mm 25mm;' +
                        '}' +

                        'body>*:not(#printSection) {' +
                        'display: none;' +
                        '}' +

                        '#printSection,' +
                        '#printSection * {' +
                        'visibility: visible;' +

                        '}' +
                        '#printSection {' +
                        'position: absolute;' +
                        'left: 0;' +
                        'top: 0;' +

                        '}' +
                        '}</style>';

                    printElement(document.getElementById("areaImpressaoEtiquetaEmergencia"));

                    window.print();








                }
            }

        })


    }



    function suspenderMedicamento(codAtendimento, codPaciente, codMedicamento, codPrescricaoMedicamento, devolucao) {

        Swal.fire({
            title: 'Você tem certeza que deseja suspender o medicamento?',
            text: "Você não poderá reverter após a confirmação",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar',
            input: 'textarea',
            inputLabel: 'Informe o motivo(Obrigatório)',
            inputValidator: (value) => {
                if (!value) {
                    return 'É necessário informar o motivo da suspensão'
                } else {
                    $.ajax({
                        url: '<?php echo base_url('prescricaoMedicamentos/suspenderMedicamento') ?>',
                        type: 'post',
                        data: {
                            csrf_sandra: $("#csrf_sandraPrincipal").val(),
                            codAtendimento: codAtendimento,
                            codPaciente: codPaciente,
                            codMedicamento: codMedicamento,
                            codPrescricaoMedicamento: codPrescricaoMedicamento,
                            devolucao: devolucao,
                            motivo: value,
                        },
                        dataType: 'json',
                        success: function(response) {

                            if (response.success === true) {
                                var Toast = Swal.mixin({
                                    toast: true,
                                    position: 'bottom-end',
                                    showConfirmButton: false,
                                    timer: 2000
                                });
                                Toast.fire({
                                    icon: 'success',
                                    title: response.messages
                                }).then(function() {
                                    $('#data_tableprescricaoMedicamentos').DataTable().ajax.reload(null, false).draw(false);

                                })
                            } else {
                                var Toast = Swal.mixin({
                                    toast: true,
                                    position: 'bottom-end',
                                    showConfirmButton: false,
                                    timer: 2000
                                });
                                Toast.fire({
                                    icon: 'error',
                                    title: response.messages
                                })


                            }
                        }
                    });

                }

            }
        })
    }

    function listaGuiaAntimicrobiano(codAtendimento, codPaciente, codItem, codPrescricaoMedicamento) {

        $('#guiasAntimicrobianasModal').modal('show');

        document.getElementById("guiasAntimicrobianasDadosPaciente").innerHTML = nomeCargoTmp + ' ' + nomePacienteTmp + ' | ' + siglaTipoBeneficiarioTmp + ' | ' + idadePacienteTmp + ' | PRONT: ' + codProntuarioTmp + ' | PREC: ' + codPlanoTmp;

        document.getElementById("btnAddAntimicrobiano").innerHTML = '<button type="button" class="btn btn-block btn-primary" data-toggle="tooltip" data-placement="top" title="Adicionar" onclick="addGuiaAntimicrobiano(' + codAtendimento + ',' + codPaciente + ',' + codItem + ',' + codPrescricaoMedicamento + ')" title="Adicionar">Adicionar</button>';

        $('#data_tablecontroleAntimicrobiano').DataTable({
            "bDestroy": true,
            "paging": true,
            "deferRender": true,
            "lengthChange": false,
            "searching": true,
            "ordering": false,
            "info": true,
            "autoWidth": false,
            "responsive": true,
            "ajax": {
                "url": '<?php echo base_url('controleAntimicrobiano/getAll') ?>',
                "type": "POST",
                "dataType": "json",
                async: "true",
                data: {
                    codPaciente: codPaciente,
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },
            },

        });
    }

    function addGuiaAntimicrobiano(codAtendimento, codPaciente, codItem, codPrescricaoMedicamento) {


        $.ajax({
            url: '<?php echo base_url('prescricaoMedicamentos/buscaDetalheItem') ?>',
            type: 'post',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
                codPrescricaoMedicamento: codPrescricaoMedicamento,
                codPaciente: codPaciente,
                codItem: codItem
            }, // /converting the form data into array and sending it to server
            dataType: 'json',
            beforeSend: function() {
                //$('#controleAntimicrobianoAddForm-btn').html('<i class="fa fa-spinner fa-spin"></i>');
            },
            success: function(response) {

                if (response.success === true) {

                    // reset the form
                    $("#controleAntimicrobianoAddForm")[0].reset();
                    $(".form-control").removeClass('is-invalid').removeClass('is-valid');
                    $('#controleAntimicrobianoAddModal').modal('show');
                    $('#codAtendimentocodAddControleAntimicrobiano').val(codAtendimento);
                    $('#codPacienteAddControleAntimicrobiano').val(codPaciente);
                    $('#codItemAddControleAntimicrobiano').val(codItem);
                    document.getElementById('nomePacienteAddControleAntimicrobiano').innerHTML = nomePacienteTmp;
                    document.getElementById('idadeAddControleAntimicrobiano').innerHTML = idadePacienteTmp;
                    document.getElementById('codProntuarioAddControleAntimicrobiano').innerHTML = codProntuarioTmp;
                    document.getElementById('codPlanoTmpAddControleAntimicrobiano').innerHTML = codPlanoTmp;
                    document.getElementById('nomeUnidadeInternacaoTmpAddControleAntimicrobiano').innerHTML = nomeUnidadeInternacaoTmp;
                    document.getElementById('nomeLocalAtendimentoTmpAddControleAntimicrobiano').innerHTML = nomeLocalAtendimentoTmp;


                    document.getElementById('dadosAntibiotico').innerHTML = response.dados;
                    document.getElementById('perAddControleAntimicrobiano').value = response.per;
                    document.getElementById('qtdeAddControleAntimicrobiano').value = response.qtde;
                    document.getElementById('undAddControleAntimicrobiano').value = response.und;
                    document.getElementById('viaAddControleAntimicrobiano').value = response.via;
                    document.getElementById('freqAddControleAntimicrobiano').value = response.freq;
                    document.getElementById('diasAddControleAntimicrobiano').value = response.dias;
                    document.getElementById('dataEncerramentoGuiaAntimicrobianaAdd').value = response.previsaoEncerramento;

                } else {
                    Swal.fire({
                        title: response.messages,
                        icon: 'warning',
                        confirmButtonColor: '#3085d6',
                        confirmButtonText: 'Ok',
                    })
                }
            }
        })


        $('#data_tableatendimentoDiagnosticoAddControleAntimicrobiano').DataTable({
            "bDestroy": true,
            "paging": true,
            "deferRender": true,
            "lengthChange": false,
            "searching": true,
            "ordering": false,
            "info": true,
            "autoWidth": false,
            "responsive": true,
            "ajax": {
                "url": '<?php echo base_url('atendimentoDiagnostico/getAllPorAtendimento') ?>',
                "type": "POST",
                "dataType": "json",
                async: "true",
                data: {
                    codAtendimento: codAtendimento,
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },
            }
        });


        $.validator.setDefaults({
            highlight: function(element) {
                $(element).addClass('is-invalid').removeClass('is-valid');
            },
            unhighlight: function(element) {
                $(element).removeClass('is-invalid').addClass('is-valid');
            },
            errorElement: 'div ',
            errorClass: 'invalid-feedback',
            errorPlacement: function(error, element) {
                if (element.parent('.input-group').length) {
                    error.insertAfter(element.parent());
                } else if ($(element).is('.select')) {
                    element.next().after(error);
                } else if (element.hasClass('select2')) {
                    //error.insertAfter(element);
                    error.insertAfter(element.next());
                } else if (element.hasClass('selectpicker')) {
                    error.insertAfter(element.next());
                } else {
                    error.insertAfter(element);
                }
            },

            submitHandler: function(form) {

                if ($('#indicacaoProfilatica').is(':checked') || $('#indicacaoTerapeutica').is(':checked')) {

                } else {

                    Swal.fire({
                        title: 'É necessário informar a "Indicação de Antibiótico"',
                        icon: 'warning',
                        confirmButtonColor: '#3085d6',
                        confirmButtonText: 'Ok',
                    });
                    return false;

                }

                if ($('#infeccaoHospitalar').is(':checked') || $('#infeccaoComunitaria').is(':checked')) {

                } else {

                    Swal.fire({
                        title: 'É necessário informar a "Tipo de Infecção"',
                        icon: 'warning',
                        confirmButtonColor: '#3085d6',
                        confirmButtonText: 'Ok',
                    });
                    return false;

                }


                if ($('#primeiraEscolhaSim').is(':checked') || $('#primeiraEscolhaNao').is(':checked')) {

                } else {

                    Swal.fire({
                        title: 'É necessário informar se é "Esquema de 1º Escolha"',
                        icon: 'warning',
                        confirmButtonColor: '#3085d6',
                        confirmButtonText: 'Ok',
                    });
                    return false;

                }



                if ($('#solicitouCulturaSim').is(':checked') || $('#solicitouCulturaNao').is(':checked')) {

                } else {

                    Swal.fire({
                        title: 'É necessário informar se "solicitou cultura"',
                        icon: 'warning',
                        confirmButtonColor: '#3085d6',
                        confirmButtonText: 'Ok',
                    });
                    return false;

                }

                var form = $('#controleAntimicrobianoAddForm');
                // remove the text-danger
                $(".text-danger").remove();

                $.ajax({
                    url: '<?php echo base_url('controleAntimicrobiano/add') ?>',
                    type: 'post',
                    data: form.serialize(), // /converting the form data into array and sending it to server
                    dataType: 'json',
                    beforeSend: function() {
                        //$('#controleAntimicrobianoAddForm-btn').html('<i class="fa fa-spinner fa-spin"></i>');
                    },
                    success: function(response) {

                        if (response.success === true) {
                            $('#controleAntimicrobianoAddModal').modal('hide');

                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 4000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {
                                $('#data_tablecontroleAntimicrobiano').DataTable().ajax.reload(null, false).draw(false);

                                $('#data_tableprescricaoMedicamentos').DataTable().ajax.reload(null, false).draw(false);
                            })

                        } else {

                            if (response.messages instanceof Object) {
                                $.each(response.messages, function(index, value) {
                                    var id = $("#" + index);

                                    id.closest('.form-control')
                                        .removeClass('is-invalid')
                                        .removeClass('is-valid')
                                        .addClass(value.length > 0 ? 'is-invalid' : 'is-valid');

                                    id.after(value);

                                });
                            } else {

                                var Toast = Swal.mixin({
                                    toast: true,
                                    position: 'bottom-end',
                                    showConfirmButton: false,
                                    timer: 4000
                                });
                                Toast.fire({
                                    icon: 'error',
                                    title: response.messages
                                })

                            }
                        }
                        $('#controleAntimicrobianoAddForm-btn').html('Adicionar');
                    }
                });

                return false;
            }
        });
        $('#controleAntimicrobianoAddForm').validate();
    }


    function editcontroleAntimicrobiano(codControleAntimicrobiano) {

        $.ajax({
            url: '<?php echo base_url('controleAntimicrobiano/getOne') ?>',
            type: 'post',
            data: {
                codControleAntimicrobiano: codControleAntimicrobiano,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            dataType: 'json',
            success: function(response) {
                // reset the form
                $("#controleAntimicrobianoEditForm")[0].reset();
                $(".form-control").removeClass('is-invalid').removeClass('is-valid');
                $('#controleAntimicrobianoEditModal').modal('show');


                document.getElementById('nomePacienteEditControleAntimicrobiano').innerHTML = nomePacienteTmp;
                document.getElementById('idadeEditControleAntimicrobiano').innerHTML = idadePacienteTmp;
                document.getElementById('codProntuarioEditControleAntimicrobiano').innerHTML = codProntuarioTmp;
                document.getElementById('codPlanoTmpEditControleAntimicrobiano').innerHTML = codPlanoTmp;
                document.getElementById('nomeUnidadeInternacaoTmpEditControleAntimicrobiano').innerHTML = nomeUnidadeInternacaoTmp;
                document.getElementById('nomeLocalAtendimentoTmpEditControleAntimicrobiano').innerHTML = nomeLocalAtendimentoTmp;


                document.getElementById('dadosAntibioticoEdit').innerHTML = response.dados;


                $("#controleAntimicrobianoEditForm #codControleAntimicrobianoEdit").val(response.codControleAntimicrobiano);
                $("#controleAntimicrobianoEditForm #dataInicioGuiaAntimicrobianaEdit").val(response.dataInicio);
                $("#controleAntimicrobianoEditForm #dataEncerramentoGuiaAntimicrobianaEdit").val(response.dataEncerramento);
                $("#controleAntimicrobianoEditForm #primeiraEscolha").val(response.primeiraEscolha);


                if (response.indicacaoAntibiotico == 1) {
                    $("#indicacaoProfilaticaEdit").prop("checked", true);

                } else {
                    $("#indicacaoTerapeuticaEdit").prop("checked", true);
                }

                if (response.tipoInfeccao == 1) {
                    $("#infeccaoHospitalarEdit").prop("checked", true);

                } else {
                    $("#infeccaoComunitariaEdit").prop("checked", true);
                }

                if (response.primeiraEscolha == 1) {
                    $("#primeiraEscolhaSimEdit").prop("checked", true);

                } else {
                    $("#primeiraEscolhaNaoEdit").prop("checked", true);
                }
                if (response.respiratoria == 1) {
                    $("#respiratoriaEdit").prop("checked", true);

                }
                if (response.urinaria == 1) {
                    $("#urinariaEdit").prop("checked", true);

                }

                if (response.peleTecido == 1) {
                    $("#peleTecidoEdit").prop("checked", true);

                }
                if (response.cirurgia == 1) {
                    $("#cirurgiaEdit").prop("checked", true);

                }
                if (response.correnteSanguinea == 1) {
                    $("#correnteSanguineaEdit").prop("checked", true);

                }

                if (response.solicitouCultura == 1) {
                    $("#solicitouCulturaSimEdit").prop("checked", true);
                } else {
                    $("#solicitouCulturaNaoEdit").prop("checked", true);

                }
                $("#controleAntimicrobianoEditForm #outroSitioInfecaoEdit").val(response.outroSitioInfecao);
                $("#controleAntimicrobianoEditForm #detalheResultadoCulturaEdit").val(response.detalheResultadoCultura);



                if (response.resultadoCultura == 1) {
                    $("#resultadoCulturaEdit").prop("checked", true);

                }
                if (response.faltaMedicamentoFarmacia == 1) {
                    $("#faltaMedicamentoFarmaciaEdit").prop("checked", true);

                }
                if (response.alergiaAntimicrobiano == 1) {
                    $("#alergiaAntimicrobianoEdit").prop("checked", true);

                }
                if (response.insuficienciaRenal == 1) {
                    $("#insuficienciaRenalEdit").prop("checked", true);

                }
                if (response.insuficienciaHepatica == 1) {
                    $("#insuficienciaHepaticaEdit").prop("checked", true);

                }
                if (response.insuficienciaHepatica == 1) {
                    $("#insuficienciaHepaticaEdit").prop("checked", true);

                }
                $("#controleAntimicrobianoEditForm #outroEsquemaAlternativoEdit").val(response.outroEsquemaAlternativo);
                $("#controleAntimicrobianoEditForm #justificativaEsquemaEdit").val(response.justificativaEsquema);


                $('#data_tableatendimentoDiagnosticoEditControleAntimicrobiano').DataTable({
                    "bDestroy": true,
                    "paging": true,
                    "deferRender": true,
                    "lengthChange": false,
                    "searching": true,
                    "ordering": false,
                    "info": true,
                    "autoWidth": false,
                    "responsive": true,
                    "ajax": {
                        "url": '<?php echo base_url('atendimentoDiagnostico/getAllPorAtendimento') ?>',
                        "type": "POST",
                        "dataType": "json",
                        async: "true",
                        data: {
                            codAtendimento: response.codAtendimento,
                            csrf_sandra: $("#csrf_sandraPrincipal").val(),
                        },
                    }
                });

                // submit the edit from
                $.validator.setDefaults({
                    highlight: function(element) {
                        $(element).addClass('is-invalid').removeClass('is-valid');
                    },
                    unhighlight: function(element) {
                        $(element).removeClass('is-invalid').addClass('is-valid');
                    },
                    errorElement: 'div ',
                    errorClass: 'invalid-feedback',
                    errorPlacement: function(error, element) {
                        if (element.parent('.input-group').length) {
                            error.insertAfter(element.parent());
                        } else if ($(element).is('.select')) {
                            element.next().after(error);
                        } else if (element.hasClass('select2')) {
                            //error.insertAfter(element);
                            error.insertAfter(element.next());
                        } else if (element.hasClass('selectpicker')) {
                            error.insertAfter(element.next());
                        } else {
                            error.insertAfter(element);
                        }
                    },

                    submitHandler: function(form) {
                        var form = $('#controleAntimicrobianoEditForm');
                        $(".text-danger").remove();
                        $.ajax({
                            url: '<?php echo base_url('controleAntimicrobiano/edit') ?>',
                            type: 'post',
                            data: form.serialize(),
                            dataType: 'json',
                            beforeSend: function() {
                                //$('#controleAntimicrobianoEditForm-btn').html('<i class="fa fa-spinner fa-spin"></i>');
                            },
                            success: function(response) {

                                if (response.success === true) {

                                    $('#controleAntimicrobianoEditModal').modal('hide');


                                    var Toast = Swal.mixin({
                                        toast: true,
                                        position: 'bottom-end',
                                        showConfirmButton: false,
                                        timer: 2000
                                    });
                                    Toast.fire({
                                        icon: 'success',
                                        title: response.messages
                                    }).then(function() {
                                        $('#data_tablecontroleAntimicrobiano').DataTable().ajax.reload(null, false).draw(false);
                                        $('#data_tableprescricaoMedicamentos').DataTable().ajax.reload(null, false).draw(false);

                                    })

                                } else {

                                    if (response.messages instanceof Object) {
                                        $.each(response.messages, function(index, value) {
                                            var id = $("#" + index);

                                            id.closest('.form-control')
                                                .removeClass('is-invalid')
                                                .removeClass('is-valid')
                                                .addClass(value.length > 0 ? 'is-invalid' : 'is-valid');

                                            id.after(value);

                                        });
                                    } else {
                                        var Toast = Swal.mixin({
                                            toast: true,
                                            position: 'bottom-end',
                                            showConfirmButton: false,
                                            timer: 2000
                                        });
                                        Toast.fire({
                                            icon: 'error',
                                            title: response.messages
                                        })

                                    }
                                }
                                $('#controleAntimicrobianoEditForm-btn').html('Salvar');
                            }
                        });

                        return false;
                    }
                });
                $('#controleAntimicrobianoEditForm').validate();

            }
        });
    }


    function removecontroleAntimicrobiano(codControleAntimicrobiano) {
        Swal.fire({
            title: 'Você tem certeza que deseja suspender a guia antimicrobiana?',
            text: "Você não poderá reverter após a confirmação",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar',
            input: 'textarea',
            inputLabel: 'Informe o motivo(Obrigatório)',
            inputValidator: (value) => {
                if (!value) {
                    return 'É necessário informar o motivo da suspensão'
                } else {

                    $.ajax({
                        url: '<?php echo base_url('controleAntimicrobiano/suspender') ?>',
                        type: 'post',
                        data: {
                            codControleAntimicrobiano: codControleAntimicrobiano,
                            motivoSuspensaoGuia: value,
                            csrf_sandra: $("#csrf_sandraPrincipal").val(),
                        },
                        dataType: 'json',
                        success: function(response) {

                            if (response.success === true) {
                                var Toast = Swal.mixin({
                                    toast: true,
                                    position: 'bottom-end',
                                    showConfirmButton: false,
                                    timer: 2000
                                });
                                Toast.fire({
                                    icon: 'success',
                                    title: response.messages
                                }).then(function() {
                                    $('#data_tablecontroleAntimicrobiano').DataTable().ajax.reload(null, false).draw(false);
                                    $('#data_tableprescricaoMedicamentos').DataTable().ajax.reload(null, false).draw(false);

                                })
                            } else {
                                var Toast = Swal.mixin({
                                    toast: true,
                                    position: 'bottom-end',
                                    showConfirmButton: false,
                                    timer: 2000
                                });
                                Toast.fire({
                                    icon: 'error',
                                    title: response.messages
                                })


                            }
                        }
                    });

                }

            }

        })
    }


    function transferirLeitoAgora(codAtendimento, codLocalAtendimento, nomeCompleto) {

        Swal.fire({
            title: 'Você tem certeza que deseja Tansferir o paciente "' + nomeCompleto + '" para o leito selecionado?',
            icon: 'info',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {

                $.ajax({
                    url: '<?php echo base_url('atendimentos/transferirLeitoAgora') ?>',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        codAtendimento: codAtendimento,
                        codLocalAtendimento: codLocalAtendimento,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    success: function(transferePacienteAgora) {

                        $('#transferirPacienteModal').modal('hide');

                        if ($('#listaUrgenciaEmergenciaModal').is(':visible') == true) {
                            $('#data_tableListarUrgenciaEmergenciaAcolhimento').DataTable().ajax.reload(null, false).draw(false);
                            $('#data_tableListarUrgenciaEmergenciaEmAtendimento').DataTable().ajax.reload(null, false).draw(false);
                            $('#data_tableListarUrgenciaEmergenciaMeusPacientes').DataTable().ajax.reload(null, false).draw(false);
                            $('#data_tableListarUrgenciaEmergenciaBaixados').DataTable().ajax.reload(null, false).draw(false);
                            $('#data_tableListarUrgenciaEmergenciaAguardandoLeito').DataTable().ajax.reload(null, false).draw(false);

                        }


                        if ($('#listaInternadosModal').is(':visible') == true) {
                            $('#data_tableListarInternados').DataTable().ajax.reload(null, false).draw(false);

                        }




                        if (transferePacienteAgora.success === true) {
                            Swal.fire({
                                position: 'bottom-end',
                                icon: 'success',
                                title: transferePacienteAgora.messages,
                                showConfirmButton: false,
                                timer: 3000
                            })


                            if ($('#prontuarioModal').is(':visible') == true) {
                                todosAtendimentos(codPacienteTmp);
						//$('#data_tableAtendimentos').DataTable().ajax.reload(null, false).draw(false);

                            }

                            if ($('#editarAtendimentoModal').is(':visible') == true) {
                                editarAtendimento(codAtendimentoTmp)
                            }



                        } else {
                            Swal.fire({
                                position: 'bottom-end',
                                icon: 'error',
                                title: transferePacienteAgora.messages,
                                showConfirmButton: false,
                                timer: 3000
                            })
                        }

                    }
                }).always(
                    Swal.fire({
                        title: 'Aguarde enquanto transferimos o paciente',
                        html: 'Aguarde....',
                        timerProgressBar: true,
                        didOpen: () => {
                            Swal.showLoading()
                        }

                    }))
            }
        })




    }

    function aguardandoLeito(codAtendimento) {

        codAtendimentoTmp = codAtendimento;

        Swal.fire({
            title: 'Você tem certeza que deseja alterar o status do paciente para "Aguardando leito"?',
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {

                $.ajax({
                    url: '<?php echo base_url('atendimentos/aguardandoLeito') ?>',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        codAtendimento: codAtendimento,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    success: function(aguardandoLeito) {

                        if (aguardandoLeito.success === true) {

                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: aguardandoLeito.messages
                            });

                            $('#data_tableListarUrgenciaEmergenciaAcolhimento').DataTable().ajax.reload(null, false).draw(false);
                            $('#data_tableListarUrgenciaEmergenciaEmAtendimento').DataTable().ajax.reload(null, false).draw(false);
                            $('#data_tableListarUrgenciaEmergenciaMeusPacientes').DataTable().ajax.reload(null, false).draw(false);
                            $('#data_tableListarUrgenciaEmergenciaBaixados').DataTable().ajax.reload(null, false).draw(false);
                            $('#data_tableListarUrgenciaEmergenciaAguardandoLeito').DataTable().ajax.reload(null, false).draw(false);


                        } else {

                        }


                    }
                })
            }
        })







    }

    function transferirPaciente(codAtendimento) {

        codAtendimentoTmp = codAtendimento;


        $('#transferirPacienteModal').modal('show');
        $('#data_situacaoLeitos').DataTable().clear().draw();

        $.ajax({
            url: '<?php echo base_url('departamentos/listaDropDownUnidadesInternacao') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(listaunidadeInternacao) {

                $("#unidadeInternacao").select2({
                    data: listaunidadeInternacao,
                })

                $('#unidadeInternacao').val(null);
                $('#unidadeInternacao').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });

            }
        })

    }

    function irParaAtendimentoUrgenciaEmergencia(codAtendimento) {



        statusMinhasEspecialidades = '<?php echo $statusMinhasEspecialidades ?>';

        if (statusMinhasEspecialidades == 0) {
            Swal.fire({
                position: 'bottom-end',
                icon: 'warning',
                title: 'Apenas profissionais de saúde tem acesso a este recurso',
                showConfirmButton: false,
                timer: 4000
            })
            throw new Error('Apenas profissionais de saúde tem acesso a este recurso');


        }



        $.ajax({
            url: '<?php echo base_url('atendimentos/irParaAtendimentoUrgenciaEmergencia') ?>',
            type: 'post',
            data: {
                codAtendimento: codAtendimento,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            dataType: 'json',
            success: function(iniciarAtendimentoUrgenciaEmergencia) {

                codPacienteTmp = iniciarAtendimentoUrgenciaEmergencia.codPaciente;
                nomePacienteTmp = iniciarAtendimentoUrgenciaEmergencia.nomeCompleto;
                codProntuarioTmp = iniciarAtendimentoUrgenciaEmergencia.codProntuario;
                idadePacienteTmp = iniciarAtendimentoUrgenciaEmergencia.idade;
                siglaTipoBeneficiarioTmp = iniciarAtendimentoUrgenciaEmergencia.siglaTipoBeneficiario;
                codPlanoTmp = iniciarAtendimentoUrgenciaEmergencia.codPlano;
                nomeCargoTmp = iniciarAtendimentoUrgenciaEmergencia.siglaCargo;
                nomeTipoBeneficiarioTmp = iniciarAtendimentoUrgenciaEmergencia.nomeTipoBeneficiario;
                nomeLocalAtendimentoTmp = iniciarAtendimentoUrgenciaEmergencia.nomeLocalAtendimentoTmp;
                nomeUnidadeInternacaoTmp = iniciarAtendimentoUrgenciaEmergencia.nomeUnidadeInternacaoTmp;
                Swal.close();

                if (iniciarAtendimentoUrgenciaEmergencia.success === true) {
                    //perfilPaciente(iniciarAtendimentoUrgenciaEmergencia.codPaciente);
                    //prontuario(iniciarAtendimentoUrgenciaEmergencia.codPaciente);
                    editarAtendimento(codAtendimento);

                    document.getElementById('alertaLeito').innerHTML = '';


                    if (iniciarAtendimentoUrgenciaEmergencia.alertaLeito === true) {

                        document.getElementById('alertaLeito').innerHTML = iniciarAtendimentoUrgenciaEmergencia.mensagemAlertaLeito;

                    }
                }

                if (iniciarAtendimentoUrgenciaEmergencia.success === false) {
                    Swal.fire({
                        position: 'bottom-end',
                        icon: 'error',
                        title: iniciarAtendimentoUrgenciaEmergencia.messages,
                        showConfirmButton: false,
                        timer: 4000
                    })
                }

                if (iniciarAtendimentoUrgenciaEmergencia.success === 'info') {
                    Swal.fire({
                        position: 'bottom-end',
                        icon: 'info',
                        title: iniciarAtendimentoUrgenciaEmergencia.messages,
                        showConfirmButton: true,
                        confirmButtonText: 'Ok',

                    }).then(function() {

                        //perfilPaciente(iniciarAtendimentoUrgenciaEmergencia.codPaciente);
                        //prontuario(iniciarAtendimentoUrgenciaEmergencia.codPaciente);
                        editarAtendimento(codAtendimento);
                    })

                }

            }
        })


    }



    function irParaAtendimentoInternacao(codAtendimento) {



        statusMinhasEspecialidades = '<?php echo $statusMinhasEspecialidades ?>';

        if (statusMinhasEspecialidades == 0) {
            Swal.fire({
                position: 'bottom-end',
                icon: 'warning',
                title: 'Apenas profissionais de saúde tem acesso a este recurso',
                showConfirmButton: false,
                timer: 4000
            })
            throw new Error('Apenas profissionais de saúde tem acesso a este recurso');


        }


        $.ajax({
            url: '<?php echo base_url('atendimentos/irParaAtendimentoInternacao') ?>',
            type: 'post',
            data: {
                codAtendimento: codAtendimento,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            dataType: 'json',
            success: function(atendimentoInternacao) {


                codPacienteTmp = atendimentoInternacao.codPaciente;
                nomePacienteTmp = atendimentoInternacao.nomeCompleto;
                codProntuarioTmp = atendimentoInternacao.codProntuario;
                idadePacienteTmp = atendimentoInternacao.idade;
                siglaTipoBeneficiarioTmp = atendimentoInternacao.siglaTipoBeneficiario;
                codPlanoTmp = atendimentoInternacao.codPlano;
                nomeCargoTmp = atendimentoInternacao.siglaCargo;
                nomeTipoBeneficiarioTmp = atendimentoInternacao.nomeTipoBeneficiario;
                nomeLocalAtendimentoTmp = atendimentoInternacao.nomeLocalAtendimentoTmp;
                nomeUnidadeInternacaoTmp = atendimentoInternacao.nomeUnidadeInternacaoTmp;
                Swal.close();



                if (atendimentoInternacao.success === true) {
                    //perfilPaciente(atendimentoInternacao.codPaciente);
                    //prontuario(atendimentoInternacao.codPaciente);
                    editarAtendimento(codAtendimento);

                    document.getElementById('alertaLeito').innerHTML = '';


                    if (atendimentoInternacao.alertaLeito === true) {

                        document.getElementById('alertaLeito').innerHTML = atendimentoInternacao.mensagemAlertaLeito;

                    }
                }

                if (atendimentoInternacao.success === false) {
                    Swal.fire({
                        position: 'bottom-end',
                        icon: 'error',
                        title: atendimentoInternacao.messages,
                        showConfirmButton: false,
                        timer: 4000
                    })
                }

                if (atendimentoInternacao.success === 'info') {
                    Swal.fire({
                        position: 'bottom-end',
                        icon: 'info',
                        title: atendimentoInternacao.messages,
                        showConfirmButton: true,
                        confirmButtonText: 'Ok',


                    }).then(function() {

                        //perfilPaciente(atendimentoInternacao.codPaciente);
                        //prontuario(atendimentoInternacao.codPaciente);
                        editarAtendimento(codAtendimento);
                    })

                }

            }
        })


    }


    function irParaProntuario(codAgendamento) {


        //marcar que chegou

        statusMinhasEspecialidades = '<?php echo $statusMinhasEspecialidades ?>';

        if (statusMinhasEspecialidades == 0) {

            Swal.fire({
                position: 'bottom-end',
                icon: 'warning',
                title: 'Apenas profissionais de saúde tem acesso a este recurso',

                showConfirmButton: false,
                timer: 4000
            })
            throw new Error('Apenas profissionais de saúde tem acesso a este recurso');

        } else {

            $.ajax({
                url: '<?php echo base_url('atendimentos/irParaProntuario') ?>',
                type: 'post',
                data: {
                    codAgendamento: codAgendamento,
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },
                dataType: 'json',
                success: function(iniciarAtendimentoAgendado) {
                    nomePacienteTmp = iniciarAtendimentoAgendado.nomeCompleto;
                    codProntuarioTmp = iniciarAtendimentoAgendado.codProntuario;
                    idadePacienteTmp = iniciarAtendimentoAgendado.idade;
                    siglaTipoBeneficiarioTmp = iniciarAtendimentoAgendado.siglaTipoBeneficiario;
                    codPlanoTmp = iniciarAtendimentoAgendado.codPlano;
                    nomeCargoTmp = iniciarAtendimentoAgendado.siglaCargo;
                    nomeTipoBeneficiarioTmp = iniciarAtendimentoAgendado.nomeTipoBeneficiario;
                    nomeLocalAtendimentoTmp = iniciarAtendimentoAgendado.nomeLocalAtendimentoTmp;
                    nomeUnidadeInternacaoTmp = iniciarAtendimentoAgendado.nomeUnidadeInternacaoTmp;


                    Swal.close();

                    if (iniciarAtendimentoAgendado.success === true) {
                        perfilPaciente(iniciarAtendimentoAgendado.codPaciente);
                        prontuario(iniciarAtendimentoAgendado.codPaciente);



                    }

                    if (iniciarAtendimentoAgendado.success === false) {
                        Swal.fire({
                            position: 'bottom-end',
                            icon: 'error',
                            title: iniciarAtendimentoAgendado.messages,
                            showConfirmButton: false,
                            timer: 4000
                        })
                    }

                }
            }).always(
                Swal.fire({
                    title: 'Estamos buscando o prontuário do Paciente',
                    html: 'Aguarde....',
                    timerProgressBar: true,
                    didOpen: () => {
                        Swal.showLoading()
                    }

                }))


        }



    }



    function iniciarExame(codExame) {


        //marcar que chegou



        statusMinhasEspecialidades = '<?php echo $statusMinhasEspecialidades ?>';

        if (statusMinhasEspecialidades == 0) {
            Swal.fire({
                position: 'bottom-end',
                icon: 'warning',
                title: 'Apenas profissionais de saúde tem acesso a este recurso',
                showConfirmButton: false,
                timer: 4000
            })
            throw new Error('Apenas profissionais de saúde tem acesso a este recurso');

        } else {
            $.ajax({
                url: '<?php echo base_url('agendamentosExames/chegou') ?>',
                type: 'post',
                data: {
                    codExame: codExame,
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },
                dataType: 'json',
                success: function(response) {

                }
            })



            $.ajax({
                url: '<?php echo base_url('agendamentosExames/iniciarExame') ?>',
                type: 'post',
                data: {
                    codExame: codExame,
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },
                dataType: 'json',
                success: function(iniciarAtendimentoAgendado) {
                    Swal.close();

                    if (iniciarAtendimentoAgendado.success === true) {


                        $('#data_tableagendamentosExames').DataTable().ajax.reload(null, false).draw(false);
                        Swal.fire({
                            position: 'bottom-end',
                            icon: 'success',
                            title: iniciarAtendimentoAgendado.messages,
                            showConfirmButton: false,
                            timer: 4000
                        })

                    }

                    if (iniciarAtendimentoAgendado.success === false) {
                        Swal.fire({
                            position: 'bottom-end',
                            icon: 'error',
                            title: iniciarAtendimentoAgendado.messages,
                            showConfirmButton: false,
                            timer: 4000
                        })
                    }

                }
            }).always(
                Swal.fire({
                    title: 'Estamos Iniciando o atendimento',
                    html: 'Aguarde....',
                    timerProgressBar: true,
                    didOpen: () => {
                        Swal.showLoading()
                    }

                }))


        }



    }

    function iniciarAtendimentoUrgenciaEmergenciaAgora() {


        tamanhoTextoQueixa = $('#queixaPrincipalUrgenciaEmergenciaTextarea').summernote('code').replace(/&nbsp;/gi, "").length;


        if (tamanhoTextoQueixa < 12) {
            Swal.fire({
                position: 'bottom-end',
                icon: 'error',
                html: 'Melhore a descrição da <b>"Queixa"</b> do paciente',
                showConfirmButton: true,
                confirmButtonText: 'Ok',

            })
            throw new Error('Melhore a descrição da <b>"Queixa"</b> do paciente');

        }


        if ($('#queixaPrincipalUrgenciaEmergenciaTextarea').summernote('isEmpty')) {
            Swal.fire({
                position: 'bottom-end',
                icon: 'error',
                html: 'É necessário descrever a queixa principal',
                showConfirmButton: false,
                timer: 4000
            });
            throw new Error('É necessário descrever a queixa principal');
        }

        if (document.getElementById('queixaPrincipalUrgenciaEmergenciaTextarea').value.length > 150) {
            Swal.fire({
                position: 'bottom-end',
                icon: 'error',
                html: 'Descrição da <b>"Queixa principal"</b> destinada a informar um resumo da queixa com no máximo 150 caracteres. Histórico completo deve ser informado no HDA.',
                showConfirmButton: true,
                confirmButtonText: 'Ok',

            })
            throw new Error('Descrição da <b>"Queixa principal"</b> destinada a informar um resumo da queixa com no máximo 150 caracteres. Histórico completo deve ser informado.');

        }


        //alert(document.getElementById('queixaPrincipalUrgenciaEmergenciaTextarea').value);

        $.ajax({
            url: '<?php echo base_url('atendimentos/addAtendimentoUrgenciaEmergenciaManual') ?>',
            type: 'post',
            data: {
                codPaciente: codPacienteTmp,
                codEspecialidade: 29, // 29 = CLÍNICA MÉDICA
                codLocalAtendimento: 0,
                codTipoAtendimento: 1,
                queixaPrincipal: document.getElementById('queixaPrincipalUrgenciaEmergenciaTextarea').value,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            dataType: 'json',
            success: function(resultUrgenciaEmergenciaAgora) {


                if (resultUrgenciaEmergenciaAgora.success === true) {



                    if ($('#prontuarioModal').is(':visible') == true) {
                        //$('#iniciarAtendimentoModal').modal('hide');

                        if ($('#iniciarAtendimentoModal').is(':visible') == true) {
                            $('#iniciarAtendimentoModal').modal('hide');
                        }

                        if ($('#iniciarAtendimentoUrgenciaEmergenciaModal').is(':visible') == true) {
                            $('#iniciarAtendimentoUrgenciaEmergenciaModal').modal('hide');
                            todosAtendimentos(codPacienteTmp);
						//$('#data_tableAtendimentos').DataTable().ajax.reload(null, false).draw(false);

                        }




                    } else {


                        $('#iniciarAtendimentoUrgenciaEmergenciaModal').modal('hide');
                        $('#data_tableListarUrgenciaEmergenciaAcolhimento').DataTable().ajax.reload(null, false).draw(false);


                        if ($('#todosPacientesModal').is(':visible') == true) {
                            $('#todosPacientesModal').modal('hide');
                        }


                        if ($('#perfilPacienteModal').is(':visible') == true) {
                            $('#perfilPacienteModal').modal('hide');
                        }
                    }









                    Swal.fire({
                        position: 'bottom-end',
                        icon: 'success',
                        html: resultUrgenciaEmergenciaAgora.messages,
                        showConfirmButton: false,
                        timer: 4000
                    })
                }


                if (resultUrgenciaEmergenciaAgora.success === false) {

                    //$('#data_tablepaciente').DataTable().ajax.reload(null, false).draw(false);
                    //todosAtendimentos(codPacienteTmp);
						//$('#data_tableAtendimentos').DataTable().ajax.reload(null, false).draw(false);


                    if ($('#prontuarioModal').is(':visible') == true) {
                        todosAtendimentos(codPacienteTmp);
						//$('#data_tableAtendimentos').DataTable().ajax.reload(null, false).draw(false);

                    }




                    Swal.fire({
                        position: 'bottom-end',
                        icon: 'error',
                        html: resultUrgenciaEmergenciaAgora.messages,
                        showConfirmButton: false,
                        timer: 4000
                    })
                }


                if (resultUrgenciaEmergenciaAgora.success === 'info') {
                    Swal.fire({
                        position: 'bottom-end',
                        icon: 'info',
                        title: resultUrgenciaEmergenciaAgora.messages,
                        showConfirmButton: false,
                        timer: 4000

                    })

                    if ($('#perfilPacienteModal').is(':visible') == true) {
                        $('#perfilPacienteModal').modal('hide');
                    }

                    if ($('#todosPacientesModal').is(':visible') == true) {
                        $('#todosPacientesModal').modal('hide');
                    }

                    //listaUrgenciaEmergencia();
                    //prontuario(resultUrgenciaEmergenciaAgora.codPaciente);
                }



            }
        }).always(
            Swal.fire({
                title: 'Estamos iniciando o atendimento',
                html: 'Aguarde....',
                timerProgressBar: true,
                didOpen: () => {
                    Swal.showLoading()


                }

            }))

    }

    function iniciarAtendimentoAmbulatorioAgora() {



        if (document.getElementById('codEspecialidadeAtendimento').value == null || document.getElementById('codEspecialidadeAtendimento').value == '' || document.getElementById('codEspecialidadeAtendimento').value == undefined) {
            Swal.fire({
                position: 'bottom-end',
                icon: 'error',
                title: 'Não é possível prosseguir sem a especialidade do atendimento. Defina-a!',
                showConfirmButton: false,
                timer: 4000
            })
            //exit();
            throw new Error('Não é possível prosseguir sem a especialidade do atendimento. Defina-a!');
        }

        if (document.getElementById('codLocalAtendimentoAdd').value > 0) {

        } else {
            Swal.fire({
                position: 'bottom-end',
                icon: 'error',
                title: 'Não é possível prosseguir sem o local do atendimento. Defina-o!',
                showConfirmButton: false,
                timer: 4000
            })
            //exit();
            throw new Error('Não é possível prosseguir sem o local do atendimento. Defina-o!');
        }


        $('#iniciarAtendimentoAmbulatorioModal').modal('hide');
        $('#iniciarAtendimentoModal').modal('hide');

        $.ajax({
            url: '<?php echo base_url('atendimentos/addAtendimentoAmbulatorioManual') ?>',
            type: 'post',
            data: {
                codPaciente: codPacienteTmp,
                codEspecialidade: document.getElementById('codEspecialidadeAtendimento').value,
                codLocalAtendimento: document.getElementById('codLocalAtendimentoAdd').value,
                codTipoAtendimento: 2,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            dataType: 'json',
            success: function(iniciarAtendimentoAmbulatorioAgora) {
                if (iniciarAtendimentoAmbulatorioAgora.success === true) {


                    //prontuario(codPacienteTmp);

                    //$('#data_tablepaciente').DataTable().ajax.reload(null, false).draw(false);

                    /*
                    Swal.fire({
                    	position: 'bottom-end',
                    	icon: 'success',
                    	title: iniciarAtendimentoAmbulatorioAgora.messages,

                    	showConfirmButton: true,
                    	confirmButtonText: 'Ok',
                    })
                    */


                    if ($('#tituloProntuarioModal').is(':visible') == true) {
                        todosAtendimentos(codPacienteTmp);
						//$('#data_tableAtendimentos').DataTable().ajax.reload(null, false).draw(false);
                        editarAtendimento(iniciarAtendimentoAmbulatorioAgora.codAtendimento);

                    }



                }


                if (iniciarAtendimentoAmbulatorioAgora.success === false) {

                    //$('#data_tablepaciente').DataTable().ajax.reload(null, false).draw(false);

                    Swal.fire({
                        position: 'bottom-end',
                        icon: 'error',
                        html: iniciarAtendimentoAmbulatorioAgora.messages,
                        showConfirmButton: false,
                        timer: 4000
                    })
                }


                if (iniciarAtendimentoAmbulatorioAgora.success === 'info') {
                    Swal.fire({
                        icon: 'info',
                        title: iniciarAtendimentoAmbulatorioAgora.messages,
                        html: iniciarAtendimentoAmbulatorioAgora.botao,

                    })
                    //prontuario(iniciarAtendimentoAmbulatorioAgora.codPaciente);
                }



            }
        }).always(
            Swal.fire({
                title: 'Estamos carregando prontuário',
                html: 'Aguarde....',
                timerProgressBar: true,
                didOpen: () => {
                    Swal.showLoading()


                }

            }))

    }

    function iniciarTratamentoOncologicoAgora() {


        $('#iniciarTratamentoOncologicoModal').modal('hide');
        $('#iniciarAtendimentoModal').modal('hide');

        $.ajax({
            url: '<?php echo base_url('atendimentos/addTratamentoOncologicoManual') ?>',
            type: 'post',
            data: {
                codPaciente: codPacienteTmp,
                codEspecialidade: 13,
                codLocalAtendimento: 251,
                codTipoAtendimento: 6,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            dataType: 'json',
            success: function(iniciarTratamentoOncologicoAgora) {
                if (iniciarTratamentoOncologicoAgora.success === true) {

                    if ($('#tituloProntuarioModal').is(':visible') == true) {
                        todosAtendimentos(codPacienteTmp);
						//$('#data_tableAtendimentos').DataTable().ajax.reload(null, false).draw(false);
                        editarAtendimento(iniciarTratamentoOncologicoAgora.codAtendimento);

                    }

                }


                if (iniciarTratamentoOncologicoAgora.success === false) {

                    //$('#data_tablepaciente').DataTable().ajax.reload(null, false).draw(false);

                    Swal.fire({
                        position: 'bottom-end',
                        icon: 'error',
                        html: iniciarTratamentoOncologicoAgora.messages,
                        showConfirmButton: false,
                        timer: 4000
                    })
                }


                if (iniciarTratamentoOncologicoAgora.success === 'info') {
                    Swal.fire({
                        position: 'bottom-end',
                        icon: 'info',
                        title: iniciarTratamentoOncologicoAgora.messages,
                        html: iniciarTratamentoOncologicoAgora.botao,
                        showConfirmButton: false,
                        timer: 4000

                    })
                    //prontuario(iniciarTratamentoOncologicoAgora.codPaciente);
                }



            }
        }).always(
            Swal.fire({
                title: 'Estamos carregando prontuário',
                html: 'Aguarde....',
                timerProgressBar: true,
                didOpen: () => {
                    Swal.showLoading()


                }

            }))

    }

    function iniciarAtendimentoAmbulatorio(codPaciente) {


        document.getElementById('dadosPaciente').innerHTML =

            '<div style="font-size:18px;font-weight: bold;" class="row  align-items-center h-100">' +
            '<div class="col-md-3">' +
            fotoPerfilPacienteTmp +
            '</div>' +
            '<div class="col-md-6">' +
            '<div class="row">' + nomePacienteTmp + ' (' + idadePacienteTmp + ')</div>' +
            '<div class="row">CPF: ' + cpfPacienteTmp + '</div>' +
            '<div class="row">Nº Prontuario: ' + codProntuarioTmp + '</div>' +
            '</div>' +
            '</div>';



        $.ajax({
            url: '<?php echo base_url('especialidades/statusMinhasEspecialidades') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(statusMinhasEspecialidades) {

                if (statusMinhasEspecialidades.success === true) {


                    if (statusMinhasEspecialidades.statusMinhasEspecialidades == 0) {
                        Swal.fire({
                            position: 'bottom-end',
                            icon: 'warning',
                            title: 'Apenas profissionais de saúde tem acesso a este recurso',
                            showConfirmButton: false,
                            timer: 4000
                        })

                        throw new Error('Apenas profissionais de saúde tem acesso a este recurso');

                    }



                    if (statusMinhasEspecialidades.statusMinhasEspecialidades == 1) {

                        $('#iniciarAtendimentoAmbulatorioModal').modal('show');



                        if (statusMinhasEspecialidades.codEspecialidadeAtendimento == null || statusMinhasEspecialidades.codEspecialidadeAtendimento == 'undefined' || statusMinhasEspecialidades.codEspecialidadeAtendimento == '') {

                            document.getElementById('definirEspecialidade').innerHTML = statusMinhasEspecialidades.selectEspecialidadeAtendimento;

                        } else {

                            document.getElementById('definirEspecialidade').innerHTML =
                                '<input required type="hidden" id="codEspecialidadeAtendimento" name="codEspecialidadeAtendimento" value="' + statusMinhasEspecialidades.codEspecialidadeAtendimento + '">' +
                                '<div  style="font-size:18px;font-weight: bold;">' +
                                statusMinhasEspecialidades.nomeEspecialidadeAtendimento +
                                '</div>';



                        }



                        if (statusMinhasEspecialidades.codLocalAtendimento !== 0) {

                            document.getElementById('definirLocalAtendimento').innerHTML =
                                '<div style="font-size:18px;font-weight: bold;" class="row">' +
                                '<input required type="hidden" id="codLocalAtendimentoAdd" name="codLocalAtendimento" value="' + statusMinhasEspecialidades.codLocalAtendimento + '">' +
                                '<div class="col-md-6">' +
                                statusMinhasEspecialidades.nomeLocalAtendimento +
                                '</div>' +
                                '</div>';

                        }
                        if (statusMinhasEspecialidades.codLocalAtendimento == 0) {


                            document.getElementById('definirLocalAtendimento').innerHTML =
                                '<div class="row">' +
                                '<div class="col-md-6">' +
                                '<div class="form-group">' +
                                '<label for="codDepartamentoAtendimentoAdd"> Departamento: <span class="text-danger">*</span> </label>' +
                                '<select required id="codDepartamentoAtendimentoAdd" name="codDepartamento" class="custom-select" required>' +
                                '</select>' +
                                '</div>' +
                                '</div>' +
                                '<div class="col-md-6">' +
                                '<div class="form-group">' +
                                '<label for="codLocalAtendimento"> Local: <span class="text-danger">*</span> </label>' +
                                '<select required id="codLocalAtendimentoAdd" name="codLocalAtendimento" class="custom-select" required>' +
                                '</select>' +
                                '</div>' +
                                '</div>' +
                                '</div>';



                            $.ajax({
                                url: '<?php echo base_url('departamentos/listaDropDownDepartamentosAtendimento') ?>',
                                type: 'post',
                                dataType: 'json',
                                data: {
                                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                                },
                                success: function(codDepartamentoAtendimentoAdd) {

                                    $("#codDepartamentoAtendimentoAdd").select2({
                                        data: codDepartamentoAtendimentoAdd,
                                    })

                                    $('#codDepartamentoAtendimentoAdd').val('<?php echo session()->codDepartamento ?>');
                                    $('#codDepartamentoAtendimentoAdd').trigger('change');
                                    $(document).on('select2:open', () => {
                                        document.querySelector('.select2-search__field').focus();
                                    });



                                }
                            })


                            $("#codDepartamentoAtendimentoAdd").on("change", function() {


                                $('#codLocalAtendimentoAdd').html('').select2({
                                    data: [{
                                        id: null,
                                        text: ''
                                    }]
                                });

                                if ($(this).val() !== '') {
                                    codDepartamento = $(this).val();
                                } else {
                                    codDepartamento = 0;
                                }

                                $.ajax({
                                    url: '<?php echo base_url('atendimentosLocais/listaDropDownAtivos') ?>',
                                    type: 'post',
                                    dataType: 'json',
                                    data: {
                                        codDepartamento: codDepartamento,
                                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                                    },

                                    success: function(codLocalAtendimentoAdd) {

                                        $("#codLocalAtendimentoAdd").select2({
                                            data: codLocalAtendimentoAdd,
                                        })



                                    }
                                })


                            });




                        }

                    }



                }
            }
        })







    }



    function iniciarTratamentoOncologico(codPaciente) {



        if (especialidadeAuxiliar == 1) {

            Swal.fire({
                icon: 'warning',
                title: 'Você não pode iniciar o atendimento. Solicite a abertura do atendimento pelo Médico Especialista',
                showConfirmButton: true,
                confirmButtonText: 'Ok',
            })

            throw new Error('Solicite a abertura do atendimento pelo Médico Especialista.');
        }





        document.getElementById('dadosPacienteOncologico').innerHTML =

            '<div style="font-size:18px;font-weight: bold;" class="row  align-items-center h-100">' +
            '<div class="col-md-3">' +
            fotoPerfilPacienteTmp +
            '</div>' +
            '<div class="col-md-6">' +
            '<div class="row">' + nomePacienteTmp + ' (' + idadePacienteTmp + ')</div>' +
            '<div class="row">CPF: ' + cpfPacienteTmp + '</div>' +
            '<div class="row">Nº Prontuario: ' + codProntuarioTmp + '</div>' +
            '</div>' +
            '</div>';



        $.ajax({
            url: '<?php echo base_url('especialidades/statusMinhasEspecialidades') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(statusMinhasEspecialidades) {

                if (statusMinhasEspecialidades.success === true) {


                    if (statusMinhasEspecialidades.statusMinhasEspecialidades == 0) {
                        Swal.fire({
                            position: 'bottom-end',
                            icon: 'warning',
                            title: 'Apenas profissionais de saúde tem acesso a este recurso',
                            showConfirmButton: false,
                            timer: 4000
                        })

                        throw new Error('Apenas profissionais de saúde tem acesso a este recurso');

                    }



                    if (statusMinhasEspecialidades.statusMinhasEspecialidades == 1) {

                        $('#iniciarTratamentoOncologicoModal').modal('show');




                    }



                }
            }
        })







    }


    function removeprevisaoAlta(codPrevAlta) {
        Swal.fire({
            title: 'Você tem certeza que deseja remover?',
            text: "Você não poderá reverter após a confirmação",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {
                $.ajax({
                    url: '<?php echo base_url('previsaoAlta/remove') ?>',
                    type: 'post',
                    data: {
                        codPrevAlta: codPrevAlta,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    dataType: 'json',
                    success: function(response) {

                        if (response.success === true) {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {
                                $('#data_tableprevisaoAlta').DataTable().ajax.reload(null, false).draw(false);

                                //PREVISÃO DE ALTA
                                $.ajax({
                                    url: '<?php echo base_url('Atendimentos/previsaoAlta') ?>',
                                    type: 'post',
                                    dataType: 'json',
                                    data: {
                                        codAtendimento: codAtendimentoTmp,
                                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                                    },
                                    success: function(dataAlta) {


                                        if (dataAlta.dataPrevAlta !== null) {

                                            document.getElementById('previsaoAltaInfo').innerHTML = dataAlta.dataPrevAlta;
                                            document.getElementById('diasParaAltaInfo').innerHTML = dataAlta.diasParaAlta;
                                        } else {

                                            if (dataAlta.indeterminado == 1) {

                                                document.getElementById('previsaoAltaInfo').innerHTML = 'Indeterminado';
                                                document.getElementById('diasParaAltaInfo').innerHTML = null;
                                            } else {

                                                document.getElementById('previsaoAltaInfo').innerHTML = 'Não Informado';
                                                document.getElementById('diasParaAltaInfo').innerHTML = null;

                                                document.getElementById('diasParaAltaInfo').innerHTML = dataAlta.diasParaAlta;

                                            }



                                        }

                                    }
                                })

                            })
                        } else {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'error',
                                title: response.messages
                            })


                        }
                    }
                });
            }
        })
    }


    function iniciarTratamentoCirurgico(codPaciente) {



        if (especialidadeAuxiliar == 1) {

            Swal.fire({
                icon: 'warning',
                title: 'Você não pode iniciar o atendimento. Solicite a abertura do atendimento pelo Médico Cirurgião',
                showConfirmButton: true,
                confirmButtonText: 'Ok',
            })

            throw new Error('Você não pode iniciar o atendimento. Solicite a abertura do atendimento pelo Médico Cirurgião');
        }





        document.getElementById('dadosPacienteCirurgico').innerHTML =

            '<div style="font-size:18px;font-weight: bold;" class="row  align-items-center h-100">' +
            '<div class="col-md-3">' +
            fotoPerfilPacienteTmp +
            '</div>' +
            '<div class="col-md-6">' +
            '<div class="row">' + nomePacienteTmp + ' (' + idadePacienteTmp + ')</div>' +
            '<div class="row">CPF: ' + cpfPacienteTmp + '</div>' +
            '<div class="row">Nº Prontuario: ' + codProntuarioTmp + '</div>' +
            '</div>' +
            '</div>';



        $.ajax({
            url: '<?php echo base_url('especialidades/statusMinhasEspecialidades') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(statusMinhasEspecialidades) {

                if (statusMinhasEspecialidades.success === true) {


                    if (statusMinhasEspecialidades.statusMinhasEspecialidades == 0) {
                        Swal.fire({
                            position: 'bottom-end',
                            icon: 'warning',
                            title: 'Apenas profissionais de saúde tem acesso a este recurso',
                            showConfirmButton: false,
                            timer: 4000
                        })

                        throw new Error('Apenas profissionais de saúde tem acesso a este recurso');

                    }



                    if (statusMinhasEspecialidades.statusMinhasEspecialidades == 1) {

                        $(".form-control").removeClass('is-invalid').removeClass('is-valid');
                        $('#iniciarTratamentoCiruegicoModal').modal('show');

                        document.getElementById('codPacienteTratamentoCirurgicoAdd').value = codPacienteTmp;

                        $.ajax({
                            url: '<?php echo base_url('especialidades/listaDropDownEspecialidades') ?>',
                            type: 'post',
                            dataType: 'json',
                            data: {
                                csrf_sandra: $("#csrf_sandraPrincipal").val(),
                            },
                            success: function(codEspecialidadeTratamentoCirurgicoAdd) {

                                $("#codEspecialidadeTratamentoCirurgico").select2({
                                    data: codEspecialidadeTratamentoCirurgicoAdd,
                                })

                                $('#codEspecialidadeTratamentoCirurgico').val(codEspecialidadeTmp);
                                $('#codEspecialidadeTratamentoCirurgico').trigger('change');
                                $(document).on('select2:open', () => {
                                    document.querySelector('.select2-search__field').focus();
                                });



                            }
                        })


                        $.ajax({
                            url: '<?php echo base_url('departamentos/listaDropDownUnidadesFaturamento') ?>',
                            type: 'post',
                            dataType: 'json',
                            data: {
                                csrf_sandra: $("#csrf_sandraPrincipal").val(),
                            },
                            success: function(codDepartamentoTratamentoCirurgicoAdd) {

                                $("#codDepartamentoTratamentoCirurgicoAdd").select2({
                                    data: codDepartamentoTratamentoCirurgicoAdd,
                                })

                                $('#codDepartamentoTratamentoCirurgicoAdd').val(codDepartamentoTmp);
                                $('#codDepartamentoTratamentoCirurgicoAdd').trigger('change');
                                $(document).on('select2:open', () => {
                                    document.querySelector('.select2-search__field').focus();
                                });



                            }
                        })





                        $("#codDepartamentoTratamentoCirurgicoAdd").on("change", function() {


                            $('#codLocalTratamentoCirurgicoAdd').html('').select2({
                                data: [{
                                    id: null,
                                    text: ''
                                }]
                            });

                            if ($(this).val() !== '') {
                                codDepartamento = $(this).val();
                                codDepartamentoTmp = $(this).val();
                            } else {
                                codDepartamento = 0;
                            }

                            $.ajax({
                                url: '<?php echo base_url('atendimentosLocais/listaDropDownAtivos') ?>',
                                type: 'post',
                                dataType: 'json',
                                data: {
                                    codDepartamento: codDepartamento,
                                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                                },

                                success: function(codLocalTratamentoCirurgicoAdd) {

                                    $("#codLocalTratamentoCirurgicoAdd").select2({
                                        data: codLocalTratamentoCirurgicoAdd,
                                    })


                                    $('#codLocalTratamentoCirurgicoAdd').val(codLocalAtendimentoTmp);
                                    $('#codLocalTratamentoCirurgicoAdd').trigger('change');
                                    $(document).on('select2:open', () => {
                                        document.querySelector('.select2-search__field').focus();
                                    });



                                }
                            })


                        });


                        $("#codLocalTratamentoCirurgicoAdd").on("change", function() {
                            if ($(this).val() !== '') {
                                codLocalAtendimentoTmp = $(this).val();
                            } else {
                                codLocalAtendimentoTmp = null;
                            }

                        });





                        $.validator.setDefaults({
                            highlight: function(element) {
                                $(element).addClass('is-invalid').removeClass('is-valid');
                            },
                            unhighlight: function(element) {
                                $(element).removeClass('is-invalid').addClass('is-valid');
                            },
                            errorElement: 'div ',
                            errorClass: 'invalid-feedback',
                            errorPlacement: function(error, element) {
                                if (element.parent('.input-group').length) {
                                    error.insertAfter(element.parent());
                                } else if ($(element).is('.select')) {
                                    element.next().after(error);
                                } else if (element.hasClass('select2')) {
                                    //error.insertAfter(element);
                                    error.insertAfter(element.next());
                                } else if (element.hasClass('selectpicker')) {
                                    error.insertAfter(element.next());
                                } else {
                                    error.insertAfter(element);
                                }
                            },

                            submitHandler: function(form) {

                                var form = $('#iniciarTratamentoCirurgicoForm');
                                // remove the text-danger
                                $(".text-danger").remove();

                                $.ajax({
                                    url: '<?php echo base_url('atendimentos/addTratamentoCirurgicoManual') ?>',
                                    type: 'post',
                                    data: form.serialize(), // /converting the form data into array and sending it to server
                                    dataType: 'json',
                                    success: function(response) {

                                        if (response.success === true) {
                                            $('#iniciarTratamentoCiruegicoModal').modal('hide');
                                            $('#iniciarAtendimentoModal').modal('hide');

                                            editarAtendimento(response.codAtendimento);



                                            var Toast = Swal.mixin({
                                                toast: true,
                                                position: 'bottom-end',
                                                showConfirmButton: false,
                                                timer: 2000
                                            });
                                            Toast.fire({
                                                icon: 'success',
                                                title: response.messages
                                            }).then(function() {


                                                todosAtendimentos(codPacienteTmp);
						//$('#data_tableAtendimentos').DataTable().ajax.reload(null, false).draw(false);
                                            })

                                        } else {

                                            if (response.messages instanceof Object) {
                                                $.each(response.messages, function(index, value) {
                                                    var id = $("#" + index);

                                                    id.closest('.form-control')
                                                        .removeClass('is-invalid')
                                                        .removeClass('is-valid')
                                                        .addClass(value.length > 0 ? 'is-invalid' : 'is-valid');

                                                    id.after(value);

                                                });
                                            } else {

                                                var Toast = Swal.mixin({
                                                    toast: true,
                                                    position: 'bottom-end',
                                                    showConfirmButton: false,
                                                    timer: 2000
                                                });
                                                Toast.fire({
                                                    icon: 'error',
                                                    title: response.messages
                                                })

                                            }
                                        }
                                    }
                                });

                                return false;
                            }
                        });
                        $('#iniciarTratamentoCirurgicoForm').validate();





                    }



                }
            }
        })







    }


    function iniciarAtendimentoUrgenciaEmergencia(codPaciente) {


        document.getElementById('dadosPacienteUrgenciaEmergencia').innerHTML =

            '<div style="font-size:18px;font-weight: bold;" class="row  align-items-center h-100">' +
            '<div class="col-md-3">' +
            fotoPerfilPacienteTmp +
            '</div>' +
            '<div class="col-md-6">' +
            '<div class="row">' + nomeCargoTmp + ' ' + nomePacienteTmp + ' (' + idadePacienteTmp + ')</div>' +
            '<div class="row">CPF: ' + cpfPacienteTmp + '</div>' +
            '<div class="row">Nº Prontuario: ' + codProntuarioTmp + '</div>' +
            '</div>' +
            '</div>';



        $('#iniciarAtendimentoUrgenciaEmergenciaModal').modal('show');


        $('#queixaPrincipalUrgenciaEmergenciaTextarea').summernote({
            height: 200,
            maximumImageFileSize: 1024 * 1024, // 1Mb
            fontSizes: ['8', '9', '10', '11', '12', '14', '18', '20', '36', '72'],
            lineHeights: ['0.2', '0.3', '0.4', '0.5', '0.6', '0.8', '1.0', '1.2', '1.4', '1.5', '2.0', '3.0'],
            toolbar: [
                ['style', ['style']],
                ['fontname', ['fontname']],
                ['font', ['color', 'strikethrough', 'superscript', 'subscript', 'bold', 'underline', 'clear']],
                ['fontsize', ['fontsize']],
                ['height', ['height']],
                ['para', ['ul', 'ol', 'paragraph']],
                ['table', ['table']],
                ['insert', ['link', 'hr']],
                ['view', ['fullscreen', 'codeview', 'help']],
                ['redo'],
                ['undo'],
            ],
        })

        $('#queixaPrincipalUrgenciaEmergenciaTextarea').summernote('reset');




    }

    function iniciarAtendimento(codPaciente) {

        $('#iniciarAtendimentoModal').modal('show');

        /*
        		statusMinhasEspecialidades = '<?php echo $statusMinhasEspecialidades ?>';

        		if (statusMinhasEspecialidades == 0) {
        			Swal.fire({
        				position: 'bottom-end',
        				icon: 'warning',
        				title: 'Apenas profissionais de saúde tem acesso a este recurso',
        				showConfirmButton: false,
        				timer: 4000
        			})

        		}


        		if (statusMinhasEspecialidades == 1) {
        			$('#iniciarAtendimentoModal').modal('show');

        		}

        		*/

    }


    function removeprescricoesKit(codPrescricaoKit) {
        Swal.fire({
            title: 'Você tem certeza que deseja remover este Kit?',
            text: "Esta ação irá remover medicamentos e materiais contidos no kit que foram lançados automaticamente na prescrição",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {
                $.ajax({
                    url: '<?php echo base_url('prescricoesKit/remove') ?>',
                    type: 'post',
                    data: {
                        codPrescricaoKit: codPrescricaoKit,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    dataType: 'json',
                    success: function(response) {

                        if (response.success === true) {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {
                                $('#data_tableprescricoesKit').DataTable().ajax.reload(null, false).draw(false);
                                $('#data_tableprescricoesMaterial').DataTable().ajax.reload(null, false).draw(false);
                                $('#data_tableprescricaoMedicamentos').DataTable().ajax.reload(null, false).draw(false);
                                $('#data_tableprescricaoDietas').DataTable().ajax.reload(null, false).draw(false);

                            })
                        } else {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'error',
                                title: response.messages
                            })


                        }
                    }
                });
            }
        })
    }


    function editPacienteForm(codPaciente) {




        $("#editPacienteForm")[0].reset();
        $(".form-control").removeClass('is-invalid').removeClass('is-valid');
        $('#editPacienteModal').modal('show');



        fotoPerfilTmp = 0;
        // reset the form
        $.ajax({
            url: '<?php echo base_url('pacientes/limpaOutrosContatosTmp') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(limpaContatos) {}
        })





        $.ajax({
            url: '<?php echo base_url('pacientes/getOne') ?>',
            type: 'post',
            data: {
                codPaciente: codPaciente,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            dataType: 'json',
            success: function(responseEdit) {

                if (responseEdit.acessoNegado === true) {
                    Swal.fire({
                        position: 'bottom-end',
                        icon: 'warning',
                        html: responseEdit.messages,
                        showConfirmButton: false,
                        timer: 4000
                    })
                    //exit();
                    throw new Error(responseEdit.messages);

                }
                if (responseEdit.codProntuario !== null) {
                    prontuarioTitulo = responseEdit.codProntuario
                } else {
                    prontuarioTitulo = "";
                }
                $("#editPacienteForm #codPacienteEdit").val(codPaciente);
                $("#editPacienteForm #codOrganizacaoEdit").val(responseEdit.codOrganizacao);
                $("#editPacienteForm #sexoEdit").val(responseEdit.sexo);
                $("#editPacienteForm #dataNascimentoEdit").val(responseEdit.dataNascimento);
                $("#editPacienteForm #validadeEdit").val(responseEdit.validade);
                $("#editPacienteForm #nomeCompletoEdit").val(responseEdit.nomeCompleto);
                $("#editPacienteForm #codPlanoEdit").val(responseEdit.codPlano);
                $("#editPacienteForm #cpfEdit").val(responseEdit.cpf);
                $("#editPacienteForm #identidadeEdit").val(responseEdit.identidade);
                $("#editPacienteForm #nomePaiEdit").val(responseEdit.nomePai);
                $("#editPacienteForm #nomeMaeEdit").val(responseEdit.nomeMae);
                $("#editPacienteForm #emailPessoalEdit").val(responseEdit.emailPessoal);
                $("#editPacienteForm #celularEdit").val(responseEdit.celular);
                $("#editPacienteForm #enderecoEdit").val(responseEdit.endereco);
                $("#editPacienteForm #cepEdit").val(responseEdit.cep);
                $("#editPacienteForm #informacoesComplementaresEdit").val(responseEdit.informacoesComplementares);

                $("#editIncluiContatoForm #codPacienteOutrosContatosEdit").val(codPaciente);


                document.getElementById('fotoPerfilCadastroEdit').innerHTML =
                    '<img alt="" width="160px" height="125px" src="arquivos/imagens/pacientes/' + responseEdit.fotoPerfil + "?" + new Date().getTime() + '"/>';





                //SELECTS
                autor = "";
                ultimaAlteracao = "";
                if (responseEdit.autorUltimaAtualizacao !== null) {
                    autor = responseEdit.autorUltimaAtualizacao;
                }
                if (responseEdit.dataUltimaAtualizacao !== null) {
                    ultimaAlteracao = responseEdit.dataUltimaAtualizacao;
                }
                document.getElementById('ultimaAuteracaoEdit').innerHTML =
                    '<span>' + autor + ' em ' + ultimaAlteracao + '.</span>'


                $.ajax({
                    url: '<?php echo base_url('pacientes/listaDropDownForca') ?>',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    success: function(forcaEdit) {

                        $("#forcaEdit").select2({
                            data: forcaEdit,
                        })

                        $('#forcaEdit').val(responseEdit.codForca);
                        $('#forcaEdit').trigger('change');
                        $(document).on('select2:open', () => {
                            document.querySelector('.select2-search__field').focus();
                        });

                    }
                })



                $.ajax({
                    url: '<?php echo base_url('pacientes/listaDropDownCargos') ?>',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    success: function(cargosEdit) {

                        $("#codCargoEdit").select2({
                            data: cargosEdit,
                        })

                        $('#codCargoEdit').val(responseEdit.codCargo);
                        $('#codCargoEdit').trigger('change');
                        $(document).on('select2:open', () => {
                            document.querySelector('.select2-search__field').focus();
                        });

                    }
                })



                $.ajax({
                    url: '<?php echo base_url('pacientes/listaDropDownOm') ?>',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    success: function(codOmEdit) {

                        $("#codOmEdit").select2({
                            data: codOmEdit,
                        })

                        $('#codOmEdit').val(responseEdit.codOm);
                        $('#codOmEdit').trigger('change');
                        $(document).on('select2:open', () => {
                            document.querySelector('.select2-search__field').focus();
                        });

                    }
                })




                $.ajax({
                    url: '<?php echo base_url('pacientes/listaDropDownTipoBeneficiario') ?>',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    success: function(codTipoBeneficiarioEdit) {

                        $("#codTipoBeneficiarioEdit").select2({
                            data: codTipoBeneficiarioEdit,
                        })

                        $('#codTipoBeneficiarioEdit').val(responseEdit.codTipoBeneficiario);
                        $('#codTipoBeneficiarioEdit').trigger('change');
                        $(document).on('select2:open', () => {
                            document.querySelector('.select2-search__field').focus();
                        });

                    }
                })



                $.ajax({
                    url: '<?php echo base_url('pacientes/listaDropDownStatusCadastroPaciente') ?>',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    success: function(codStatusCadastroPacienteEdit) {

                        $("#codStatusCadastroPacienteEdit").select2({
                            data: codStatusCadastroPacienteEdit,
                        })

                        $('#codStatusCadastroPacienteEdit').val(responseEdit.codStatusCadastroPaciente);
                        $('#codStatusCadastroPacienteEdit').trigger('change');
                        $(document).on('select2:open', () => {
                            document.querySelector('.select2-search__field').focus();
                        });

                    }
                })



                $.ajax({
                    url: '<?php echo base_url('pacientes/listaDropDownTipoSanguineo') ?>',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    success: function(TipoSanguineoEdit) {

                        $("#codTipoSanguineoEdit").select2({
                            data: TipoSanguineoEdit,
                        })

                        $('#codTipoSanguineoEdit').val(responseEdit.codTipoSanguineo);
                        $('#codTipoSanguineoEdit').trigger('change');
                        $(document).on('select2:open', () => {
                            document.querySelector('.select2-search__field').focus();
                        });

                    }
                })

                $.ajax({
                    url: '<?php echo base_url('pacientes/listaDropDownRaca') ?>',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    success: function(racaEdit) {

                        $("#codRacaEdit").select2({
                            data: racaEdit,
                        })

                        $('#codRacaEdit').val(responseEdit.codRaca);
                        $('#codRacaEdit').trigger('change');
                        $(document).on('select2:open', () => {
                            document.querySelector('.select2-search__field').focus();
                        });

                    }
                })


                $('#data_outrosContatosEdit').DataTable({
                    "bDestroy": true,
                    "paging": false,
                    "lengthChange": false,
                    "searching": false,
                    "ordering": false,
                    "info": false,
                    "autoWidth": false,
                    "responsive": true,
                    "ajax": {
                        "url": '<?php echo base_url($controller . '/getOutrosContatos') ?>',
                        "type": "POST",
                        "dataType": "json",
                        async: "false",
                        data: {
                            codPaciente: codPaciente,
                            csrf_sandra: $("#csrf_sandraPrincipal").val(),
                        }
                    }
                });


                //ADD text editor
                $('#informacoesComplementaresEdit').summernote({
                    height: 150,
                    maximumImageFileSize: 1024 * 1024, // 1Mb
                    fontSizes: ['8', '9', '10', '11', '12', '14', '18', '20', '36', '72'],
                    lineHeights: ['0.2', '0.3', '0.4', '0.5', '0.6', '0.8', '1.0', '1.2', '1.4', '1.5', '2.0', '3.0'],
                    toolbar: [
                        ['style', ['style']],
                        ['fontname', ['fontname']],
                        ['font', ['color', 'strikethrough', 'superscript', 'subscript', 'bold', 'underline', 'clear']],
                        ['fontsize', ['fontsize']],
                        ['height', ['height']],
                        ['para', ['ul', 'ol', 'paragraph']],
                        ['table', ['table']],
                        ['insert', ['link', 'hr']],
                        ['view', ['fullscreen', 'codeview', 'help']],
                        ['redo'],
                        ['undo'],
                    ],

                })

                $('#informacoesComplementaresEdit').summernote('reset');


                // submit the edit from
                $.validator.setDefaults({
                    highlight: function(element) {
                        $(element).addClass('is-invalid').removeClass('is-valid');
                    },
                    unhighlight: function(element) {
                        $(element).removeClass('is-invalid').addClass('is-valid');
                    },
                    errorElement: 'div ',
                    errorClass: 'invalid-feedback',
                    errorPlacement: function(error, element) {
                        if (element.parent('.input-group').length) {
                            error.insertAfter(element.parent());
                        } else if ($(element).is('.select')) {
                            element.next().after(error);
                        } else if (element.hasClass('select2')) {
                            //error.insertAfter(element);
                            error.insertAfter(element.next());
                        } else if (element.hasClass('selectpicker')) {
                            error.insertAfter(element.next());
                        } else {
                            error.insertAfter(element);
                        }
                    },

                    submitHandler: function(form) {

                        var form = $('#editPacienteForm');


                        if (fotoPerfilTmp !== 0) {
                            $.ajax({
                                url: '<?php echo base_url('pacientes/uploadFoto') ?>',
                                type: 'post',
                                dataType: 'json',
                                data: {
                                    imagem: fotoPerfilTmp,
                                    cpf: $("#editPacienteForm #cpfEdit").val(),
                                    codPaciente: $("#editPacienteForm #codPacienteEdit").val(),
                                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                                },
                                success: function(uploadFoto) {

                                    if (uploadFoto.success === true) {

                                        document.getElementById('fotoPerfilCadastroPerfil').innerHTML =
                                            '<img style="width:200px;height:auto" class="profile-user-img img-fluid img-circle" alt="" src="arquivos/imagens/pacientes/' + uploadFoto.fotoPerfil + '"/>';

                                    }

                                }
                            })
                        }

                        $(".text-danger").remove();
                        $.ajax({
                            url: '<?php echo base_url('pacientes/edit') ?>',
                            type: 'post',
                            data: form.serialize(),
                            dataType: 'json',
                            success: function(editPaciente) {

                                if (editPaciente.success === true) {

                                    $('#editPacienteModal').modal('hide');





                                    //ATUALIZA DADOS

                                    if ($('#perfilPacienteModal').is(':visible') == true) {

                                        nomeStatus = "";
                                        nomeStatusCadastroPacienteTmp = "";



                                        document.getElementById('cpfPerfil').innerHTML = editPaciente.cpf;
                                        document.getElementById('codPlanoPerfil').innerHTML = editPaciente.codPlano;
                                        document.getElementById('enderecoPerfil').innerHTML = editPaciente.endereco;
                                        document.getElementById('celularPerfil').innerHTML = editPaciente.celular;
                                        document.getElementById('dataNascimentoPerfil').innerHTML = editPaciente.dataNascimento;
                                        document.getElementById('emailPessoalPerfil').innerHTML = editPaciente.emailPessoal;

                                        document.getElementById('validadePerfil').innerHTML = editPaciente.validade;

                                        document.getElementById('informacoesComplementaresPerfil').innerHTML = editPaciente.informacoesComplementares;



                                        if (editPaciente.codStatusCadastroPaciente == 1) {
                                            nomeStatus = "NOVO";
                                            document.getElementById("codStatusCadastroPacienteColor").style.backgroundColor = "#ff000091";
                                            //document.getElementById("codStatusCadastroPacienteColor").style.color = "red";
                                        }
                                        if (editPaciente.codStatusCadastroPaciente == 2) {
                                            nomeStatus = "LIBERADO";
                                            document.getElementById("codStatusCadastroPacienteColor").style.backgroundColor = "#28a74580";

                                        }
                                        if (editPaciente.codStatusCadastroPaciente == 3) {
                                            nomeStatus = "BLOQUEADO";
                                            nomeStatusCadastroPacienteTmp = "BLOQUEADO";
                                            document.getElementById("codStatusCadastroPacienteColor").style.backgroundColor = "#ff000091";

                                        }
                                        if (editPaciente.codStatusCadastroPaciente == 4) {
                                            nomeStatus = "DESBLOQUEADO";
                                            document.getElementById("codStatusCadastroPacienteColor").style.backgroundColor = "#28a74580";

                                        }
                                        if (editPaciente.codStatusCadastroPaciente == 5) {
                                            nomeStatus = "ARQUIVADO";
                                            document.getElementById("codStatusCadastroPacienteColor").style.backgroundColor = "#ff000091";

                                        }

                                        document.getElementById('codStatusCadastroPacienteInfo').innerHTML =
                                            '<span>' + nomeStatus + '</span>';



                                    }

















                                    Swal.fire({
                                        position: 'bottom-end',
                                        icon: 'success',
                                        title: editPaciente.messages,
                                        showConfirmButton: false,
                                        timer: 1500
                                    })

                                } else {

                                    if (editPaciente.messages instanceof Object) {
                                        $.each(editPaciente.messages, function(index, value) {
                                            var id = $("#" + index);

                                            id.closest('.form-control')
                                                .removeClass('is-invalid')
                                                .removeClass('is-valid')
                                                .addClass(value.length > 0 ? 'is-invalid' : 'is-valid');

                                            id.after(value);

                                        });
                                    } else {
                                        Swal.fire({
                                            position: 'bottom-end',
                                            icon: 'error',
                                            title: editPaciente.messages,
                                            showConfirmButton: false,
                                            timer: 1500
                                        })

                                    }
                                }
                            }
                        }).always(
                            Swal.fire({
                                title: 'Estamos atualizando as informações do paciente',
                                html: 'Aguarde....',
                                timerProgressBar: true,
                                didOpen: () => {
                                    Swal.showLoading()


                                }

                            }))

                        return false;
                    }
                });
                $('#editPacienteForm').validate();





            }
        })






    }



    function mostraLogs() {

        swal.close();
        $('#logs-modal').modal('show');

        $('#data_logs').DataTable({
            "order": [
                [0, "desc"]
            ],
            "bDestroy": true,
            "paging": true,
            "lengthChange": false,
            "searching": true,
            "ordering": true,
            "info": true,
            "autoWidth": false,
            "responsive": true,
            "ajax": {
                "url": '<?php echo base_url('pacientes/pegalogs') ?>',
                "type": "POST",
                "dataType": "json",
                async: "true",
                data: {
                    csrf_sandra: $("#csrf_sandraPrincipal").val(),
                },
            }
        });





    }



    function removeContatoTmp(codContato) {
        var form = $('#incluiContatoForm');
        $.ajax({
            url: '<?php echo base_url('pacientes/removeContatoTmp') ?>',
            type: 'post',
            //data: form.serialize(), // /converting the form data into array and sending it to server
            dataType: 'json',
            data: {
                codContato: codContato,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(incluirContatosAdd) {

                if (incluirContatosAdd.success === true) {

                    $('#data_outrosContatosAdd').DataTable().ajax.reload(null, false).draw(false);
                }
            }
        })
    }



    function removeContato(codOutroContato) {
        Swal.fire({
            title: 'Você tem certeza que deseja remover este contato?',
            text: "Você não poderá reverter após a confirmação",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {


                $.ajax({
                    url: '<?php echo base_url('pacientes/removeContato') ?>',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                        codOutroContato: codOutroContato
                    },
                    success: function(incluirContatosAdd) {

                        if (incluirContatosAdd.success === true) {

                            $('#data_outrosContatosEdit').DataTable().ajax.reload(null, false).draw(false);
                        }
                    }
                })




            }
        })
    }




    function incluiContatoEdit() {



        var form = $('#editIncluiContatoForm');
        $.ajax({
            url: '<?php echo base_url('pacientes/incluirContatoEdit') ?>',
            type: 'post',
            data: form.serialize(), // /converting the form data into array and sending it to server
            dataType: 'json',
            success: function(incluirContatosEdit) {


                if (incluirContatosEdit.success === true) {


                    $('#editOutrosContatosModal').modal('hide');

                    $('#data_outrosContatosEdit').DataTable().ajax.reload(null, false).draw(false);

                } else {
                    Swal.fire({
                        position: 'bottom-end',
                        icon: 'error',
                        html: incluirContatosEdit.messages,
                        showConfirmButton: false,
                        timer: 4000
                    })
                }
            }
        })
    }


    function alteraContato() {



        var form = $('#alteracaoContatoForm');
        $.ajax({
            url: '<?php echo base_url('pacientes/alterarContato') ?>',
            type: 'post',
            data: form.serialize(), // /converting the form data into array and sending it to server
            dataType: 'json',
            success: function(atualizarContatos) {


                if (atualizarContatos.success === true) {


                    $('#alteracaoOutrosContatosModal').modal('hide');

                    $('#data_outrosContatosEdit').DataTable().ajax.reload(null, false).draw(false);



                    var Toast = Swal.mixin({
                        toast: true,
                        position: 'bottom-end',
                        showConfirmButton: false,
                        timer: 2000
                    });
                    Toast.fire({
                        icon: 'success',
                        title: atualizarContatos.messages,
                    })

                } else {
                    Swal.fire({
                        position: 'bottom-end',
                        icon: 'error',
                        html: atualizarContatos.messages,
                        showConfirmButton: false,
                        timer: 4000
                    })
                }
            }
        })
    }


    function incluiContatoTmp() {




        var form = $('#incluiContatoForm');
        $.ajax({
            url: '<?php echo base_url('pacientes/incluirContatoTmp') ?>',
            type: 'post',
            data: form.serialize(), // /converting the form data into array and sending it to server
            dataType: 'json',
            success: function(incluirContatosAdd) {

                if (incluirContatosAdd.success === true) {

                    $('#addOutrosContatosModal').modal('hide');
                    $('#data_outrosContatosAdd').DataTable().ajax.reload(null, false).draw(false);

                } else {
                    Swal.fire({
                        position: 'bottom-end',
                        icon: 'error',
                        html: incluirContatosAdd.messages,
                        showConfirmButton: false,
                        timer: 4000
                    })
                }
            }
        })
    }


    function incluiContato() {



        var form = $('#incluiContatoForm');
        $.ajax({
            url: '<?php echo base_url('pacientes/incluirContato') ?>',
            type: 'post',
            data: form.serialize(), // /converting the form data into array and sending it to server
            dataType: 'json',
            success: function(incluirContatosAdd) {

                if (incluirContatosAdd.success === true) {

                    alert(incluirContatosAdd.messages);
                    //$('#data_tablepaciente').DataTable().ajax.reload(null, false).draw(false);

                } else {
                    alert(incluirContatosAdd.messages);

                }
            }
        })
    }



    function saveVCARD() {




        $.ajax({
            url: '<?php echo base_url('/pacientes/gerarVCARD') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(response) {

                if (response.success === true) {

                    $('#modalPacientesVCARD').modal('show');

                    document.getElementById("listaVCARD").innerHTML = response.contatos;




                    /*

                    					var pom = document.createElement('a');
                    pom.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(response.contatos));
                    pom.setAttribute('download', "test.vcf");

                    if (document.createEvent) {
                    	var event = document.createEvent('MouseEvents');
                    	event.initEvent('click', true, true);
                    	pom.dispatchEvent(event);
                    } else {
                    	pom.click();
                    }


                    */


                }

                if (response.success === false) {
                    alert('nenhum contato');
                }


            }
        })





    }




    function removeatendimentoDiagnostico(codAtendimentoDiagnostico) {
        Swal.fire({
            title: 'Você tem certeza que deseja remover?',
            text: "Você não poderá reverter após a confirmação",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {
                $.ajax({
                    url: '<?php echo base_url('atendimentoDiagnostico/remove') ?>',
                    type: 'post',
                    data: {
                        codAtendimentoDiagnostico: codAtendimentoDiagnostico,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    dataType: 'json',
                    success: function(response) {

                        if (response.success === true) {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {


                                if ($('#editarAtendimentoModal').is(':visible') == true) {

                                    $('#data_tableatendimentoDiagnostico').DataTable().ajax.reload(null, false).draw(false);

                                }

                                if ($('#controleAntimicrobianoAddModal').is(':visible') == true) {

                                    $('#data_tableatendimentoDiagnosticoAddControleAntimicrobiano').DataTable().ajax.reload(null, false).draw(false);

                                }

                            })
                        } else {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'error',
                                title: response.messages
                            })


                        }
                    }
                });
            }
        })
    }


    function removeatendimentosEvolucao(codAtendimentoEvolucao) {
        Swal.fire({
            title: 'Você tem certeza que deseja remover?',
            text: "Você não poderá reverter após a confirmação",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {
                $.ajax({
                    url: '<?php echo base_url('atendimentosEvolucoes/remove') ?>',
                    type: 'post',
                    data: {
                        codAtendimentoEvolucao: codAtendimentoEvolucao,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    dataType: 'json',
                    success: function(response) {

                        if (response.success === true) {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {
                                $('#data_tableatendimentosEvolucoes').DataTable().ajax.reload(null, false).draw(false);
                            })
                        } else {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'error',
                                title: response.messages
                            })


                        }
                    }
                });
            }
        })
    }

    function remove(codPaciente) {


        Swal.fire({
            position: 'bottom-end',
            icon: 'warning',
            title: 'Funcionalidade desativada',
            html: 'Não é possível remover pacientes do sistema.',
            showConfirmButton: false,
            timer: 4000
        })



        /*
        Swal.fire({
        	title: 'Você tem certeza que deseja remover?',
        	text: "Você não poderá reverter após a confirmação",
        	icon: 'warning',
        	showCancelButton: true,
        	confirmButtonColor: '#3085d6',
        	cancelButtonColor: '#d33',
        	confirmButtonText: 'Confirmar',
        	cancelButtonText: 'Cancelar'
        }).then((result) => {

        	if (result.value) {
        		$.ajax({
        			url: '<?php echo base_url($controller . '/remove') ?>',
        			type: 'post',
        			data: {
        				codPaciente: codPaciente,
        			csrf_sandra: $("#csrf_sandraPrincipal").val(),
        			},
        			dataType: 'json',
        			success: function(response) {

        				if (response.success === true) {
        					Swal.fire({
        						position: 'bottom-end',
        						icon: 'success',
        						title: response.messages,
        						showConfirmButton: false,
        						timer: 3000
        					}).then(function() {
        						$('#data_tablepaciente').DataTable().ajax.reload(null, false).draw(false);
        					})
        				} else {
        					Swal.fire({
        						position: 'bottom-end',
        						icon: 'error',
        						title: response.messages,
        						showConfirmButton: false,
        						timer: 1500
        					})


        				}
        			}
        		});
        	}
        })
        */
    }

    function removepacientesMedicamentosContinuo(codPacienteMedicamento) {
        Swal.fire({
            title: 'Você tem certeza que deseja remover?',
            text: "Você não poderá reverter após a confirmação",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {
                $.ajax({
                    url: '<?php echo base_url('pacientesMedicamentosContinuo/remove') ?>',
                    type: 'post',
                    data: {
                        codPacienteMedicamento: codPacienteMedicamento,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    dataType: 'json',
                    success: function(response) {

                        if (response.success === true) {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {
                                $('#data_tablepacientesMedicamentosContinuo').DataTable().ajax.reload(null, false).draw(false);
                            })
                        } else {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'error',
                                title: response.messages
                            })


                        }
                    }
                });
            }
        })
    }




    function removeatendimentosConduta(codAtendimentoConduta) {
        Swal.fire({
            title: 'Você tem certeza que deseja remover?',
            text: "Você não poderá reverter após ação",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {
                $.ajax({
                    url: '<?php echo base_url('atendimentosCondutas/remove') ?>',
                    type: 'post',
                    data: {
                        codAtendimentoConduta: codAtendimentoConduta,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    dataType: 'json',
                    success: function(response) {

                        if (response.success === true) {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {
                                $('#data_tableatendimentosCondutas').DataTable().ajax.reload(null, false).draw(false);
                            })
                        } else {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'error',
                                title: response.messages
                            })


                        }
                    }
                });
            }
        })
    }

    function confirmacaoDesativacao(codPaciente, nomeExibicao) {
        $("#confirmacaoDesativacaoForm")[0].reset();
        $('#confirmacaoDesativacaoModal').modal('show');
        $(".form-control").removeClass('is-invalid').removeClass('is-valid');

        $("#confirmacaoDesativacaoForm #codPacienteConfirmacaoDesativacao").val(codPaciente);


        document.getElementById('nomeExibicaoConfirmacaoDesativacao').innerHTML = '<span>"' + nomeExibicao + '"</span>';



        $.ajax({
            url: '<?php echo base_url('pacientes/listaDropDownMotivosInativacaoPaciente') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(motivosInativacaoPaciente) {

                $("#codMotivoInativo").select2({
                    data: motivosInativacaoPaciente,
                })

                $('#codMotivoInativo').val(null);
                $('#codMotivoInativo').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });

            }
        })


    }


    function desativarPacienteAgora() {
        $('#confirmacaoDesativacaoModal').modal('hide');
        codPaciente = $("#confirmacaoDesativacaoForm #codPacienteConfirmacaoDesativacao").val();
        codMotivoInativo = $("#confirmacaoDesativacaoForm #codMotivoInativo").val();


        $.ajax({
            url: '<?php echo base_url('/pacientes/desativarpaciente') ?>',
            type: 'post',
            data: {
                codPaciente: codPaciente,
                codMotivoInativo: codMotivoInativo,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            dataType: 'json',
            success: function(response) {

                if (response.success === true) {
                    Swal.fire({
                        position: 'bottom-end',
                        icon: 'success',
                        title: response.messages,
                        showConfirmButton: false,
                        timer: 3000
                    }).then(function() {
                        $('#data_tablepaciente').DataTable().ajax.reload(null, false).draw(false);
                    })
                } else {
                    Swal.fire({
                        position: 'bottom-end',
                        icon: 'error',
                        title: response.messages,
                        showConfirmButton: false,
                        timer: 3000
                    })


                }
            }
        }).always(
            Swal.fire({
                title: 'Estamos processando sua requisição',
                html: 'Aguarde....',
                timerProgressBar: true,
                didOpen: () => {
                    Swal.showLoading()


                }

            }))

    }

    function reativarPaciente(codPaciente) {
        Swal.fire({
            title: 'Você deseja reativar esta paciente do sistema?',
            text: "Ao reativar está paciente no sistema ela voltará a ter os mesmo acessos concedidos previamente.",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {


            if (result.value) {
                $.ajax({
                    url: '<?php echo base_url('pacientes/reativarpaciente') ?>',
                    type: 'post',
                    data: {
                        codPaciente: codPaciente,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    dataType: 'json',
                    success: function(response) {

                        if (response.success === true) {
                            Swal.fire({
                                position: 'bottom-end',
                                icon: 'success',
                                title: response.messages,
                                showConfirmButton: false,
                                timer: 1500
                            }).then(function() {
                                $('#data_tablepaciente').DataTable().ajax.reload(null, false).draw(false);
                            })
                        } else {
                            Swal.fire({
                                position: 'bottom-end',
                                icon: 'error',
                                title: response.messages,
                                showConfirmButton: false,
                                timer: 1500
                            })


                        }
                    }
                });
            }
        })
    }

    function addprescricaoProcedimento() {
        // reset the form
        $('#codProcedimentoAdd').html('').select2({
            data: [{
                id: '',
                text: ''
            }]
        });

        $("#prescricaoProcedimentoAddForm")[0].reset();
        $(".form-control").removeClass('is-invalid').removeClass('is-valid');
        $('#prescricaoProcedimentoAddModal').modal('show');

        document.getElementById("codAtendimentoPrescricaoProcedimentoAdd").value = document.getElementById("codAtendimentoPrescricaoEdit").value;



        $.ajax({
            url: '<?php echo base_url('prescricaoProcedimentos/listaDropDownProcedimentos') ?>',
            type: 'post',
            dataType: 'json',
            data: {
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            success: function(procedimentos) {

                $("#codProcedimentoAdd").select2({
                    minimumInputLength: 3,
                    quietMillis: 1000,
                    dropdownParent: $('#prescricaoProcedimentoAddModal .modal-content'),
                    data: procedimentos,
                    allowClear: true,
                    placeholder: 'Procurar Procedimento',

                })
                $('#codProcedimentoAdd').val(null);
                $('#codProcedimentoAdd').trigger('change');
                $(document).on('select2:open', () => {
                    document.querySelector('.select2-search__field').focus();
                });

            }
        })



        // submit the add from
        $.validator.setDefaults({
            highlight: function(element) {
                $(element).addClass('is-invalid').removeClass('is-valid');
            },
            unhighlight: function(element) {
                $(element).removeClass('is-invalid').addClass('is-valid');
            },
            errorElement: 'div ',
            errorClass: 'invalid-feedback',
            errorPlacement: function(error, element) {
                if (element.parent('.input-group').length) {
                    error.insertAfter(element.parent());
                } else if ($(element).is('.select')) {
                    element.next().after(error);
                } else if (element.hasClass('select2')) {
                    //error.insertAfter(element);
                    error.insertAfter(element.next());
                } else if (element.hasClass('selectpicker')) {
                    error.insertAfter(element.next());
                } else {
                    error.insertAfter(element);
                }
            },

            submitHandler: function(form) {

                var form = $('#prescricaoProcedimentoAddForm');
                // remove the text-danger
                $(".text-danger").remove();

                $.ajax({
                    url: '<?php echo base_url('PrescricaoProcedimentos/add') ?>',
                    type: 'post',
                    data: form.serialize(), // /converting the form data into array and sending it to server
                    dataType: 'json',
                    beforeSend: function() {
                        //$('#prescricaoProcedimentoAddForm-btn').html('<i class="fa fa-spinner fa-spin"></i>');
                    },
                    success: function(response) {

                        if (response.success === true) {
                            $('#prescricaoProcedimentoAddModal').modal('hide');

                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {
                                $('#data_tableprescricaoProcedimento').DataTable().ajax.reload(null, false).draw(false);
                            })

                        } else {

                            if (response.messages instanceof Object) {
                                $.each(response.messages, function(index, value) {
                                    var id = $("#" + index);

                                    id.closest('.form-control')
                                        .removeClass('is-invalid')
                                        .removeClass('is-valid')
                                        .addClass(value.length > 0 ? 'is-invalid' : 'is-valid');

                                    id.after(value);

                                });
                            } else {

                                var Toast = Swal.mixin({
                                    toast: true,
                                    position: 'bottom-end',
                                    showConfirmButton: false,
                                    timer: 2000
                                });
                                Toast.fire({
                                    icon: 'error',
                                    title: response.messages
                                })

                            }
                        }
                        $('#prescricaoProcedimentoAddForm-btn').html('Adicionar');
                    }
                });

                return false;
            }
        });
        $('#prescricaoProcedimentoAddForm').validate();
    }

    function editprescricaoProcedimento(codPrescricaoProcedimento) {

        document.getElementById("codAtendimentoPrescricaoProcedimentoEdit").value = document.getElementById("codAtendimentoPrescricaoEdit").value;




        $.ajax({
            url: '<?php echo base_url('PrescricaoProcedimentos/getOne') ?>',
            type: 'post',
            data: {
                codPrescricaoProcedimento: codPrescricaoProcedimento,
                csrf_sandra: $("#csrf_sandraPrincipal").val(),
            },
            dataType: 'json',
            success: function(response) {

                $('#codProcedimentoEdit').html('').select2({
                    data: [{
                        id: '',
                        text: ''
                    }]
                });


                $("#prescricaoProcedimentoEditForm")[0].reset();
                $(".form-control").removeClass('is-invalid').removeClass('is-valid');
                $('#prescricaoProcedimentoEditModal').modal('show');

                $("#prescricaoProcedimentoEditForm #codPrescricaoProcedimentoEdit").val(response.codPrescricaoProcedimento);
                $("#prescricaoProcedimentoEditForm #qtde").val(response.qtde);
                $("#prescricaoProcedimentoEditForm #codStatus").val(response.codStatus);
                $("#prescricaoProcedimentoEditForm #observacao").val(response.observacao);




                $.ajax({
                    url: '<?php echo base_url('prescricaoProcedimentos/listaDropDownProcedimentos') ?>',
                    type: 'post',
                    dataType: 'json',
                    data: {
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    success: function(procedimentosEdit) {

                        $("#codProcedimentoEdit").select2({
                            data: procedimentosEdit,
                            minimumInputLength: 3,
                            quietMillis: 1000,
                            dropdownParent: $('#prescricaoProcedimentoEditModal .modal-content'),
                            allowClear: true,
                            placeholder: 'Procurar Procedimento',

                        })
                        $('#codProcedimentoEdit').val(response.codProcedimento);
                        $('#codProcedimentoEdit').trigger('change');
                        $(document).on('select2:open', () => {
                            document.querySelector('.select2-search__field').focus();
                        });

                    }
                })


                // submit the edit from
                $.validator.setDefaults({
                    highlight: function(element) {
                        $(element).addClass('is-invalid').removeClass('is-valid');
                    },
                    unhighlight: function(element) {
                        $(element).removeClass('is-invalid').addClass('is-valid');
                    },
                    errorElement: 'div ',
                    errorClass: 'invalid-feedback',
                    errorPlacement: function(error, element) {
                        if (element.parent('.input-group').length) {
                            error.insertAfter(element.parent());
                        } else if ($(element).is('.select')) {
                            element.next().after(error);
                        } else if (element.hasClass('select2')) {
                            //error.insertAfter(element);
                            error.insertAfter(element.next());
                        } else if (element.hasClass('selectpicker')) {
                            error.insertAfter(element.next());
                        } else {
                            error.insertAfter(element);
                        }
                    },

                    submitHandler: function(form) {
                        var form = $('#prescricaoProcedimentoEditForm');
                        $(".text-danger").remove();
                        $.ajax({
                            url: '<?php echo base_url('PrescricaoProcedimentos/edit') ?>',
                            type: 'post',
                            data: form.serialize(),
                            dataType: 'json',
                            beforeSend: function() {
                                //$('#prescricaoProcedimentoEditForm-btn').html('<i class="fa fa-spinner fa-spin"></i>');
                            },
                            success: function(response) {

                                if (response.success === true) {

                                    $('#prescricaoProcedimentoEditModal').modal('hide');


                                    var Toast = Swal.mixin({
                                        toast: true,
                                        position: 'bottom-end',
                                        showConfirmButton: false,
                                        timer: 2000
                                    });
                                    Toast.fire({
                                        icon: 'success',
                                        title: response.messages
                                    }).then(function() {
                                        $('#data_tableprescricaoProcedimento').DataTable().ajax.reload(null, false).draw(false);
                                    })

                                } else {

                                    if (response.messages instanceof Object) {
                                        $.each(response.messages, function(index, value) {
                                            var id = $("#" + index);

                                            id.closest('.form-control')
                                                .removeClass('is-invalid')
                                                .removeClass('is-valid')
                                                .addClass(value.length > 0 ? 'is-invalid' : 'is-valid');

                                            id.after(value);

                                        });
                                    } else {
                                        var Toast = Swal.mixin({
                                            toast: true,
                                            position: 'bottom-end',
                                            showConfirmButton: false,
                                            timer: 2000
                                        });
                                        Toast.fire({
                                            icon: 'error',
                                            title: response.messages
                                        })

                                    }
                                }
                                $('#prescricaoProcedimentoEditForm-btn').html('Salvar');
                            }
                        });

                        return false;
                    }
                });
                $('#prescricaoProcedimentoEditForm').validate();

            }
        });
    }

    function removeprescricaoProcedimento(codPrescricaoProcedimento) {
        Swal.fire({
            title: 'Você tem certeza que deseja remover?',
            text: "Você não poderá reverter após a confirmação",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Confirmar',
            cancelButtonText: 'Cancelar'
        }).then((result) => {

            if (result.value) {
                $.ajax({
                    url: '<?php echo base_url('PrescricaoProcedimentos/remove') ?>',
                    type: 'post',
                    data: {
                        codPrescricaoProcedimento: codPrescricaoProcedimento,
                        csrf_sandra: $("#csrf_sandraPrincipal").val(),
                    },
                    dataType: 'json',
                    success: function(response) {

                        if (response.success === true) {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'success',
                                title: response.messages
                            }).then(function() {
                                $('#data_tableprescricaoProcedimento').DataTable().ajax.reload(null, false).draw(false);
                            })
                        } else {
                            var Toast = Swal.mixin({
                                toast: true,
                                position: 'bottom-end',
                                showConfirmButton: false,
                                timer: 2000
                            });
                            Toast.fire({
                                icon: 'error',
                                title: response.messages
                            })


                        }
                    }
                });
            }
        })
    }
</script>